function Kv(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Gv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fp={exports:{}},$a={},gp={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tr=Symbol.for("react.element"),Yv=Symbol.for("react.portal"),Xv=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),Zv=Symbol.for("react.profiler"),e0=Symbol.for("react.provider"),t0=Symbol.for("react.context"),n0=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),s0=Symbol.for("react.memo"),r0=Symbol.for("react.lazy"),md=Symbol.iterator;function a0(e){return e===null||typeof e!="object"?null:(e=md&&e[md]||e["@@iterator"],typeof e=="function"?e:null)}var xp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vp=Object.assign,yp={};function Hi(e,t,n){this.props=e,this.context=t,this.refs=yp,this.updater=n||xp}Hi.prototype.isReactComponent={};Hi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wp(){}wp.prototype=Hi.prototype;function Pc(e,t,n){this.props=e,this.context=t,this.refs=yp,this.updater=n||xp}var Tc=Pc.prototype=new wp;Tc.constructor=Pc;vp(Tc,Hi.prototype);Tc.isPureReactComponent=!0;var pd=Array.isArray,jp=Object.prototype.hasOwnProperty,Mc={current:null},bp={key:!0,ref:!0,__self:!0,__source:!0};function Np(e,t,n){var i,s={},a=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)jp.call(t,i)&&!bp.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:tr,type:e,key:a,ref:o,props:s,_owner:Mc.current}}function o0(e,t){return{$$typeof:tr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ic(e){return typeof e=="object"&&e!==null&&e.$$typeof===tr}function l0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fd=/\/+/g;function jo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?l0(""+e.key):t.toString(36)}function Hr(e,t,n,i,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tr:case Yv:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+jo(o,0):i,pd(s)?(n="",e!=null&&(n=e.replace(fd,"$&/")+"/"),Hr(s,t,n,"",function(u){return u})):s!=null&&(Ic(s)&&(s=o0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",pd(e))for(var l=0;l<e.length;l++){a=e[l];var c=i+jo(a,l);o+=Hr(a,t,n,c,s)}else if(c=a0(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=i+jo(a,l++),o+=Hr(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gr(e,t,n){if(e==null)return e;var i=[],s=0;return Hr(e,i,"","",function(a){return t.call(n,a,s++)}),i}function c0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Qr={transition:null},u0={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Qr,ReactCurrentOwner:Mc};function Sp(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:gr,forEach:function(e,t,n){gr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gr(e,function(){t++}),t},toArray:function(e){return gr(e,function(t){return t})||[]},only:function(e){if(!Ic(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Hi;Q.Fragment=Xv;Q.Profiler=Zv;Q.PureComponent=Pc;Q.StrictMode=Jv;Q.Suspense=i0;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0;Q.act=Sp;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=vp({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Mc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)jp.call(t,c)&&!bp.hasOwnProperty(c)&&(i[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:tr,type:e.type,key:s,ref:a,props:i,_owner:o}};Q.createContext=function(e){return e={$$typeof:t0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:e0,_context:e},e.Consumer=e};Q.createElement=Np;Q.createFactory=function(e){var t=Np.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:n0,render:e}};Q.isValidElement=Ic;Q.lazy=function(e){return{$$typeof:r0,_payload:{_status:-1,_result:e},_init:c0}};Q.memo=function(e,t){return{$$typeof:s0,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Qr.transition;Qr.transition={};try{e()}finally{Qr.transition=t}};Q.unstable_act=Sp;Q.useCallback=function(e,t){return Be.current.useCallback(e,t)};Q.useContext=function(e){return Be.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Be.current.useEffect(e,t)};Q.useId=function(){return Be.current.useId()};Q.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Be.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};Q.useRef=function(e){return Be.current.useRef(e)};Q.useState=function(e){return Be.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Be.current.useTransition()};Q.version="18.3.1";gp.exports=Q;var p=gp.exports;const kp=Gv(p),d0=Kv({__proto__:null,default:kp},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0=p,m0=Symbol.for("react.element"),p0=Symbol.for("react.fragment"),f0=Object.prototype.hasOwnProperty,g0=h0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x0={key:!0,ref:!0,__self:!0,__source:!0};function Cp(e,t,n){var i,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)f0.call(t,i)&&!x0.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:m0,type:e,key:a,ref:o,props:s,_owner:g0.current}}$a.Fragment=p0;$a.jsx=Cp;$a.jsxs=Cp;fp.exports=$a;var r=fp.exports,ml={},_p={exports:{}},st={},Ep={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,E){var R=S.length;S.push(E);e:for(;0<R;){var F=R-1>>>1,W=S[F];if(0<s(W,E))S[F]=E,S[R]=W,R=F;else break e}}function n(S){return S.length===0?null:S[0]}function i(S){if(S.length===0)return null;var E=S[0],R=S.pop();if(R!==E){S[0]=R;e:for(var F=0,W=S.length,Y=W>>>1;F<Y;){var U=2*(F+1)-1,B=S[U],X=U+1,tn=S[X];if(0>s(B,R))X<W&&0>s(tn,B)?(S[F]=tn,S[X]=R,F=X):(S[F]=B,S[U]=R,F=U);else if(X<W&&0>s(tn,R))S[F]=tn,S[X]=R,F=X;else break e}}return E}function s(S,E){var R=S.sortIndex-E.sortIndex;return R!==0?R:S.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,v=!1,y=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(S){for(var E=n(u);E!==null;){if(E.callback===null)i(u);else if(E.startTime<=S)i(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=n(u)}}function w(S){if(j=!1,g(S),!y)if(n(c)!==null)y=!0,Ve(b);else{var E=n(u);E!==null&&k(w,E.startTime-S)}}function b(S,E){y=!1,j&&(j=!1,x(_),_=-1),v=!0;var R=m;try{for(g(E),h=n(c);h!==null&&(!(h.expirationTime>E)||S&&!V());){var F=h.callback;if(typeof F=="function"){h.callback=null,m=h.priorityLevel;var W=F(h.expirationTime<=E);E=e.unstable_now(),typeof W=="function"?h.callback=W:h===n(c)&&i(c),g(E)}else i(c);h=n(c)}if(h!==null)var Y=!0;else{var U=n(u);U!==null&&k(w,U.startTime-E),Y=!1}return Y}finally{h=null,m=R,v=!1}}var C=!1,P=null,_=-1,M=5,L=-1;function V(){return!(e.unstable_now()-L<M)}function T(){if(P!==null){var S=e.unstable_now();L=S;var E=!0;try{E=P(!0,S)}finally{E?z():(C=!1,P=null)}}else C=!1}var z;if(typeof f=="function")z=function(){f(T)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ke=ae.port2;ae.port1.onmessage=T,z=function(){ke.postMessage(null)}}else z=function(){N(T,0)};function Ve(S){P=S,C||(C=!0,z())}function k(S,E){_=N(function(){S(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,Ve(b))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(m){case 1:case 2:case 3:var E=3;break;default:E=m}var R=m;m=E;try{return S()}finally{m=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,E){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=m;m=S;try{return E()}finally{m=R}},e.unstable_scheduleCallback=function(S,E,R){var F=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?F+R:F):R=F,S){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=R+W,S={id:d++,callback:E,priorityLevel:S,startTime:R,expirationTime:W,sortIndex:-1},R>F?(S.sortIndex=R,t(u,S),n(c)===null&&S===n(u)&&(j?(x(_),_=-1):j=!0,k(w,R-F))):(S.sortIndex=W,t(c,S),y||v||(y=!0,Ve(b))),S},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(S){var E=m;return function(){var R=m;m=E;try{return S.apply(this,arguments)}finally{m=R}}}})(Pp);Ep.exports=Pp;var v0=Ep.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=p,nt=v0;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tp=new Set,Ps={};function si(e,t){Ai(e,t),Ai(e+"Capture",t)}function Ai(e,t){for(Ps[e]=t,e=0;e<t.length;e++)Tp.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=Object.prototype.hasOwnProperty,w0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gd={},xd={};function j0(e){return pl.call(xd,e)?!0:pl.call(gd,e)?!1:w0.test(e)?xd[e]=!0:(gd[e]=!0,!1)}function b0(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N0(e,t,n,i){if(t===null||typeof t>"u"||b0(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,i,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function Rc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ac,Rc);Me[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ac,Rc);Me[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ac,Rc);Me[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lc(e,t,n,i){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N0(t,n,s,i)&&(n=null),i||s===null?j0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Jt=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xr=Symbol.for("react.element"),ui=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),Dc=Symbol.for("react.strict_mode"),fl=Symbol.for("react.profiler"),Mp=Symbol.for("react.provider"),Ip=Symbol.for("react.context"),qc=Symbol.for("react.forward_ref"),gl=Symbol.for("react.suspense"),xl=Symbol.for("react.suspense_list"),Oc=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),Ap=Symbol.for("react.offscreen"),vd=Symbol.iterator;function Zi(e){return e===null||typeof e!="object"?null:(e=vd&&e[vd]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,bo;function cs(e){if(bo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bo=t&&t[1]||""}return`
`+bo+e}var No=!1;function So(e,t){if(!e||No)return"";No=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=i.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{No=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cs(e):""}function S0(e){switch(e.tag){case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return e=So(e.type,!1),e;case 11:return e=So(e.type.render,!1),e;case 1:return e=So(e.type,!0),e;default:return""}}function vl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case di:return"Fragment";case ui:return"Portal";case fl:return"Profiler";case Dc:return"StrictMode";case gl:return"Suspense";case xl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ip:return(e.displayName||"Context")+".Consumer";case Mp:return(e._context.displayName||"Context")+".Provider";case qc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oc:return t=e.displayName||null,t!==null?t:vl(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return vl(e(t))}catch{}}return null}function k0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vl(t);case 8:return t===Dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C0(e){var t=Rp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vr(e){e._valueTracker||(e._valueTracker=C0(e))}function Lp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Rp(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function la(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yl(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yd(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dp(e,t){t=t.checked,t!=null&&Lc(e,"checked",t,!1)}function wl(e,t){Dp(e,t);var n=Cn(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jl(e,t.type,n):t.hasOwnProperty("defaultValue")&&jl(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jl(e,t,n){(t!=="number"||la(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var us=Array.isArray;function _i(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(us(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cn(n)}}function qp(e,t){var n=Cn(t.value),i=Cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Op(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Op(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yr,Vp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yr=yr||document.createElement("div"),yr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ts(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_0=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(e){_0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gs[t]=gs[e]})});function Fp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gs.hasOwnProperty(e)&&gs[e]?(""+t).trim():t+"px"}function zp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Fp(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var E0=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(e,t){if(t){if(E0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=null;function Vc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,Ei=null,Pi=null;function Nd(e){if(e=sr(e)){if(typeof _l!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Ka(t),_l(e.stateNode,e.type,t))}}function Bp(e){Ei?Pi?Pi.push(e):Pi=[e]:Ei=e}function $p(){if(Ei){var e=Ei,t=Pi;if(Pi=Ei=null,Nd(e),t)for(e=0;e<t.length;e++)Nd(t[e])}}function Up(e,t){return e(t)}function Wp(){}var ko=!1;function Hp(e,t,n){if(ko)return e(t,n);ko=!0;try{return Up(e,t,n)}finally{ko=!1,(Ei!==null||Pi!==null)&&(Wp(),$p())}}function Ms(e,t){var n=e.stateNode;if(n===null)return null;var i=Ka(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var El=!1;if(Ht)try{var es={};Object.defineProperty(es,"passive",{get:function(){El=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{El=!1}function P0(e,t,n,i,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xs=!1,ca=null,ua=!1,Pl=null,T0={onError:function(e){xs=!0,ca=e}};function M0(e,t,n,i,s,a,o,l,c){xs=!1,ca=null,P0.apply(T0,arguments)}function I0(e,t,n,i,s,a,o,l,c){if(M0.apply(this,arguments),xs){if(xs){var u=ca;xs=!1,ca=null}else throw Error(A(198));ua||(ua=!0,Pl=u)}}function ri(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sd(e){if(ri(e)!==e)throw Error(A(188))}function A0(e){var t=e.alternate;if(!t){if(t=ri(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Sd(s),e;if(a===i)return Sd(s),t;a=a.sibling}throw Error(A(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Kp(e){return e=A0(e),e!==null?Gp(e):null}function Gp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gp(e);if(t!==null)return t;e=e.sibling}return null}var Yp=nt.unstable_scheduleCallback,kd=nt.unstable_cancelCallback,R0=nt.unstable_shouldYield,L0=nt.unstable_requestPaint,ve=nt.unstable_now,D0=nt.unstable_getCurrentPriorityLevel,Fc=nt.unstable_ImmediatePriority,Xp=nt.unstable_UserBlockingPriority,da=nt.unstable_NormalPriority,q0=nt.unstable_LowPriority,Jp=nt.unstable_IdlePriority,Ua=null,Mt=null;function O0(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ua,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:z0,V0=Math.log,F0=Math.LN2;function z0(e){return e>>>=0,e===0?32:31-(V0(e)/F0|0)|0}var wr=64,jr=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ha(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=ds(l):(a&=o,a!==0&&(i=ds(a)))}else o=n&~s,o!==0?i=ds(o):a!==0&&(i=ds(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Nt(t),s=1<<n,i|=e[n],t&=~s;return i}function B0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Nt(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&i)&&(s[o]=B0(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zp(){var e=wr;return wr<<=1,!(wr&4194240)&&(wr=64),e}function Co(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function U0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Nt(n),a=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~a}}function zc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Nt(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var ee=0;function ef(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tf,Bc,nf,sf,rf,Ml=!1,br=[],fn=null,gn=null,xn=null,Is=new Map,As=new Map,on=[],W0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cd(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(t.pointerId)}}function ts(e,t,n,i,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=sr(t),t!==null&&Bc(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function H0(e,t,n,i,s){switch(t){case"focusin":return fn=ts(fn,e,t,n,i,s),!0;case"dragenter":return gn=ts(gn,e,t,n,i,s),!0;case"mouseover":return xn=ts(xn,e,t,n,i,s),!0;case"pointerover":var a=s.pointerId;return Is.set(a,ts(Is.get(a)||null,e,t,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,As.set(a,ts(As.get(a)||null,e,t,n,i,s)),!0}return!1}function af(e){var t=$n(e.target);if(t!==null){var n=ri(t);if(n!==null){if(t=n.tag,t===13){if(t=Qp(n),t!==null){e.blockedOn=t,rf(e.priority,function(){nf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Cl=i,n.target.dispatchEvent(i),Cl=null}else return t=sr(n),t!==null&&Bc(t),e.blockedOn=n,!1;t.shift()}return!0}function _d(e,t,n){Kr(e)&&n.delete(t)}function Q0(){Ml=!1,fn!==null&&Kr(fn)&&(fn=null),gn!==null&&Kr(gn)&&(gn=null),xn!==null&&Kr(xn)&&(xn=null),Is.forEach(_d),As.forEach(_d)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,Ml||(Ml=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Q0)))}function Rs(e){function t(s){return ns(s,e)}if(0<br.length){ns(br[0],e);for(var n=1;n<br.length;n++){var i=br[n];i.blockedOn===e&&(i.blockedOn=null)}}for(fn!==null&&ns(fn,e),gn!==null&&ns(gn,e),xn!==null&&ns(xn,e),Is.forEach(t),As.forEach(t),n=0;n<on.length;n++)i=on[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)af(n),n.blockedOn===null&&on.shift()}var Ti=Jt.ReactCurrentBatchConfig,ma=!0;function K0(e,t,n,i){var s=ee,a=Ti.transition;Ti.transition=null;try{ee=1,$c(e,t,n,i)}finally{ee=s,Ti.transition=a}}function G0(e,t,n,i){var s=ee,a=Ti.transition;Ti.transition=null;try{ee=4,$c(e,t,n,i)}finally{ee=s,Ti.transition=a}}function $c(e,t,n,i){if(ma){var s=Il(e,t,n,i);if(s===null)Do(e,t,i,pa,n),Cd(e,i);else if(H0(s,e,t,n,i))i.stopPropagation();else if(Cd(e,i),t&4&&-1<W0.indexOf(e)){for(;s!==null;){var a=sr(s);if(a!==null&&tf(a),a=Il(e,t,n,i),a===null&&Do(e,t,i,pa,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Do(e,t,i,null,n)}}var pa=null;function Il(e,t,n,i){if(pa=null,e=Vc(i),e=$n(e),e!==null)if(t=ri(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pa=e,null}function of(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D0()){case Fc:return 1;case Xp:return 4;case da:case q0:return 16;case Jp:return 536870912;default:return 16}default:return 16}}var un=null,Uc=null,Gr=null;function lf(){if(Gr)return Gr;var e,t=Uc,n=t.length,i,s="value"in un?un.value:un.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===s[a-i];i++);return Gr=s.slice(e,1<i?1-i:void 0)}function Yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nr(){return!0}function Ed(){return!1}function rt(e){function t(n,i,s,a,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nr:Ed,this.isPropagationStopped=Ed,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),t}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=rt(Qi),ir=he({},Qi,{view:0,detail:0}),Y0=rt(ir),_o,Eo,is,Wa=he({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(_o=e.screenX-is.screenX,Eo=e.screenY-is.screenY):Eo=_o=0,is=e),_o)},movementY:function(e){return"movementY"in e?e.movementY:Eo}}),Pd=rt(Wa),X0=he({},Wa,{dataTransfer:0}),J0=rt(X0),Z0=he({},ir,{relatedTarget:0}),Po=rt(Z0),ey=he({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),ty=rt(ey),ny=he({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iy=rt(ny),sy=he({},Qi,{data:0}),Td=rt(sy),ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ly(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oy[e])?!!t[e]:!1}function Hc(){return ly}var cy=he({},ir,{key:function(e){if(e.key){var t=ry[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ay[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(e){return e.type==="keypress"?Yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uy=rt(cy),dy=he({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Md=rt(dy),hy=he({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),my=rt(hy),py=he({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),fy=rt(py),gy=he({},Wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xy=rt(gy),vy=[9,13,27,32],Qc=Ht&&"CompositionEvent"in window,vs=null;Ht&&"documentMode"in document&&(vs=document.documentMode);var yy=Ht&&"TextEvent"in window&&!vs,cf=Ht&&(!Qc||vs&&8<vs&&11>=vs),Id=" ",Ad=!1;function uf(e,t){switch(e){case"keyup":return vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hi=!1;function wy(e,t){switch(e){case"compositionend":return df(t);case"keypress":return t.which!==32?null:(Ad=!0,Id);case"textInput":return e=t.data,e===Id&&Ad?null:e;default:return null}}function jy(e,t){if(hi)return e==="compositionend"||!Qc&&uf(e,t)?(e=lf(),Gr=Uc=un=null,hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cf&&t.locale!=="ko"?null:t.data;default:return null}}var by={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!by[e.type]:t==="textarea"}function hf(e,t,n,i){Bp(i),t=fa(t,"onChange"),0<t.length&&(n=new Wc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ys=null,Ls=null;function Ny(e){Nf(e,0)}function Ha(e){var t=fi(e);if(Lp(t))return e}function Sy(e,t){if(e==="change")return t}var mf=!1;if(Ht){var To;if(Ht){var Mo="oninput"in document;if(!Mo){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Mo=typeof Ld.oninput=="function"}To=Mo}else To=!1;mf=To&&(!document.documentMode||9<document.documentMode)}function Dd(){ys&&(ys.detachEvent("onpropertychange",pf),Ls=ys=null)}function pf(e){if(e.propertyName==="value"&&Ha(Ls)){var t=[];hf(t,Ls,e,Vc(e)),Hp(Ny,t)}}function ky(e,t,n){e==="focusin"?(Dd(),ys=t,Ls=n,ys.attachEvent("onpropertychange",pf)):e==="focusout"&&Dd()}function Cy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ha(Ls)}function _y(e,t){if(e==="click")return Ha(t)}function Ey(e,t){if(e==="input"||e==="change")return Ha(t)}function Py(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Py;function Ds(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!pl.call(t,s)||!kt(e[s],t[s]))return!1}return!0}function qd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Od(e,t){var n=qd(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qd(n)}}function ff(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ff(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gf(){for(var e=window,t=la();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=la(e.document)}return t}function Kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ty(e){var t=gf(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ff(n.ownerDocument.documentElement,n)){if(i!==null&&Kc(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=Od(n,a);var o=Od(n,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var My=Ht&&"documentMode"in document&&11>=document.documentMode,mi=null,Al=null,ws=null,Rl=!1;function Vd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rl||mi==null||mi!==la(i)||(i=mi,"selectionStart"in i&&Kc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ws&&Ds(ws,i)||(ws=i,i=fa(Al,"onSelect"),0<i.length&&(t=new Wc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pi={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Io={},xf={};Ht&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function Qa(e){if(Io[e])return Io[e];if(!pi[e])return e;var t=pi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xf)return Io[e]=t[n];return e}var vf=Qa("animationend"),yf=Qa("animationiteration"),wf=Qa("animationstart"),jf=Qa("transitionend"),bf=new Map,Fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){bf.set(e,t),si(t,[e])}for(var Ao=0;Ao<Fd.length;Ao++){var Ro=Fd[Ao],Iy=Ro.toLowerCase(),Ay=Ro[0].toUpperCase()+Ro.slice(1);Tn(Iy,"on"+Ay)}Tn(vf,"onAnimationEnd");Tn(yf,"onAnimationIteration");Tn(wf,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(jf,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ry=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function zd(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,I0(i,t,void 0,e),e.currentTarget=null}function Nf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;zd(s,l,u),a=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;zd(s,l,u),a=c}}}if(ua)throw e=Pl,ua=!1,Pl=null,e}function ne(e,t){var n=t[Vl];n===void 0&&(n=t[Vl]=new Set);var i=e+"__bubble";n.has(i)||(Sf(t,e,2,!1),n.add(i))}function Lo(e,t,n){var i=0;t&&(i|=4),Sf(n,e,i,t)}var kr="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[kr]){e[kr]=!0,Tp.forEach(function(n){n!=="selectionchange"&&(Ry.has(n)||Lo(n,!1,e),Lo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kr]||(t[kr]=!0,Lo("selectionchange",!1,t))}}function Sf(e,t,n,i){switch(of(t)){case 1:var s=K0;break;case 4:s=G0;break;default:s=$c}n=s.bind(null,t,n,e),s=void 0,!El||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Do(e,t,n,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=$n(l),o===null)return;if(c=o.tag,c===5||c===6){i=a=o;continue e}l=l.parentNode}}i=i.return}Hp(function(){var u=a,d=Vc(n),h=[];e:{var m=bf.get(e);if(m!==void 0){var v=Wc,y=e;switch(e){case"keypress":if(Yr(n)===0)break e;case"keydown":case"keyup":v=uy;break;case"focusin":y="focus",v=Po;break;case"focusout":y="blur",v=Po;break;case"beforeblur":case"afterblur":v=Po;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=J0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=my;break;case vf:case yf:case wf:v=ty;break;case jf:v=fy;break;case"scroll":v=Y0;break;case"wheel":v=xy;break;case"copy":case"cut":case"paste":v=iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Md}var j=(t&4)!==0,N=!j&&e==="scroll",x=j?m!==null?m+"Capture":null:m;j=[];for(var f=u,g;f!==null;){g=f;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,x!==null&&(w=Ms(f,x),w!=null&&j.push(Os(f,w,g)))),N)break;f=f.return}0<j.length&&(m=new v(m,y,null,n,d),h.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==Cl&&(y=n.relatedTarget||n.fromElement)&&($n(y)||y[Qt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?$n(y):null,y!==null&&(N=ri(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(j=Pd,w="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=Md,w="onPointerLeave",x="onPointerEnter",f="pointer"),N=v==null?m:fi(v),g=y==null?m:fi(y),m=new j(w,f+"leave",v,n,d),m.target=N,m.relatedTarget=g,w=null,$n(d)===u&&(j=new j(x,f+"enter",y,n,d),j.target=g,j.relatedTarget=N,w=j),N=w,v&&y)t:{for(j=v,x=y,f=0,g=j;g;g=ci(g))f++;for(g=0,w=x;w;w=ci(w))g++;for(;0<f-g;)j=ci(j),f--;for(;0<g-f;)x=ci(x),g--;for(;f--;){if(j===x||x!==null&&j===x.alternate)break t;j=ci(j),x=ci(x)}j=null}else j=null;v!==null&&Bd(h,m,v,j,!1),y!==null&&N!==null&&Bd(h,N,y,j,!0)}}e:{if(m=u?fi(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var b=Sy;else if(Rd(m))if(mf)b=Ey;else{b=Cy;var C=ky}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=_y);if(b&&(b=b(e,u))){hf(h,b,n,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&jl(m,"number",m.value)}switch(C=u?fi(u):window,e){case"focusin":(Rd(C)||C.contentEditable==="true")&&(mi=C,Al=u,ws=null);break;case"focusout":ws=Al=mi=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,Vd(h,n,d);break;case"selectionchange":if(My)break;case"keydown":case"keyup":Vd(h,n,d)}var P;if(Qc)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else hi?uf(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(cf&&n.locale!=="ko"&&(hi||_!=="onCompositionStart"?_==="onCompositionEnd"&&hi&&(P=lf()):(un=d,Uc="value"in un?un.value:un.textContent,hi=!0)),C=fa(u,_),0<C.length&&(_=new Td(_,e,null,n,d),h.push({event:_,listeners:C}),P?_.data=P:(P=df(n),P!==null&&(_.data=P)))),(P=yy?wy(e,n):jy(e,n))&&(u=fa(u,"onBeforeInput"),0<u.length&&(d=new Td("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=P))}Nf(h,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fa(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ms(e,n),a!=null&&i.unshift(Os(e,a,s)),a=Ms(e,t),a!=null&&i.push(Os(e,a,s))),e=e.return}return i}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bd(e,t,n,i,s){for(var a=t._reactName,o=[];n!==null&&n!==i;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,s?(c=Ms(n,a),c!=null&&o.unshift(Os(n,c,l))):s||(c=Ms(n,a),c!=null&&o.push(Os(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ly=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function $d(e){return(typeof e=="string"?e:""+e).replace(Ly,`
`).replace(Dy,"")}function Cr(e,t,n){if(t=$d(t),$d(e)!==t&&n)throw Error(A(425))}function ga(){}var Ll=null,Dl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,qy=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,Oy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(e){return Ud.resolve(null).then(e).catch(Vy)}:Ol;function Vy(e){setTimeout(function(){throw e})}function qo(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Rs(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Rs(t)}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Ki,Vs="__reactProps$"+Ki,Qt="__reactContainer$"+Ki,Vl="__reactEvents$"+Ki,Fy="__reactListeners$"+Ki,zy="__reactHandles$"+Ki;function $n(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qt]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wd(e);e!==null;){if(n=e[Tt])return n;e=Wd(e)}return t}e=n,n=e.parentNode}return null}function sr(e){return e=e[Tt]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Ka(e){return e[Vs]||null}var Fl=[],gi=-1;function Mn(e){return{current:e}}function ie(e){0>gi||(e.current=Fl[gi],Fl[gi]=null,gi--)}function te(e,t){gi++,Fl[gi]=e.current,e.current=t}var _n={},Oe=Mn(_n),Ge=Mn(!1),Jn=_n;function Ri(e,t){var n=e.type.contextTypes;if(!n)return _n;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ye(e){return e=e.childContextTypes,e!=null}function xa(){ie(Ge),ie(Oe)}function Hd(e,t,n){if(Oe.current!==_n)throw Error(A(168));te(Oe,t),te(Ge,n)}function kf(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(A(108,k0(e)||"Unknown",s));return he({},n,i)}function va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,Jn=Oe.current,te(Oe,e),te(Ge,Ge.current),!0}function Qd(e,t,n){var i=e.stateNode;if(!i)throw Error(A(169));n?(e=kf(e,t,Jn),i.__reactInternalMemoizedMergedChildContext=e,ie(Ge),ie(Oe),te(Oe,e)):ie(Ge),te(Ge,n)}var Ft=null,Ga=!1,Oo=!1;function Cf(e){Ft===null?Ft=[e]:Ft.push(e)}function By(e){Ga=!0,Cf(e)}function In(){if(!Oo&&Ft!==null){Oo=!0;var e=0,t=ee;try{var n=Ft;for(ee=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Ft=null,Ga=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(e+1)),Yp(Fc,In),s}finally{ee=t,Oo=!1}}return null}var xi=[],vi=0,ya=null,wa=0,ut=[],dt=0,Zn=null,zt=1,Bt="";function Vn(e,t){xi[vi++]=wa,xi[vi++]=ya,ya=e,wa=t}function _f(e,t,n){ut[dt++]=zt,ut[dt++]=Bt,ut[dt++]=Zn,Zn=e;var i=zt;e=Bt;var s=32-Nt(i)-1;i&=~(1<<s),n+=1;var a=32-Nt(t)+s;if(30<a){var o=s-s%5;a=(i&(1<<o)-1).toString(32),i>>=o,s-=o,zt=1<<32-Nt(t)+s|n<<s|i,Bt=a+e}else zt=1<<a|n<<s|i,Bt=e}function Gc(e){e.return!==null&&(Vn(e,1),_f(e,1,0))}function Yc(e){for(;e===ya;)ya=xi[--vi],xi[vi]=null,wa=xi[--vi],xi[vi]=null;for(;e===Zn;)Zn=ut[--dt],ut[dt]=null,Bt=ut[--dt],ut[dt]=null,zt=ut[--dt],ut[dt]=null}var et=null,Ze=null,re=!1,bt=null;function Ef(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:zt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bl(e){if(re){var t=Ze;if(t){var n=t;if(!Kd(e,t)){if(zl(e))throw Error(A(418));t=vn(n.nextSibling);var i=et;t&&Kd(e,t)?Ef(i,n):(e.flags=e.flags&-4097|2,re=!1,et=e)}}else{if(zl(e))throw Error(A(418));e.flags=e.flags&-4097|2,re=!1,et=e}}}function Gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function _r(e){if(e!==et)return!1;if(!re)return Gd(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=Ze)){if(zl(e))throw Pf(),Error(A(418));for(;t;)Ef(e,t),t=vn(t.nextSibling)}if(Gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?vn(e.stateNode.nextSibling):null;return!0}function Pf(){for(var e=Ze;e;)e=vn(e.nextSibling)}function Li(){Ze=et=null,re=!1}function Xc(e){bt===null?bt=[e]:bt.push(e)}var $y=Jt.ReactCurrentBatchConfig;function ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var i=n.stateNode}if(!i)throw Error(A(147,e));var s=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Er(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yd(e){var t=e._init;return t(e._payload)}function Tf(e){function t(x,f){if(e){var g=x.deletions;g===null?(x.deletions=[f],x.flags|=16):g.push(f)}}function n(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function i(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function s(x,f){return x=bn(x,f),x.index=0,x.sibling=null,x}function a(x,f,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<f?(x.flags|=2,f):g):(x.flags|=2,f)):(x.flags|=1048576,f)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,f,g,w){return f===null||f.tag!==6?(f=Wo(g,x.mode,w),f.return=x,f):(f=s(f,g),f.return=x,f)}function c(x,f,g,w){var b=g.type;return b===di?d(x,f,g.props.children,w,g.key):f!==null&&(f.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===rn&&Yd(b)===f.type)?(w=s(f,g.props),w.ref=ss(x,f,g),w.return=x,w):(w=ia(g.type,g.key,g.props,null,x.mode,w),w.ref=ss(x,f,g),w.return=x,w)}function u(x,f,g,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Ho(g,x.mode,w),f.return=x,f):(f=s(f,g.children||[]),f.return=x,f)}function d(x,f,g,w,b){return f===null||f.tag!==7?(f=Kn(g,x.mode,w,b),f.return=x,f):(f=s(f,g),f.return=x,f)}function h(x,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Wo(""+f,x.mode,g),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xr:return g=ia(f.type,f.key,f.props,null,x.mode,g),g.ref=ss(x,null,f),g.return=x,g;case ui:return f=Ho(f,x.mode,g),f.return=x,f;case rn:var w=f._init;return h(x,w(f._payload),g)}if(us(f)||Zi(f))return f=Kn(f,x.mode,g,null),f.return=x,f;Er(x,f)}return null}function m(x,f,g,w){var b=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:l(x,f,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xr:return g.key===b?c(x,f,g,w):null;case ui:return g.key===b?u(x,f,g,w):null;case rn:return b=g._init,m(x,f,b(g._payload),w)}if(us(g)||Zi(g))return b!==null?null:d(x,f,g,w,null);Er(x,g)}return null}function v(x,f,g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(g)||null,l(f,x,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xr:return x=x.get(w.key===null?g:w.key)||null,c(f,x,w,b);case ui:return x=x.get(w.key===null?g:w.key)||null,u(f,x,w,b);case rn:var C=w._init;return v(x,f,g,C(w._payload),b)}if(us(w)||Zi(w))return x=x.get(g)||null,d(f,x,w,b,null);Er(f,w)}return null}function y(x,f,g,w){for(var b=null,C=null,P=f,_=f=0,M=null;P!==null&&_<g.length;_++){P.index>_?(M=P,P=null):M=P.sibling;var L=m(x,P,g[_],w);if(L===null){P===null&&(P=M);break}e&&P&&L.alternate===null&&t(x,P),f=a(L,f,_),C===null?b=L:C.sibling=L,C=L,P=M}if(_===g.length)return n(x,P),re&&Vn(x,_),b;if(P===null){for(;_<g.length;_++)P=h(x,g[_],w),P!==null&&(f=a(P,f,_),C===null?b=P:C.sibling=P,C=P);return re&&Vn(x,_),b}for(P=i(x,P);_<g.length;_++)M=v(P,x,_,g[_],w),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?_:M.key),f=a(M,f,_),C===null?b=M:C.sibling=M,C=M);return e&&P.forEach(function(V){return t(x,V)}),re&&Vn(x,_),b}function j(x,f,g,w){var b=Zi(g);if(typeof b!="function")throw Error(A(150));if(g=b.call(g),g==null)throw Error(A(151));for(var C=b=null,P=f,_=f=0,M=null,L=g.next();P!==null&&!L.done;_++,L=g.next()){P.index>_?(M=P,P=null):M=P.sibling;var V=m(x,P,L.value,w);if(V===null){P===null&&(P=M);break}e&&P&&V.alternate===null&&t(x,P),f=a(V,f,_),C===null?b=V:C.sibling=V,C=V,P=M}if(L.done)return n(x,P),re&&Vn(x,_),b;if(P===null){for(;!L.done;_++,L=g.next())L=h(x,L.value,w),L!==null&&(f=a(L,f,_),C===null?b=L:C.sibling=L,C=L);return re&&Vn(x,_),b}for(P=i(x,P);!L.done;_++,L=g.next())L=v(P,x,_,L.value,w),L!==null&&(e&&L.alternate!==null&&P.delete(L.key===null?_:L.key),f=a(L,f,_),C===null?b=L:C.sibling=L,C=L);return e&&P.forEach(function(T){return t(x,T)}),re&&Vn(x,_),b}function N(x,f,g,w){if(typeof g=="object"&&g!==null&&g.type===di&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case xr:e:{for(var b=g.key,C=f;C!==null;){if(C.key===b){if(b=g.type,b===di){if(C.tag===7){n(x,C.sibling),f=s(C,g.props.children),f.return=x,x=f;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===rn&&Yd(b)===C.type){n(x,C.sibling),f=s(C,g.props),f.ref=ss(x,C,g),f.return=x,x=f;break e}n(x,C);break}else t(x,C);C=C.sibling}g.type===di?(f=Kn(g.props.children,x.mode,w,g.key),f.return=x,x=f):(w=ia(g.type,g.key,g.props,null,x.mode,w),w.ref=ss(x,f,g),w.return=x,x=w)}return o(x);case ui:e:{for(C=g.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(x,f.sibling),f=s(f,g.children||[]),f.return=x,x=f;break e}else{n(x,f);break}else t(x,f);f=f.sibling}f=Ho(g,x.mode,w),f.return=x,x=f}return o(x);case rn:return C=g._init,N(x,f,C(g._payload),w)}if(us(g))return y(x,f,g,w);if(Zi(g))return j(x,f,g,w);Er(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(x,f.sibling),f=s(f,g),f.return=x,x=f):(n(x,f),f=Wo(g,x.mode,w),f.return=x,x=f),o(x)):n(x,f)}return N}var Di=Tf(!0),Mf=Tf(!1),ja=Mn(null),ba=null,yi=null,Jc=null;function Zc(){Jc=yi=ba=null}function eu(e){var t=ja.current;ie(ja),e._currentValue=t}function $l(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Mi(e,t){ba=e,Jc=yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Jc!==e)if(e={context:e,memoizedValue:t,next:null},yi===null){if(ba===null)throw Error(A(308));yi=e,ba.dependencies={lanes:0,firstContext:e}}else yi=yi.next=e;return t}var Un=null;function tu(e){Un===null?Un=[e]:Un.push(e)}function If(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,tu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kt(e,i)}function Kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var an=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Af(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,K&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Kt(e,n)}return s=i.interleaved,s===null?(t.next=t,tu(i)):(t.next=s.next,s.next=t),i.interleaved=t,Kt(e,n)}function Xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zc(e,n)}}function Xd(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Na(e,t,n,i){var s=e.updateQueue;an=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,v=l.eventTime;if((i&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,j=l;switch(m=t,v=n,j.tag){case 1:if(y=j.payload,typeof y=="function"){h=y.call(v,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,m=typeof y=="function"?y.call(v,h,m):y,m==null)break e;h=he({},h,m);break e;case 2:an=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ti|=o,e.lanes=o,e.memoizedState=h}}function Jd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(A(191,s));s.call(i)}}}var rr={},It=Mn(rr),Fs=Mn(rr),zs=Mn(rr);function Wn(e){if(e===rr)throw Error(A(174));return e}function iu(e,t){switch(te(zs,t),te(Fs,e),te(It,rr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nl(t,e)}ie(It),te(It,t)}function qi(){ie(It),ie(Fs),ie(zs)}function Rf(e){Wn(zs.current);var t=Wn(It.current),n=Nl(t,e.type);t!==n&&(te(Fs,e),te(It,n))}function su(e){Fs.current===e&&(ie(It),ie(Fs))}var oe=Mn(0);function Sa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=[];function ru(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var Jr=Jt.ReactCurrentDispatcher,Fo=Jt.ReactCurrentBatchConfig,ei=0,ue=null,be=null,Ce=null,ka=!1,js=!1,Bs=0,Uy=0;function Ie(){throw Error(A(321))}function au(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function ou(e,t,n,i,s,a){if(ei=a,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jr.current=e===null||e.memoizedState===null?Ky:Gy,e=n(i,s),js){a=0;do{if(js=!1,Bs=0,25<=a)throw Error(A(301));a+=1,Ce=be=null,t.updateQueue=null,Jr.current=Yy,e=n(i,s)}while(js)}if(Jr.current=Ca,t=be!==null&&be.next!==null,ei=0,Ce=be=ue=null,ka=!1,t)throw Error(A(300));return e}function lu(){var e=Bs!==0;return Bs=0,e}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ue.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ft(){if(be===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ce===null?ue.memoizedState:Ce.next;if(t!==null)Ce=t,be=e;else{if(e===null)throw Error(A(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ce===null?ue.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function $s(e,t){return typeof t=="function"?t(e):t}function zo(e){var t=ft(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var i=be,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ei&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=i):c=c.next=h,ue.lanes|=d,ti|=d}u=u.next}while(u!==null&&u!==a);c===null?o=i:c.next=l,kt(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do a=s.lane,ue.lanes|=a,ti|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bo(e){var t=ft(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);kt(a,t.memoizedState)||(Ke=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Lf(){}function Df(e,t){var n=ue,i=ft(),s=t(),a=!kt(i.memoizedState,s);if(a&&(i.memoizedState=s,Ke=!0),i=i.queue,cu(Vf.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Us(9,Of.bind(null,n,i,s,t),void 0,null),_e===null)throw Error(A(349));ei&30||qf(n,t,s)}return s}function qf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Of(e,t,n,i){t.value=n,t.getSnapshot=i,Ff(t)&&zf(e)}function Vf(e,t,n){return n(function(){Ff(t)&&zf(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function zf(e){var t=Kt(e,1);t!==null&&St(t,e,1,-1)}function Zd(e){var t=Pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=Qy.bind(null,ue,e),[t.memoizedState,e]}function Us(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Bf(){return ft().memoizedState}function Zr(e,t,n,i){var s=Pt();ue.flags|=e,s.memoizedState=Us(1|t,n,void 0,i===void 0?null:i)}function Ya(e,t,n,i){var s=ft();i=i===void 0?null:i;var a=void 0;if(be!==null){var o=be.memoizedState;if(a=o.destroy,i!==null&&au(i,o.deps)){s.memoizedState=Us(t,n,a,i);return}}ue.flags|=e,s.memoizedState=Us(1|t,n,a,i)}function eh(e,t){return Zr(8390656,8,e,t)}function cu(e,t){return Ya(2048,8,e,t)}function $f(e,t){return Ya(4,2,e,t)}function Uf(e,t){return Ya(4,4,e,t)}function Wf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hf(e,t,n){return n=n!=null?n.concat([e]):null,Ya(4,4,Wf.bind(null,t,e),n)}function uu(){}function Qf(e,t){var n=ft();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&au(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Kf(e,t){var n=ft();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&au(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Gf(e,t,n){return ei&21?(kt(n,t)||(n=Zp(),ue.lanes|=n,ti|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function Wy(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var i=Fo.transition;Fo.transition={};try{e(!1),t()}finally{ee=n,Fo.transition=i}}function Yf(){return ft().memoizedState}function Hy(e,t,n){var i=jn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Xf(e))Jf(t,n);else if(n=If(e,t,n,i),n!==null){var s=ze();St(n,e,i,s),Zf(n,t,i)}}function Qy(e,t,n){var i=jn(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xf(e))Jf(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,kt(l,o)){var c=t.interleaved;c===null?(s.next=s,tu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=If(e,t,s,i),n!==null&&(s=ze(),St(n,e,i,s),Zf(n,t,i))}}function Xf(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Jf(e,t){js=ka=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zf(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zc(e,n)}}var Ca={readContext:pt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Ky={readContext:pt,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:eh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zr(4194308,4,Wf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zr(4,2,e,t)},useMemo:function(e,t){var n=Pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Pt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Hy.bind(null,ue,e),[i.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:Zd,useDebugValue:uu,useDeferredValue:function(e){return Pt().memoizedState=e},useTransition:function(){var e=Zd(!1),t=e[0];return e=Wy.bind(null,e[1]),Pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ue,s=Pt();if(re){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),_e===null)throw Error(A(349));ei&30||qf(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,eh(Vf.bind(null,i,a,e),[e]),i.flags|=2048,Us(9,Of.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Pt(),t=_e.identifierPrefix;if(re){var n=Bt,i=zt;n=(i&~(1<<32-Nt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Uy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gy={readContext:pt,useCallback:Qf,useContext:pt,useEffect:cu,useImperativeHandle:Hf,useInsertionEffect:$f,useLayoutEffect:Uf,useMemo:Kf,useReducer:zo,useRef:Bf,useState:function(){return zo($s)},useDebugValue:uu,useDeferredValue:function(e){var t=ft();return Gf(t,be.memoizedState,e)},useTransition:function(){var e=zo($s)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Lf,useSyncExternalStore:Df,useId:Yf,unstable_isNewReconciler:!1},Yy={readContext:pt,useCallback:Qf,useContext:pt,useEffect:cu,useImperativeHandle:Hf,useInsertionEffect:$f,useLayoutEffect:Uf,useMemo:Kf,useReducer:Bo,useRef:Bf,useState:function(){return Bo($s)},useDebugValue:uu,useDeferredValue:function(e){var t=ft();return be===null?t.memoizedState=e:Gf(t,be.memoizedState,e)},useTransition:function(){var e=Bo($s)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Lf,useSyncExternalStore:Df,useId:Yf,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ul(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xa={isMounted:function(e){return(e=e._reactInternals)?ri(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ze(),s=jn(e),a=$t(i,s);a.payload=t,n!=null&&(a.callback=n),t=yn(e,a,s),t!==null&&(St(t,e,s,i),Xr(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ze(),s=jn(e),a=$t(i,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=yn(e,a,s),t!==null&&(St(t,e,s,i),Xr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),i=jn(e),s=$t(n,i);s.tag=2,t!=null&&(s.callback=t),t=yn(e,s,i),t!==null&&(St(t,e,i,n),Xr(t,e,i))}};function th(e,t,n,i,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ds(n,i)||!Ds(s,a):!0}function eg(e,t,n){var i=!1,s=_n,a=t.contextType;return typeof a=="object"&&a!==null?a=pt(a):(s=Ye(t)?Jn:Oe.current,i=t.contextTypes,a=(i=i!=null)?Ri(e,s):_n),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xa,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function nh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Xa.enqueueReplaceState(t,t.state,null)}function Wl(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},nu(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=pt(a):(a=Ye(t)?Jn:Oe.current,s.context=Ri(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ul(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Xa.enqueueReplaceState(s,s.state,null),Na(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Oi(e,t){try{var n="",i=t;do n+=S0(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function $o(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xy=typeof WeakMap=="function"?WeakMap:Map;function tg(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ea||(Ea=!0,nc=i),Hl(e,t)},n}function ng(e,t,n){n=$t(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){Hl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Hl(e,t),typeof i!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ih(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Xy;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=d1.bind(null,e,t,n),t.then(e,e))}function sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rh(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,yn(n,t,1))),n.lanes|=1),e)}var Jy=Jt.ReactCurrentOwner,Ke=!1;function Fe(e,t,n,i){t.child=e===null?Mf(t,null,n,i):Di(t,e.child,n,i)}function ah(e,t,n,i,s){n=n.render;var a=t.ref;return Mi(t,s),i=ou(e,t,n,i,a,s),n=lu(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gt(e,t,s)):(re&&n&&Gc(t),t.flags|=1,Fe(e,t,i,s),t.child)}function oh(e,t,n,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!vu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ig(e,t,a,i,s)):(e=ia(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ds,n(o,i)&&e.ref===t.ref)return Gt(e,t,s)}return t.flags|=1,e=bn(a,i),e.ref=t.ref,e.return=t,t.child=e}function ig(e,t,n,i,s){if(e!==null){var a=e.memoizedProps;if(Ds(a,i)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=i=a,(e.lanes&s)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Gt(e,t,s)}return Ql(e,t,n,i,s)}function sg(e,t,n){var i=t.pendingProps,s=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(ji,Je),Je|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(ji,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,te(ji,Je),Je|=i}else a!==null?(i=a.baseLanes|n,t.memoizedState=null):i=n,te(ji,Je),Je|=i;return Fe(e,t,s,n),t.child}function rg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ql(e,t,n,i,s){var a=Ye(n)?Jn:Oe.current;return a=Ri(t,a),Mi(t,s),n=ou(e,t,n,i,a,s),i=lu(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gt(e,t,s)):(re&&i&&Gc(t),t.flags|=1,Fe(e,t,n,s),t.child)}function lh(e,t,n,i,s){if(Ye(n)){var a=!0;va(t)}else a=!1;if(Mi(t,s),t.stateNode===null)ea(e,t),eg(t,n,i),Wl(t,n,i,s),i=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=Ye(n)?Jn:Oe.current,u=Ri(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==u)&&nh(t,o,i,u),an=!1;var m=t.memoizedState;o.state=m,Na(t,i,o,s),c=t.memoizedState,l!==i||m!==c||Ge.current||an?(typeof d=="function"&&(Ul(t,n,d,i),c=t.memoizedState),(l=an||th(t,n,l,i,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Af(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wt(t.type,l),o.props=u,h=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=pt(c):(c=Ye(n)?Jn:Oe.current,c=Ri(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&nh(t,o,i,c),an=!1,m=t.memoizedState,o.state=m,Na(t,i,o,s);var y=t.memoizedState;l!==h||m!==y||Ge.current||an?(typeof v=="function"&&(Ul(t,n,v,i),y=t.memoizedState),(u=an||th(t,n,u,i,m,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),o.props=i,o.state=y,o.context=c,i=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return Kl(e,t,n,i,a,s)}function Kl(e,t,n,i,s,a){rg(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&Qd(t,n,!1),Gt(e,t,a);i=t.stateNode,Jy.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Di(t,e.child,null,a),t.child=Di(t,null,l,a)):Fe(e,t,l,a),t.memoizedState=i.state,s&&Qd(t,n,!0),t.child}function ag(e){var t=e.stateNode;t.pendingContext?Hd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hd(e,t.context,!1),iu(e,t.containerInfo)}function ch(e,t,n,i,s){return Li(),Xc(s),t.flags|=256,Fe(e,t,n,i),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function Yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function og(e,t,n){var i=t.pendingProps,s=oe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(oe,s&1),e===null)return Bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=eo(o,i,0,null),e=Kn(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Yl(n),t.memoizedState=Gl,e):du(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Zy(e,t,o,i,l,s,n);if(a){a=i.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=c,t.deletions=null):(i=bn(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=bn(l,a):(a=Kn(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=e.child.memoizedState,o=o===null?Yl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Gl,i}return a=e.child,e=a.sibling,i=bn(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function du(e,t){return t=eo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pr(e,t,n,i){return i!==null&&Xc(i),Di(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zy(e,t,n,i,s,a,o){if(n)return t.flags&256?(t.flags&=-257,i=$o(Error(A(422))),Pr(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=eo({mode:"visible",children:i.children},s,0,null),a=Kn(a,s,o,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&Di(t,e.child,null,o),t.child.memoizedState=Yl(o),t.memoizedState=Gl,a);if(!(t.mode&1))return Pr(e,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,a=Error(A(419)),i=$o(a,i,void 0),Pr(e,t,o,i)}if(l=(o&e.childLanes)!==0,Ke||l){if(i=_e,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Kt(e,s),St(i,e,s,-1))}return xu(),i=$o(Error(A(421))),Pr(e,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=h1.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ze=vn(s.nextSibling),et=t,re=!0,bt=null,e!==null&&(ut[dt++]=zt,ut[dt++]=Bt,ut[dt++]=Zn,zt=e.id,Bt=e.overflow,Zn=t),t=du(t,i.children),t.flags|=4096,t)}function uh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),$l(e.return,t,n)}function Uo(e,t,n,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function lg(e,t,n){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(Fe(e,t,i.children,n),i=oe.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uh(e,n,t);else if(e.tag===19)uh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(te(oe,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Sa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Uo(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Uo(t,!0,n,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ea(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ti|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function e1(e,t,n){switch(t.tag){case 3:ag(t),Li();break;case 5:Rf(t);break;case 1:Ye(t.type)&&va(t);break;case 4:iu(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;te(ja,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(te(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?og(e,t,n):(te(oe,oe.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);te(oe,oe.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return lg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(oe,oe.current),i)break;return null;case 22:case 23:return t.lanes=0,sg(e,t,n)}return Gt(e,t,n)}var cg,Xl,ug,dg;cg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xl=function(){};ug=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Wn(It.current);var a=null;switch(n){case"input":s=yl(e,s),i=yl(e,i),a=[];break;case"select":s=he({},s,{value:void 0}),i=he({},i,{value:void 0}),a=[];break;case"textarea":s=bl(e,s),i=bl(e,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ga)}Sl(n,i);var o;n=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ps.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ps.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};dg=function(e,t,n,i){n!==i&&(t.flags|=4)};function rs(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function t1(e,t,n){var i=t.pendingProps;switch(Yc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ye(t.type)&&xa(),Ae(t),null;case 3:return i=t.stateNode,qi(),ie(Ge),ie(Oe),ru(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(_r(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(rc(bt),bt=null))),Xl(e,t),Ae(t),null;case 5:su(t);var s=Wn(zs.current);if(n=t.type,e!==null&&t.stateNode!=null)ug(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(A(166));return Ae(t),null}if(e=Wn(It.current),_r(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[Tt]=t,i[Vs]=a,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",i),ne("close",i);break;case"iframe":case"object":case"embed":ne("load",i);break;case"video":case"audio":for(s=0;s<hs.length;s++)ne(hs[s],i);break;case"source":ne("error",i);break;case"img":case"image":case"link":ne("error",i),ne("load",i);break;case"details":ne("toggle",i);break;case"input":yd(i,a),ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},ne("invalid",i);break;case"textarea":jd(i,a),ne("invalid",i)}Sl(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?i.textContent!==l&&(a.suppressHydrationWarning!==!0&&Cr(i.textContent,l,e),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Cr(i.textContent,l,e),s=["children",""+l]):Ps.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",i)}switch(n){case"input":vr(i),wd(i,a,!0);break;case"textarea":vr(i),bd(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=ga)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Op(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Tt]=t,e[Vs]=i,cg(e,t,!1,!1),t.stateNode=e;e:{switch(o=kl(n,i),n){case"dialog":ne("cancel",e),ne("close",e),s=i;break;case"iframe":case"object":case"embed":ne("load",e),s=i;break;case"video":case"audio":for(s=0;s<hs.length;s++)ne(hs[s],e);s=i;break;case"source":ne("error",e),s=i;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=i;break;case"details":ne("toggle",e),s=i;break;case"input":yd(e,i),s=yl(e,i),ne("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=he({},i,{value:void 0}),ne("invalid",e);break;case"textarea":jd(e,i),s=bl(e,i),ne("invalid",e);break;default:s=i}Sl(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?zp(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vp(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ts(e,c):typeof c=="number"&&Ts(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ps.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ne("scroll",e):c!=null&&Lc(e,a,c,o))}switch(n){case"input":vr(e),wd(e,i,!1);break;case"textarea":vr(e),bd(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Cn(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?_i(e,!!i.multiple,a,!1):i.defaultValue!=null&&_i(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ga)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)dg(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(A(166));if(n=Wn(zs.current),Wn(It.current),_r(t)){if(i=t.stateNode,n=t.memoizedProps,i[Tt]=t,(a=i.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:Cr(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cr(i.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Tt]=t,t.stateNode=i}return Ae(t),null;case 13:if(ie(oe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Ze!==null&&t.mode&1&&!(t.flags&128))Pf(),Li(),t.flags|=98560,a=!1;else if(a=_r(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(A(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[Tt]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),a=!1}else bt!==null&&(rc(bt),bt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?Ne===0&&(Ne=3):xu())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return qi(),Xl(e,t),e===null&&qs(t.stateNode.containerInfo),Ae(t),null;case 10:return eu(t.type._context),Ae(t),null;case 17:return Ye(t.type)&&xa(),Ae(t),null;case 19:if(ie(oe),a=t.memoizedState,a===null)return Ae(t),null;if(i=(t.flags&128)!==0,o=a.rendering,o===null)if(i)rs(a,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sa(e),o!==null){for(t.flags|=128,rs(a,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)a=n,e=i,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(oe,oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&ve()>Vi&&(t.flags|=128,i=!0,rs(a,!1),t.lanes=4194304)}else{if(!i)if(e=Sa(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!re)return Ae(t),null}else 2*ve()-a.renderingStartTime>Vi&&n!==1073741824&&(t.flags|=128,i=!0,rs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ve(),t.sibling=null,n=oe.current,te(oe,i?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return gu(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Je&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function n1(e,t){switch(Yc(t),t.tag){case 1:return Ye(t.type)&&xa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qi(),ie(Ge),ie(Oe),ru(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return su(t),null;case 13:if(ie(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(oe),null;case 4:return qi(),null;case 10:return eu(t.type._context),null;case 22:case 23:return gu(),null;case 24:return null;default:return null}}var Tr=!1,Le=!1,i1=typeof WeakSet=="function"?WeakSet:Set,O=null;function wi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){fe(e,t,i)}else n.current=null}function Jl(e,t,n){try{n()}catch(i){fe(e,t,i)}}var dh=!1;function s1(e,t){if(Ll=ma,e=gf(),Kc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==a||i!==0&&h.nodeType!==3||(c=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=o),m===a&&++d===i&&(c=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dl={focusedElem:e,selectionRange:n},ma=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,N=y.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?j:wt(t.type,j),N);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){fe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return y=dh,dh=!1,y}function bs(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Jl(t,n,a)}s=s.next}while(s!==i)}}function Ja(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Zl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hg(e){var t=e.alternate;t!==null&&(e.alternate=null,hg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[Vs],delete t[Vl],delete t[Fy],delete t[zy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mg(e){return e.tag===5||e.tag===3||e.tag===4}function hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ec(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ga));else if(i!==4&&(e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}function tc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}var Ee=null,jt=!1;function nn(e,t,n){for(n=n.child;n!==null;)pg(e,t,n),n=n.sibling}function pg(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ua,n)}catch{}switch(n.tag){case 5:Le||wi(n,t);case 6:var i=Ee,s=jt;Ee=null,nn(e,t,n),Ee=i,jt=s,Ee!==null&&(jt?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(jt?(e=Ee,n=n.stateNode,e.nodeType===8?qo(e.parentNode,n):e.nodeType===1&&qo(e,n),Rs(e)):qo(Ee,n.stateNode));break;case 4:i=Ee,s=jt,Ee=n.stateNode.containerInfo,jt=!0,nn(e,t,n),Ee=i,jt=s;break;case 0:case 11:case 14:case 15:if(!Le&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jl(n,t,o),s=s.next}while(s!==i)}nn(e,t,n);break;case 1:if(!Le&&(wi(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){fe(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(Le=(i=Le)||n.memoizedState!==null,nn(e,t,n),Le=i):nn(e,t,n);break;default:nn(e,t,n)}}function mh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new i1),t.forEach(function(i){var s=m1.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ee=l.stateNode,jt=!1;break e;case 3:Ee=l.stateNode.containerInfo,jt=!0;break e;case 4:Ee=l.stateNode.containerInfo,jt=!0;break e}l=l.return}if(Ee===null)throw Error(A(160));pg(a,o,s),Ee=null,jt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){fe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fg(t,e),t=t.sibling}function fg(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),_t(e),i&4){try{bs(3,e,e.return),Ja(3,e)}catch(j){fe(e,e.return,j)}try{bs(5,e,e.return)}catch(j){fe(e,e.return,j)}}break;case 1:vt(t,e),_t(e),i&512&&n!==null&&wi(n,n.return);break;case 5:if(vt(t,e),_t(e),i&512&&n!==null&&wi(n,n.return),e.flags&32){var s=e.stateNode;try{Ts(s,"")}catch(j){fe(e,e.return,j)}}if(i&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Dp(s,a),kl(l,o);var u=kl(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?zp(s,h):d==="dangerouslySetInnerHTML"?Vp(s,h):d==="children"?Ts(s,h):Lc(s,d,h,u)}switch(l){case"input":wl(s,a);break;case"textarea":qp(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?_i(s,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?_i(s,!!a.multiple,a.defaultValue,!0):_i(s,!!a.multiple,a.multiple?[]:"",!1))}s[Vs]=a}catch(j){fe(e,e.return,j)}}break;case 6:if(vt(t,e),_t(e),i&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(j){fe(e,e.return,j)}}break;case 3:if(vt(t,e),_t(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Rs(t.containerInfo)}catch(j){fe(e,e.return,j)}break;case 4:vt(t,e),_t(e);break;case 13:vt(t,e),_t(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(pu=ve())),i&4&&mh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||d,vt(t,e),Le=u):vt(t,e),_t(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(m=O,v=m.child,m.tag){case 0:case 11:case 14:case 15:bs(4,m,m.return);break;case 1:wi(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){i=m,n=m.return;try{t=i,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){fe(i,n,j)}}break;case 5:wi(m,m.return);break;case 22:if(m.memoizedState!==null){fh(h);continue}}v!==null?(v.return=m,O=v):fh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Fp("display",o))}catch(j){fe(e,e.return,j)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(j){fe(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vt(t,e),_t(e),i&4&&mh(e);break;case 21:break;default:vt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mg(n)){var i=n;break e}n=n.return}throw Error(A(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ts(s,""),i.flags&=-33);var a=hh(e);tc(e,a,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=hh(e);ec(e,l,o);break;default:throw Error(A(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r1(e,t,n){O=e,gg(e)}function gg(e,t,n){for(var i=(e.mode&1)!==0;O!==null;){var s=O,a=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Tr;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Le;l=Tr;var u=Le;if(Tr=o,(Le=c)&&!u)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?gh(s):c!==null?(c.return=o,O=c):gh(s);for(;a!==null;)O=a,gg(a),a=a.sibling;O=s,Tr=l,Le=u}ph(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,O=a):ph(e)}}function ph(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||Ja(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Le)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Jd(t,a,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Le||t.flags&512&&Zl(t)}catch(m){fe(t,t.return,m)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function fh(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function gh(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ja(4,t)}catch(c){fe(t,n,c)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(c){fe(t,s,c)}}var a=t.return;try{Zl(t)}catch(c){fe(t,a,c)}break;case 5:var o=t.return;try{Zl(t)}catch(c){fe(t,o,c)}}}catch(c){fe(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var a1=Math.ceil,_a=Jt.ReactCurrentDispatcher,hu=Jt.ReactCurrentOwner,mt=Jt.ReactCurrentBatchConfig,K=0,_e=null,we=null,Te=0,Je=0,ji=Mn(0),Ne=0,Ws=null,ti=0,Za=0,mu=0,Ns=null,He=null,pu=0,Vi=1/0,Vt=null,Ea=!1,nc=null,wn=null,Mr=!1,dn=null,Pa=0,Ss=0,ic=null,ta=-1,na=0;function ze(){return K&6?ve():ta!==-1?ta:ta=ve()}function jn(e){return e.mode&1?K&2&&Te!==0?Te&-Te:$y.transition!==null?(na===0&&(na=Zp()),na):(e=ee,e!==0||(e=window.event,e=e===void 0?16:of(e.type)),e):1}function St(e,t,n,i){if(50<Ss)throw Ss=0,ic=null,Error(A(185));nr(e,n,i),(!(K&2)||e!==_e)&&(e===_e&&(!(K&2)&&(Za|=n),Ne===4&&ln(e,Te)),Xe(e,i),n===1&&K===0&&!(t.mode&1)&&(Vi=ve()+500,Ga&&In()))}function Xe(e,t){var n=e.callbackNode;$0(e,t);var i=ha(e,e===_e?Te:0);if(i===0)n!==null&&kd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&kd(n),t===1)e.tag===0?By(xh.bind(null,e)):Cf(xh.bind(null,e)),Oy(function(){!(K&6)&&In()}),n=null;else{switch(ef(i)){case 1:n=Fc;break;case 4:n=Xp;break;case 16:n=da;break;case 536870912:n=Jp;break;default:n=da}n=Sg(n,xg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xg(e,t){if(ta=-1,na=0,K&6)throw Error(A(327));var n=e.callbackNode;if(Ii()&&e.callbackNode!==n)return null;var i=ha(e,e===_e?Te:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Ta(e,i);else{t=i;var s=K;K|=2;var a=yg();(_e!==e||Te!==t)&&(Vt=null,Vi=ve()+500,Qn(e,t));do try{c1();break}catch(l){vg(e,l)}while(!0);Zc(),_a.current=a,K=s,we!==null?t=0:(_e=null,Te=0,t=Ne)}if(t!==0){if(t===2&&(s=Tl(e),s!==0&&(i=s,t=sc(e,s))),t===1)throw n=Ws,Qn(e,0),ln(e,i),Xe(e,ve()),n;if(t===6)ln(e,i);else{if(s=e.current.alternate,!(i&30)&&!o1(s)&&(t=Ta(e,i),t===2&&(a=Tl(e),a!==0&&(i=a,t=sc(e,a))),t===1))throw n=Ws,Qn(e,0),ln(e,i),Xe(e,ve()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(A(345));case 2:Fn(e,He,Vt);break;case 3:if(ln(e,i),(i&130023424)===i&&(t=pu+500-ve(),10<t)){if(ha(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ol(Fn.bind(null,e,He,Vt),t);break}Fn(e,He,Vt);break;case 4:if(ln(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-Nt(i);a=1<<o,o=t[o],o>s&&(s=o),i&=~a}if(i=s,i=ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*a1(i/1960))-i,10<i){e.timeoutHandle=Ol(Fn.bind(null,e,He,Vt),i);break}Fn(e,He,Vt);break;case 5:Fn(e,He,Vt);break;default:throw Error(A(329))}}}return Xe(e,ve()),e.callbackNode===n?xg.bind(null,e):null}function sc(e,t){var n=Ns;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=Ta(e,t),e!==2&&(t=He,He=n,t!==null&&rc(t)),e}function rc(e){He===null?He=e:He.push.apply(He,e)}function o1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!kt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~mu,t&=~Za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),i=1<<n;e[n]=-1,t&=~i}}function xh(e){if(K&6)throw Error(A(327));Ii();var t=ha(e,0);if(!(t&1))return Xe(e,ve()),null;var n=Ta(e,t);if(e.tag!==0&&n===2){var i=Tl(e);i!==0&&(t=i,n=sc(e,i))}if(n===1)throw n=Ws,Qn(e,0),ln(e,t),Xe(e,ve()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,He,Vt),Xe(e,ve()),null}function fu(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(Vi=ve()+500,Ga&&In())}}function ni(e){dn!==null&&dn.tag===0&&!(K&6)&&Ii();var t=K;K|=1;var n=mt.transition,i=ee;try{if(mt.transition=null,ee=1,e)return e()}finally{ee=i,mt.transition=n,K=t,!(K&6)&&In()}}function gu(){Je=ji.current,ie(ji)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qy(n)),we!==null)for(n=we.return;n!==null;){var i=n;switch(Yc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xa();break;case 3:qi(),ie(Ge),ie(Oe),ru();break;case 5:su(i);break;case 4:qi();break;case 13:ie(oe);break;case 19:ie(oe);break;case 10:eu(i.type._context);break;case 22:case 23:gu()}n=n.return}if(_e=e,we=e=bn(e.current,null),Te=Je=t,Ne=0,Ws=null,mu=Za=ti=0,He=Ns=null,Un!==null){for(t=0;t<Un.length;t++)if(n=Un[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,i.next=o}n.pending=i}Un=null}return e}function vg(e,t){do{var n=we;try{if(Zc(),Jr.current=Ca,ka){for(var i=ue.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ka=!1}if(ei=0,Ce=be=ue=null,js=!1,Bs=0,hu.current=null,n===null||n.return===null){Ne=1,Ws=t,we=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Te,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=sh(o);if(v!==null){v.flags&=-257,rh(v,o,l,a,t),v.mode&1&&ih(a,u,t),t=v,c=u;var y=t.updateQueue;if(y===null){var j=new Set;j.add(c),t.updateQueue=j}else y.add(c);break e}else{if(!(t&1)){ih(a,u,t),xu();break e}c=Error(A(426))}}else if(re&&l.mode&1){var N=sh(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),rh(N,o,l,a,t),Xc(Oi(c,l));break e}}a=c=Oi(c,l),Ne!==4&&(Ne=2),Ns===null?Ns=[a]:Ns.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=tg(a,c,t);Xd(a,x);break e;case 1:l=c;var f=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(wn===null||!wn.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=ng(a,l,t);Xd(a,w);break e}}a=a.return}while(a!==null)}jg(n)}catch(b){t=b,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function yg(){var e=_a.current;return _a.current=Ca,e===null?Ca:e}function xu(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),_e===null||!(ti&268435455)&&!(Za&268435455)||ln(_e,Te)}function Ta(e,t){var n=K;K|=2;var i=yg();(_e!==e||Te!==t)&&(Vt=null,Qn(e,t));do try{l1();break}catch(s){vg(e,s)}while(!0);if(Zc(),K=n,_a.current=i,we!==null)throw Error(A(261));return _e=null,Te=0,Ne}function l1(){for(;we!==null;)wg(we)}function c1(){for(;we!==null&&!R0();)wg(we)}function wg(e){var t=Ng(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?jg(e):we=t,hu.current=null}function jg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=n1(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,we=null;return}}else if(n=t1(n,t,Je),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ne===0&&(Ne=5)}function Fn(e,t,n){var i=ee,s=mt.transition;try{mt.transition=null,ee=1,u1(e,t,n,i)}finally{mt.transition=s,ee=i}return null}function u1(e,t,n,i){do Ii();while(dn!==null);if(K&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(U0(e,a),e===_e&&(we=_e=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mr||(Mr=!0,Sg(da,function(){return Ii(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=mt.transition,mt.transition=null;var o=ee;ee=1;var l=K;K|=4,hu.current=null,s1(e,n),fg(n,e),Ty(Dl),ma=!!Ll,Dl=Ll=null,e.current=n,r1(n),L0(),K=l,ee=o,mt.transition=a}else e.current=n;if(Mr&&(Mr=!1,dn=e,Pa=s),a=e.pendingLanes,a===0&&(wn=null),O0(n.stateNode),Xe(e,ve()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Ea)throw Ea=!1,e=nc,nc=null,e;return Pa&1&&e.tag!==0&&Ii(),a=e.pendingLanes,a&1?e===ic?Ss++:(Ss=0,ic=e):Ss=0,In(),null}function Ii(){if(dn!==null){var e=ef(Pa),t=mt.transition,n=ee;try{if(mt.transition=null,ee=16>e?16:e,dn===null)var i=!1;else{if(e=dn,dn=null,Pa=0,K&6)throw Error(A(331));var s=K;for(K|=4,O=e.current;O!==null;){var a=O,o=a.child;if(O.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:bs(8,d,a)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var m=d.sibling,v=d.return;if(hg(d),d===u){O=null;break}if(m!==null){m.return=v,O=m;break}O=v}}}var y=a.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var N=j.sibling;j.sibling=null,j=N}while(j!==null)}}O=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,O=o;else e:for(;O!==null;){if(a=O,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bs(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,O=x;break e}O=a.return}}var f=e.current;for(O=f;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=f;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ja(9,l)}}catch(b){fe(l,l.return,b)}if(l===o){O=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,O=w;break e}O=l.return}}if(K=s,In(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ua,e)}catch{}i=!0}return i}finally{ee=n,mt.transition=t}}return!1}function vh(e,t,n){t=Oi(n,t),t=tg(e,t,1),e=yn(e,t,1),t=ze(),e!==null&&(nr(e,1,t),Xe(e,t))}function fe(e,t,n){if(e.tag===3)vh(e,e,n);else for(;t!==null;){if(t.tag===3){vh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(wn===null||!wn.has(i))){e=Oi(n,e),e=ng(t,e,1),t=yn(t,e,1),e=ze(),t!==null&&(nr(t,1,e),Xe(t,e));break}}t=t.return}}function d1(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Te&n)===n&&(Ne===4||Ne===3&&(Te&130023424)===Te&&500>ve()-pu?Qn(e,0):mu|=n),Xe(e,t)}function bg(e,t){t===0&&(e.mode&1?(t=jr,jr<<=1,!(jr&130023424)&&(jr=4194304)):t=1);var n=ze();e=Kt(e,t),e!==null&&(nr(e,t,n),Xe(e,n))}function h1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bg(e,n)}function m1(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(A(314))}i!==null&&i.delete(t),bg(e,n)}var Ng;Ng=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,e1(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,re&&t.flags&1048576&&_f(t,wa,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ea(e,t),e=t.pendingProps;var s=Ri(t,Oe.current);Mi(t,n),s=ou(null,t,i,e,s,n);var a=lu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(i)?(a=!0,va(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nu(t),s.updater=Xa,t.stateNode=s,s._reactInternals=t,Wl(t,i,e,n),t=Kl(null,t,i,!0,a,n)):(t.tag=0,re&&a&&Gc(t),Fe(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ea(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=f1(i),e=wt(i,e),s){case 0:t=Ql(null,t,i,e,n);break e;case 1:t=lh(null,t,i,e,n);break e;case 11:t=ah(null,t,i,e,n);break e;case 14:t=oh(null,t,i,wt(i.type,e),n);break e}throw Error(A(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:wt(i,s),Ql(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:wt(i,s),lh(e,t,i,s,n);case 3:e:{if(ag(t),e===null)throw Error(A(387));i=t.pendingProps,a=t.memoizedState,s=a.element,Af(e,t),Na(t,i,null,n);var o=t.memoizedState;if(i=o.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Oi(Error(A(423)),t),t=ch(e,t,i,n,s);break e}else if(i!==s){s=Oi(Error(A(424)),t),t=ch(e,t,i,n,s);break e}else for(Ze=vn(t.stateNode.containerInfo.firstChild),et=t,re=!0,bt=null,n=Mf(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Li(),i===s){t=Gt(e,t,n);break e}Fe(e,t,i,n)}t=t.child}return t;case 5:return Rf(t),e===null&&Bl(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,ql(i,s)?o=null:a!==null&&ql(i,a)&&(t.flags|=32),rg(e,t),Fe(e,t,o,n),t.child;case 6:return e===null&&Bl(t),null;case 13:return og(e,t,n);case 4:return iu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Di(t,null,i,n):Fe(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:wt(i,s),ah(e,t,i,s,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,te(ja,i._currentValue),i._currentValue=o,a!==null)if(kt(a.value,o)){if(a.children===s.children&&!Ge.current){t=Gt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(a.tag===1){c=$t(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),$l(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(A(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$l(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Fe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Mi(t,n),s=pt(s),i=i(s),t.flags|=1,Fe(e,t,i,n),t.child;case 14:return i=t.type,s=wt(i,t.pendingProps),s=wt(i.type,s),oh(e,t,i,s,n);case 15:return ig(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:wt(i,s),ea(e,t),t.tag=1,Ye(i)?(e=!0,va(t)):e=!1,Mi(t,n),eg(t,i,s),Wl(t,i,s,n),Kl(null,t,i,!0,e,n);case 19:return lg(e,t,n);case 22:return sg(e,t,n)}throw Error(A(156,t.tag))};function Sg(e,t){return Yp(e,t)}function p1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,i){return new p1(e,t,n,i)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f1(e){if(typeof e=="function")return vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qc)return 11;if(e===Oc)return 14}return 2}function bn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ia(e,t,n,i,s,a){var o=2;if(i=e,typeof e=="function")vu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case di:return Kn(n.children,s,a,t);case Dc:o=8,s|=8;break;case fl:return e=ht(12,n,t,s|2),e.elementType=fl,e.lanes=a,e;case gl:return e=ht(13,n,t,s),e.elementType=gl,e.lanes=a,e;case xl:return e=ht(19,n,t,s),e.elementType=xl,e.lanes=a,e;case Ap:return eo(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mp:o=10;break e;case Ip:o=9;break e;case qc:o=11;break e;case Oc:o=14;break e;case rn:o=16,i=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=ht(o,n,t,s),t.elementType=e,t.type=i,t.lanes=a,t}function Kn(e,t,n,i){return e=ht(7,e,i,t),e.lanes=n,e}function eo(e,t,n,i){return e=ht(22,e,i,t),e.elementType=Ap,e.lanes=n,e.stateNode={isHidden:!1},e}function Wo(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function Ho(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g1(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Co(0),this.expirationTimes=Co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yu(e,t,n,i,s,a,o,l,c){return e=new g1(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ht(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nu(a),e}function x1(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ui,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function kg(e){if(!e)return _n;e=e._reactInternals;e:{if(ri(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Ye(n))return kf(e,n,t)}return t}function Cg(e,t,n,i,s,a,o,l,c){return e=yu(n,i,!0,e,s,a,o,l,c),e.context=kg(null),n=e.current,i=ze(),s=jn(n),a=$t(i,s),a.callback=t??null,yn(n,a,s),e.current.lanes=s,nr(e,s,i),Xe(e,i),e}function to(e,t,n,i){var s=t.current,a=ze(),o=jn(s);return n=kg(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(a,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=yn(s,t,o),e!==null&&(St(e,s,o,a),Xr(e,s,o)),o}function Ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wu(e,t){yh(e,t),(e=e.alternate)&&yh(e,t)}function v1(){return null}var _g=typeof reportError=="function"?reportError:function(e){console.error(e)};function ju(e){this._internalRoot=e}no.prototype.render=ju.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));to(e,t,null,null)};no.prototype.unmount=ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ni(function(){to(null,e,null,null)}),t[Qt]=null}};function no(e){this._internalRoot=e}no.prototype.unstable_scheduleHydration=function(e){if(e){var t=sf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&af(e)}};function bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wh(){}function y1(e,t,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var u=Ma(o);a.call(u)}}var o=Cg(t,i,e,0,null,!1,!1,"",wh);return e._reactRootContainer=o,e[Qt]=o.current,qs(e.nodeType===8?e.parentNode:e),ni(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=Ma(c);l.call(u)}}var c=yu(e,0,!1,null,null,!1,!1,"",wh);return e._reactRootContainer=c,e[Qt]=c.current,qs(e.nodeType===8?e.parentNode:e),ni(function(){to(t,c,n,i)}),c}function so(e,t,n,i,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Ma(o);l.call(c)}}to(t,o,e,s)}else o=y1(n,t,e,s,i);return Ma(o)}tf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ds(t.pendingLanes);n!==0&&(zc(t,n|1),Xe(t,ve()),!(K&6)&&(Vi=ve()+500,In()))}break;case 13:ni(function(){var i=Kt(e,1);if(i!==null){var s=ze();St(i,e,1,s)}}),wu(e,1)}};Bc=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var n=ze();St(t,e,134217728,n)}wu(e,134217728)}};nf=function(e){if(e.tag===13){var t=jn(e),n=Kt(e,t);if(n!==null){var i=ze();St(n,e,t,i)}wu(e,t)}};sf=function(){return ee};rf=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};_l=function(e,t,n){switch(t){case"input":if(wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Ka(i);if(!s)throw Error(A(90));Lp(i),wl(i,s)}}}break;case"textarea":qp(e,n);break;case"select":t=n.value,t!=null&&_i(e,!!n.multiple,t,!1)}};Up=fu;Wp=ni;var w1={usingClientEntryPoint:!1,Events:[sr,fi,Ka,Bp,$p,fu]},as={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j1={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kp(e),e===null?null:e.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||v1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ir.isDisabled&&Ir.supportsFiber)try{Ua=Ir.inject(j1),Mt=Ir}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w1;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(t))throw Error(A(200));return x1(e,t,null,n)};st.createRoot=function(e,t){if(!bu(e))throw Error(A(299));var n=!1,i="",s=_g;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=yu(e,1,!1,null,null,n,!1,i,s),e[Qt]=t.current,qs(e.nodeType===8?e.parentNode:e),new ju(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Kp(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return ni(e)};st.hydrate=function(e,t,n){if(!io(t))throw Error(A(200));return so(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!bu(e))throw Error(A(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",o=_g;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Cg(t,null,e,1,n??null,s,!1,a,o),e[Qt]=t.current,qs(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new no(t)};st.render=function(e,t,n){if(!io(t))throw Error(A(200));return so(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!io(e))throw Error(A(40));return e._reactRootContainer?(ni(function(){so(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1};st.unstable_batchedUpdates=fu;st.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!io(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return so(e,t,n,!1,i)};st.version="18.3.1-next-f1338f8080-20240426";function Eg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eg)}catch(e){console.error(e)}}Eg(),_p.exports=st;var b1=_p.exports,jh=b1;ml.createRoot=jh.createRoot,ml.hydrateRoot=jh.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hs.apply(this,arguments)}var hn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hn||(hn={}));const bh="popstate";function N1(e){e===void 0&&(e={});function t(i,s){let{pathname:a,search:o,hash:l}=i.location;return Ia("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Qs(s)}return Pg(t,n,null,e)}function S1(e){e===void 0&&(e={});function t(s,a){let{pathname:o="/",search:l="",hash:c=""}=ai(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ia("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof a=="string"?a:Qs(a))}function i(s,a){ro(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Pg(t,n,i,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ro(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function k1(){return Math.random().toString(36).substr(2,8)}function Nh(e,t){return{usr:e.state,key:e.key,idx:t}}function Ia(e,t,n,i){return n===void 0&&(n=null),Hs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ai(t):t,{state:n,key:t&&t.key||i||k1()})}function Qs(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ai(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Pg(e,t,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l=hn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Hs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=hn.Pop;let N=d(),x=N==null?null:N-u;u=N,c&&c({action:l,location:j.location,delta:x})}function m(N,x){l=hn.Push;let f=Ia(j.location,N,x);n&&n(f,N),u=d()+1;let g=Nh(f,u),w=j.createHref(f);try{o.pushState(g,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(w)}a&&c&&c({action:l,location:j.location,delta:1})}function v(N,x){l=hn.Replace;let f=Ia(j.location,N,x);n&&n(f,N),u=d();let g=Nh(f,u),w=j.createHref(f);o.replaceState(g,"",w),a&&c&&c({action:l,location:j.location,delta:0})}function y(N){let x=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof N=="string"?N:Qs(N);return f=f.replace(/ $/,"%20"),de(x,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,x)}let j={get action(){return l},get location(){return e(s,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(bh,h),c=N,()=>{s.removeEventListener(bh,h),c=null}},createHref(N){return t(s,N)},createURL:y,encodeLocation(N){let x=y(N);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(N){return o.go(N)}};return j}var Sh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sh||(Sh={}));function C1(e,t,n){return n===void 0&&(n="/"),_1(e,t,n)}function _1(e,t,n,i){let s=typeof t=="string"?ai(t):t,a=Fi(s.pathname||"/",n);if(a==null)return null;let o=Tg(e);E1(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=V1(a);l=q1(o[c],u)}return l}function Tg(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(de(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let u=Nn([i,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(de(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tg(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:L1(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Mg(a.path))s(a,o,c)}),t}function Mg(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let o=Mg(i.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function E1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D1(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const P1=/^:[\w-]+$/,T1=3,M1=2,I1=1,A1=10,R1=-2,kh=e=>e==="*";function L1(e,t){let n=e.split("/"),i=n.length;return n.some(kh)&&(i+=R1),t&&(i+=M1),n.filter(s=>!kh(s)).reduce((s,a)=>s+(P1.test(a)?T1:a===""?I1:A1),i)}function D1(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function q1(e,t,n){let{routesMeta:i}=e,s={},a="/",o=[];for(let l=0;l<i.length;++l){let c=i[l],u=l===i.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=ac({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Nn([a,h.pathname]),pathnameBase:U1(Nn([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=Nn([a,h.pathnameBase]))}return o}function ac(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=O1(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((u,d,h)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let j=l[h]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const y=l[h];return v&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function O1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ro(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function V1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ro(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}const F1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z1=e=>F1.test(e);function B1(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?ai(e):e,a;if(n)if(z1(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ro(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=Ch(n.substring(1),"/"):a=Ch(n,t)}else a=t;return{pathname:a,search:W1(i),hash:H1(s)}}function Ch(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qo(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Nu(e,t){let n=$1(e);return t?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Su(e,t,n,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=ai(e):(s=Hs({},e),de(!s.pathname||!s.pathname.includes("?"),Qo("?","pathname","search",s)),de(!s.pathname||!s.pathname.includes("#"),Qo("#","pathname","hash",s)),de(!s.search||!s.search.includes("#"),Qo("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!i&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=B1(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Nn=e=>e.join("/").replace(/\/\/+/g,"/"),U1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Q1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ig=["post","put","patch","delete"];new Set(Ig);const K1=["get",...Ig];new Set(K1);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ks.apply(this,arguments)}const ao=p.createContext(null),Ag=p.createContext(null),Zt=p.createContext(null),oo=p.createContext(null),Dt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Rg=p.createContext(null);function G1(e,t){let{relative:n}=t===void 0?{}:t;Gi()||de(!1);let{basename:i,navigator:s}=p.useContext(Zt),{hash:a,pathname:o,search:l}=lo(e,{relative:n}),c=o;return i!=="/"&&(c=o==="/"?i:Nn([i,o])),s.createHref({pathname:c,search:l,hash:a})}function Gi(){return p.useContext(oo)!=null}function An(){return Gi()||de(!1),p.useContext(oo).location}function Lg(e){p.useContext(Zt).static||p.useLayoutEffect(e)}function J(){let{isDataRoute:e}=p.useContext(Dt);return e?dw():Y1()}function Y1(){Gi()||de(!1);let e=p.useContext(ao),{basename:t,future:n,navigator:i}=p.useContext(Zt),{matches:s}=p.useContext(Dt),{pathname:a}=An(),o=JSON.stringify(Nu(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return Lg(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){i.go(u);return}let h=Su(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Nn([t,h.pathname])),(d.replace?i.replace:i.push)(h,d.state,d)},[t,i,o,a,e])}const X1=p.createContext(null);function J1(e){let t=p.useContext(Dt).outlet;return t&&p.createElement(X1.Provider,{value:e},t)}function Z1(){let{matches:e}=p.useContext(Dt),t=e[e.length-1];return t?t.params:{}}function lo(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=p.useContext(Zt),{matches:s}=p.useContext(Dt),{pathname:a}=An(),o=JSON.stringify(Nu(s,i.v7_relativeSplatPath));return p.useMemo(()=>Su(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function ew(e,t){return tw(e,t)}function tw(e,t,n,i){Gi()||de(!1);let{navigator:s}=p.useContext(Zt),{matches:a}=p.useContext(Dt),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=An(),d;if(t){var h;let N=typeof t=="string"?ai(t):t;c==="/"||(h=N.pathname)!=null&&h.startsWith(c)||de(!1),d=N}else d=u;let m=d.pathname||"/",v=m;if(c!=="/"){let N=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let y=C1(e,{pathname:v}),j=aw(y&&y.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Nn([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:Nn([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,i);return t&&j?p.createElement(oo.Provider,{value:{location:Ks({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hn.Pop}},j):j}function nw(){let e=uw(),t=Q1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const iw=p.createElement(nw,null);class sw extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Dt.Provider,{value:this.props.routeContext},p.createElement(Rg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rw(e){let{routeContext:t,match:n,children:i}=e,s=p.useContext(ao);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Dt.Provider,{value:t},i)}function aw(e,t,n,i){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||de(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:v}=n,y=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let v,y=!1,j=null,N=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,j=h.route.errorElement||iw,c&&(u<0&&m===0?(hw("route-fallback"),y=!0,N=null):u===m&&(y=!0,N=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),f=()=>{let g;return v?g=j:y?g=N:h.route.Component?g=p.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,p.createElement(rw,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(sw,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var Dg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dg||{}),qg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qg||{});function ow(e){let t=p.useContext(ao);return t||de(!1),t}function lw(e){let t=p.useContext(Ag);return t||de(!1),t}function cw(e){let t=p.useContext(Dt);return t||de(!1),t}function Og(e){let t=cw(),n=t.matches[t.matches.length-1];return n.route.id||de(!1),n.route.id}function uw(){var e;let t=p.useContext(Rg),n=lw(),i=Og();return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function dw(){let{router:e}=ow(Dg.UseNavigateStable),t=Og(qg.UseNavigateStable),n=p.useRef(!1);return Lg(()=>{n.current=!0}),p.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ks({fromRouteId:t},a)))},[e,t])}const _h={};function hw(e,t,n){_h[e]||(_h[e]=!0)}function Vg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ct(e){let{to:t,replace:n,state:i,relative:s}=e;Gi()||de(!1);let{future:a,static:o}=p.useContext(Zt),{matches:l}=p.useContext(Dt),{pathname:c}=An(),u=J(),d=Su(t,Nu(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:n,state:i,relative:s}),[u,h,s,n,i]),null}function mw(e){return J1(e.context)}function H(e){de(!1)}function Fg(e){let{basename:t="/",children:n=null,location:i,navigationType:s=hn.Pop,navigator:a,static:o=!1,future:l}=e;Gi()&&de(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:o,future:Ks({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof i=="string"&&(i=ai(i));let{pathname:d="/",search:h="",hash:m="",state:v=null,key:y="default"}=i,j=p.useMemo(()=>{let N=Fi(d,c);return N==null?null:{location:{pathname:N,search:h,hash:m,state:v,key:y},navigationType:s}},[c,d,h,m,v,y,s]);return j==null?null:p.createElement(Zt.Provider,{value:u},p.createElement(oo.Provider,{children:n,value:j}))}function pw(e){let{children:t,location:n}=e;return ew(oc(t),n)}new Promise(()=>{});function oc(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(i,s)=>{if(!p.isValidElement(i))return;let a=[...t,s];if(i.type===p.Fragment){n.push.apply(n,oc(i.props.children,a));return}i.type!==H&&de(!1),!i.props.index||!i.props.children||de(!1);let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=oc(i.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Aa.apply(this,arguments)}function zg(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function fw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gw(e,t){return e.button===0&&(!t||t==="_self")&&!fw(e)}function lc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function xw(e,t){let n=lc(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const vw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yw=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ww="6";try{window.__reactRouterVersion=ww}catch{}const jw=p.createContext({isTransitioning:!1}),bw="startTransition",Ra=d0[bw];function Nw(e){let{basename:t,children:n,future:i,window:s}=e,a=p.useRef();a.current==null&&(a.current=N1({window:s,v5Compat:!0}));let o=a.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=p.useCallback(h=>{u&&Ra?Ra(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>Vg(i),[i]),p.createElement(Fg,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:i})}function Sw(e){let{basename:t,children:n,future:i,window:s}=e,a=p.useRef();a.current==null&&(a.current=S1({window:s,v5Compat:!0}));let o=a.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=p.useCallback(h=>{u&&Ra?Ra(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>Vg(i),[i]),p.createElement(Fg,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:i})}const kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_w=p.forwardRef(function(t,n){let{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=zg(t,vw),{basename:v}=p.useContext(Zt),y,j=!1;if(typeof u=="string"&&Cw.test(u)&&(y=u,kw))try{let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),b=Fi(w.pathname,v);w.origin===g.origin&&b!=null?u=b+w.search+w.hash:j=!0}catch{}let N=G1(u,{relative:s}),x=Pw(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function f(g){i&&i(g),g.defaultPrevented||x(g)}return p.createElement("a",Aa({},m,{href:y||N,onClick:j||a?i:f,ref:n,target:c}))}),Eh=p.forwardRef(function(t,n){let{"aria-current":i="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=zg(t,yw),m=lo(c,{relative:h.relative}),v=An(),y=p.useContext(Ag),{navigator:j,basename:N}=p.useContext(Zt),x=y!=null&&Tw(m)&&u===!0,f=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,g=v.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(g=g.toLowerCase(),w=w?w.toLowerCase():null,f=f.toLowerCase()),w&&N&&(w=Fi(w,N)||w);const b=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let C=g===f||!o&&g.startsWith(f)&&g.charAt(b)==="/",P=w!=null&&(w===f||!o&&w.startsWith(f)&&w.charAt(f.length)==="/"),_={isActive:C,isPending:P,isTransitioning:x},M=C?i:void 0,L;typeof a=="function"?L=a(_):L=[a,C?"active":null,P?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(_):l;return p.createElement(_w,Aa({},h,{"aria-current":M,className:L,ref:n,style:V,to:c,viewTransition:u}),typeof d=="function"?d(_):d)});var cc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cc||(cc={}));var Ph;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ph||(Ph={}));function Ew(e){let t=p.useContext(ao);return t||de(!1),t}function Pw(e,t){let{target:n,replace:i,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=J(),u=An(),d=lo(e,{relative:o});return p.useCallback(h=>{if(gw(h,n)){h.preventDefault();let m=i!==void 0?i:Qs(u)===Qs(d);c(e,{replace:m,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,i,s,n,e,a,o,l])}function Rn(e){let t=p.useRef(lc(e)),n=p.useRef(!1),i=An(),s=p.useMemo(()=>xw(i.search,n.current?null:t.current),[i.search]),a=J(),o=p.useCallback((l,c)=>{const u=lc(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,o]}function Tw(e,t){t===void 0&&(t={});let n=p.useContext(jw);n==null&&de(!1);let{basename:i}=Ew(cc.useViewTransitionState),s=lo(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Fi(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Fi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ac(s.pathname,o)!=null||ac(s.pathname,a)!=null}const Mw=[{id:"ci_001",date:"2026-02-06",dominantTags:["lmite","culpa","claridad"],energy:"media",emotionalWeight:6,clarity:"medio"},{id:"ci_002",date:"2026-02-05",dominantTags:["trabajo","presin","evitacin"],energy:"baja",emotionalWeight:7,clarity:"nublado"},{id:"ci_003",date:"2026-02-04",dominantTags:["pareja","apego","control"],energy:"media",emotionalWeight:5,clarity:"medio"},{id:"ci_004",date:"2026-02-03",dominantTags:["familia","respeto","silencio"],energy:"baja",emotionalWeight:8,clarity:"nublado"},{id:"ci_005",date:"2026-02-02",dominantTags:["decisin","miedo","autoanulacin"],energy:"media",emotionalWeight:6,clarity:"medio"},{id:"ci_006",date:"2026-02-01",dominantTags:["rumiacin","qu dirn","cuerpo"],energy:"baja",emotionalWeight:7,clarity:"nublado"},{id:"ci_007",date:"2026-01-31",dominantTags:["lmite","trabajo","claridad"],energy:"alta",emotionalWeight:4,clarity:"alto"}],Iw=[{id:"e_001",date:"2026-02-06",type:"queria_hacer_algo_distinto",context:"trabajo",boundary:"tiempo",reaction:"cedi",emotionalWeight:6,text:"Dije que s a una junta que no me tocaba. No era urgente. Lo hice para no verme difcil.",tags:["lmite","aprobacin","trabajo"],linkedIntentionId:"i_001",repeatSignal:"si"},{id:"e_002",date:"2026-02-06",type:"algo_me_incomodo",context:"pareja",boundary:"respeto",reaction:"calle",emotionalWeight:7,text:"Me corrigi en pblico con ese tono. Yo sonre. Luego me qued pensando en qu dije mal.",tags:["respeto","silencio","apego"],repeatSignal:"creo_que_si"},{id:"e_003",date:"2026-02-05",type:"algo_me_incomodo",context:"familia",boundary:"decision",reaction:"negocie",emotionalWeight:8,text:"Otra vez opin sobre mi decisin como si fuera suya. Yo expliqu de ms para que lo aceptara.",tags:["familia","justificacin","decisin"],repeatSignal:"si"},{id:"e_004",date:"2026-02-05",type:"desahogo_libre",context:"yo",boundary:"cuerpo",reaction:"hui",emotionalWeight:7,text:"Traigo el cuerpo tenso. Siento que estoy corriendo y no s de qu. Evito quedarme quieto.",tags:["ansiedad","cuerpo","evitacin"],silenceMode:!0,practiceId:"sp_dialogo_parte"},{id:"e_005",date:"2026-02-04",type:"queria_hacer_algo_distinto",context:"pareja",boundary:"respeto",reaction:"pedi",emotionalWeight:5,text:"Ped que no me interrumpiera. No fue perfecto, pero lo dije sin disculparme.",tags:["hablar claro","respeto","movimiento"],linkedIntentionId:"i_003",repeatSignal:"no"},{id:"e_006",date:"2026-02-03",type:"no_quise_ver_esto",context:"trabajo",boundary:"respeto",reaction:"calle",emotionalWeight:8,text:"Me molest que asumieran que yo lo iba a resolver. Lo dej pasar porque me conviene que crean que puedo.",tags:["autoexigencia","respeto","estatus"],repeatSignal:"si"},{id:"e_007",date:"2026-02-03",type:"algo_me_incomodo",context:"familia",boundary:"tiempo",reaction:"cedi",emotionalWeight:8,text:"Cancel mis planes para ir a un favor rpido. Nadie lo pidi con cuidado. Yo lo ofrec.",tags:["lmite","familia","culpa"],repeatSignal:"si"},{id:"e_008",date:"2026-02-02",type:"queria_hacer_algo_distinto",context:"social",boundary:"dinero",reaction:"negocie",emotionalWeight:6,text:"Iba a decir que no al plan caro. Al final dije vemos para no romper el ambiente. Yo pagu con ansiedad.",tags:["qu dirn","dinero","evitacin"],linkedIntentionId:"i_004",repeatSignal:"creo_que_si"},{id:"e_009",date:"2026-02-02",type:"desahogo_libre",context:"yo",boundary:"tiempo",reaction:"hui",emotionalWeight:6,text:"Me la pas optimizando y termin sin hacer lo importante. Control detalles para no tocar la decisin real.",tags:["control","evitacin","decisin"]},{id:"e_010",date:"2026-02-01",type:"algo_me_incomodo",context:"trabajo",boundary:"respeto",reaction:"explote",emotionalWeight:7,text:"Me pidieron un cambio de ltima hora y contest seco. No era el cambio, era el patrn: lo acepto y luego trueno.",tags:["respeto","lmite","explosin"],repeatSignal:"si"},{id:"e_011",date:"2026-01-31",type:"hoy_si_lo_hice",context:"trabajo",boundary:"tiempo",reaction:"puse_limite",emotionalWeight:4,text:"Dije que no a un pendiente que no era mo. No expliqu. Solo cerr el tema.",tags:["lmite","no justificarme","claridad"],linkedIntentionId:"i_006",repeatSignal:"no"},{id:"e_012",date:"2026-01-30",type:"algo_me_incomodo",context:"pareja",boundary:"intimidad",reaction:"hui",emotionalWeight:6,text:"Me pregunt qu necesitaba y contest nada. S haba algo. Me dio miedo parecer demandante.",tags:["apego","evitacin","necesidad"],repeatSignal:"si"},{id:"e_013",date:"2026-01-29",type:"no_quise_ver_esto",context:"yo",boundary:"decision",reaction:"negocie",emotionalWeight:7,text:"Estoy esperando permiso. No de nadie en especfico. De una versin imaginaria de la gente.",tags:["permiso","qu dirn","estancamiento"],repeatSignal:"si"},{id:"e_014",date:"2026-01-27",type:"algo_me_incomodo",context:"social",boundary:"respeto",reaction:"calle",emotionalWeight:5,text:"Hicieron un chiste sobre m. Re. Luego lo repet yo mismo para adelantarme.",tags:["autoanulacin","respeto","aprobacin"],repeatSignal:"creo_que_si"},{id:"e_015",date:"2026-01-26",type:"queria_hacer_algo_distinto",context:"familia",boundary:"respeto",reaction:"pedi",emotionalWeight:6,text:"Ped que no hablaran de mi cuerpo. Se sinti tenso. No me deshice.",tags:["cuerpo","lmite","sostener incomodidad"],linkedIntentionId:"i_008",repeatSignal:"no"},{id:"e_016",date:"2026-01-24",type:"desahogo_libre",context:"yo",boundary:"tiempo",reaction:"hui",emotionalWeight:7,text:"Traigo rumiacin: repito la conversacin y busco una salida perfecta. No existe.",tags:["rumiacin","control","ansiedad"],repeatSignal:"si"},{id:"e_017",date:"2026-01-22",type:"algo_me_incomodo",context:"trabajo",boundary:"decision",reaction:"cedi",emotionalWeight:6,text:"Iba a proponer mi idea. Me fren porque pens ya va a sonar obvio. Luego alguien dijo lo mismo.",tags:["autoanulacin","miedo","trabajo"],repeatSignal:"si"},{id:"e_018",date:"2026-01-20",type:"no_quise_ver_esto",context:"pareja",boundary:"respeto",reaction:"negocie",emotionalWeight:8,text:"Estoy negociando mi lugar para que no se vayan. Lo hago con frases pequeas. Pero es el mismo trato.",tags:["apego","dignidad","lmite"],repeatSignal:"si"},{id:"e_019",date:"2026-01-18",type:"algo_me_incomodo",context:"familia",boundary:"decision",reaction:"calle",emotionalWeight:7,text:"Se burlaron de algo que me importa. Me qued callado para no alargar. Me qued cargndolo todo el da.",tags:["respeto","silencio","familia"],repeatSignal:"si"},{id:"e_020",date:"2026-01-16",type:"desahogo_libre",context:"yo",boundary:"intimidad",reaction:"hui",emotionalWeight:6,text:"Quiero pedir lo que necesito, pero en mi cabeza suena a exigir. Esa confusin me mantiene quieto.",tags:["necesidad","confusin","evitacin"],repeatSignal:"creo_que_si"}],Aw=[{id:"i_001",date:"2026-02-06",intentionType:"No justificarme",outcome:"a_medias",block:"costumbre",note:"Arranqu bien, luego me expliqu para cerrar bonito."},{id:"i_002",date:"2026-02-05",intentionType:"Poner un lmite",outcome:"no_lo_hice",block:"culpa",note:"Me vi a m mismo cediendo antes de que lo pidieran."},{id:"i_003",date:"2026-02-04",intentionType:"Hablar claro",outcome:"lo_hice",block:"miedo",note:"El miedo estaba, pero no mand."},{id:"i_004",date:"2026-02-02",intentionType:"Decir que no",outcome:"no_lo_hice",block:"presion",note:"Dije vemos para no tensar."},{id:"i_005",date:"2026-02-01",intentionType:"No controlar",outcome:"a_medias",block:"confusion",note:"Solt detalles, pero us la rumiacin como control."},{id:"i_006",date:"2026-01-31",intentionType:"No ceder",outcome:"lo_hice",note:"No fue amable. Fue claro."},{id:"i_007",date:"2026-01-30",intentionType:"Pedir lo que necesito",outcome:"no_lo_hice",block:"miedo",note:"Prefer parecer independiente."},{id:"i_008",date:"2026-01-26",intentionType:"Poner un lmite",outcome:"lo_hice",note:"Sostuve la incomodidad sin venderme."},{id:"i_009",date:"2026-01-24",intentionType:"No perseguir",outcome:"a_medias",block:"apego",note:"No escrib, pero me qued pendiente del telfono."},{id:"i_010",date:"2026-01-20",intentionType:"Priorizarme",outcome:"no_lo_hice",block:"culpa",note:"Sent que era egosta elegir mi plan."}],Rw=[{id:"p_001",name:"Falta de lmites",frequency30d:11,contexts:["trabajo","familia","pareja"],trend:"up",evidenceEntryIds:["e_001","e_007","e_010","e_018"]},{id:"p_002",name:"Apego a aprobacin",frequency30d:9,contexts:["social","trabajo","pareja"],trend:"flat",evidenceEntryIds:["e_001","e_014","e_017"]},{id:"p_003",name:"Evitacin activa",frequency30d:8,contexts:["yo","pareja","social"],trend:"up",evidenceEntryIds:["e_004","e_012","e_020"]},{id:"p_004",name:"Rumiacin circular",frequency30d:7,contexts:["yo"],trend:"flat",evidenceEntryIds:["e_016","e_009"]},{id:"p_005",name:"Autoanulacin",frequency30d:6,contexts:["social","trabajo"],trend:"down",evidenceEntryIds:["e_014","e_017","e_011"]},{id:"p_006",name:"Qu dirn estructural",frequency30d:6,contexts:["social","yo"],trend:"flat",evidenceEntryIds:["e_013","e_008"]}],Lw=[{id:"r_001",date:"2026-02-06",type:"lectura_del_dia",content:{contencion:"No ests mal. Ests viendo una repeticin en tiempo real.",loQueVeo:"Tu intencin fue no justificarte. Aun as, terminaste negociando aceptacin con explicacin.",patron:"Falta de lmites + aprobacin.",loQueEvitas:"El costo emocional de que alguien no est de acuerdo contigo.",pregunta:"Qu perderas si hoy alguien te mira como difcil y no lo corriges?",accionMinima:"Una frase hoy: No voy a explicar ms. Esto es lo que es."},patternId:"p_001"},{id:"r_002",date:"2026-02-05",entryId:"e_003",type:"evento_incomodo",content:{contencion:"No fue una discusin. Fue un guion viejo.",loQueVeo:"Te pidieron una explicacin y la diste antes de que te la exigieran.",patron:"Eleccin ajena (tu decisin pasa por el filtro de otro).",loQueEvitas:"La incomodidad de sostener tu decisin sin permiso.",pregunta:"A quin le ests entregando el voto final de tu vida?",accionMinima:"Corta la prxima explicacin a la mitad. Observa quin se incomoda."},patternId:"p_006"},{id:"r_003",date:"2026-02-04",entryId:"e_005",type:"semanal",content:{contencion:"Hay movimiento cuando tu miedo no toma el volante.",loQueVeo:"Pudiste pedir respeto sin disculparte.",patron:"Autoanulacin (en descenso).",loQueEvitas:"Volver a desaparecer para que todo est bien.",pregunta:"Qu parte de ti cree que pedir respeto es un riesgo?",accionMinima:"Repite el lmite una vez ms, sin justificar."},patternId:"p_005"},{id:"r_004",date:"2026-02-03",entryId:"e_006",type:"patron_activo",content:{contencion:"Tu capacidad no es el problema. Tu disponibilidad automtica s.",loQueVeo:"Aceptaste una carga implcita para sostener una imagen.",patron:"Falta de lmites (estatus como trampa).",loQueEvitas:"Que alguien vea tu no y no te celebre por resolverlo todo.",pregunta:"Qu te da ms miedo: decepcionar o dejar de ser necesario?",accionMinima:"Hoy: No lo voy a tomar yo. Hay que reasignarlo."},patternId:"p_001"},{id:"r_005",date:"2026-02-02",entryId:"e_008",type:"intencion_no_lograda",content:{contencion:"No dijiste que s al plan. Dijiste que s a no incomodar.",loQueVeo:"Evitaste el no y pagaste con ansiedad.",patron:"Qu dirn estructural.",loQueEvitas:"Ser la persona que cambia el clima del grupo.",pregunta:"Qu es peor para ti: tensar el ambiente o traicionarte en silencio?",accionMinima:"La prxima vez: No me late. Paso. Sin explicacin."},patternId:"p_006"},{id:"r_006",date:"2026-02-01",entryId:"e_010",type:"evento_incomodo",content:{contencion:"Explotar no es fuerza. Es acumulacin.",loQueVeo:"Aceptas de ms, callas, y luego truena por el lugar equivocado.",patron:"Falta de lmites (acumulacin).",loQueEvitas:"El lmite temprano, pequeo y claro.",pregunta:"Qu lmite evitaste decir antes de explotar?",accionMinima:"Hoy: el lmite ms pequeo posible, dicho a tiempo."},patternId:"p_001"},{id:"r_007",date:"2026-01-31",entryId:"e_011",type:"semanal",content:{contencion:"Cuando no te explicas, no ests siendo duro. Ests siendo claro.",loQueVeo:"Dijiste no sin justificar y el mundo sigui.",patron:"Aprobacin (en pausa).",loQueEvitas:"Volver a convencer.",pregunta:"Qu te hara regresar a explicar lo que ya es claro?",accionMinima:"Sostn el silencio despus del lmite."},patternId:"p_002"},{id:"r_008",date:"2026-01-30",entryId:"e_012",type:"patron_activo",content:{contencion:"Decir nada es una forma limpia de no pedir.",loQueVeo:"Tu necesidad existe, pero la escondes para no ser demasiado.",patron:"Evitacin activa.",loQueEvitas:"La vulnerabilidad de ser explcito.",pregunta:"Qu parte de ti cree que pedir es perder?",accionMinima:"Escribe una necesidad en una lnea. No la adornes."},patternId:"p_003"},{id:"r_009",date:"2026-01-24",entryId:"e_016",type:"evento_incomodo",content:{contencion:"No ests pensando. Ests dando vueltas.",loQueVeo:"Repites una conversacin para encontrar control donde no existe.",patron:"Rumiacin circular.",loQueEvitas:"La decisin imperfecta.",pregunta:"Qu decisin ests evitando detrs de la claridad que buscas?",accionMinima:"Elige una accin de 5 minutos. No la optimices."},patternId:"p_004"},{id:"r_010",date:"2026-01-20",entryId:"e_018",type:"patron_activo",content:{contencion:"No es que no te elijan. Ests negociando tu lugar por miedo.",loQueVeo:"Cambian los nombres, no el trato: te encoges para sostener pertenencia.",patron:"Apego a aprobacin.",loQueEvitas:"El vaco temporal de no perseguir.",pregunta:"Qu parte de ti prefiere un lugar pequeo a ningn lugar?",accionMinima:"Hoy: no persigas una respuesta. Observa qu se activa."},patternId:"p_002"}],Dw=[{id:"v_001",date:"2026-02-06",title:"Lo que no quiero que nadie lea",content:"Hay una parte de m que quiere controlarlo todo porque cree que si no lo hace, se cae el mundo. Estoy cansado.",sealed:!0},{id:"v_002",date:"2026-02-03",title:"Celos sin narrativa",content:"No es por la otra persona. Es por mi miedo de no ser suficiente. Y me da vergenza admitirlo.",sealed:!0},{id:"v_003",date:"2026-02-01",title:"Cuando me hago el fuerte",content:"Me enorgullezco de no necesitar a nadie. Pero es una defensa. Lo s.",sealed:!0},{id:"v_004",date:"2026-01-29",title:"Una confesin",content:"Espero permiso. Me preocupa que, si me elijo, alguien me deje de querer.",sealed:!0},{id:"v_005",date:"2026-01-26",title:"Mi cansancio",content:"Estoy harto de explicar. Explicar se volvi mi forma de pedir amor sin pedirlo.",sealed:!0},{id:"v_006",date:"2026-01-20",title:"No quiero decirlo en voz alta",content:"Me siento pequeo cuando no me buscan. Y entonces hago cosas para que me busquen.",sealed:!0}],qw=[{id:"ms_001",patternId:"p_001",story:"Daniel aprendi a ganarse su lugar siendo til. No lo dijo as; solo lo haca. Si alguien peda algo rapidsimo, Daniel estaba. Si alguien no saba cmo resolver, Daniel lo sacaba. Un da, el equipo cambi de lder. El nuevo lder no pidi ayuda: la asumi. Daniel empez a quedarse tarde sin que nadie se lo pidiera. Al tercer mes, le reclamaron por no ser tan flexible como antes. Daniel se trag el coraje. Al sexto mes, explot por un detalle mnimo. Se fue a su casa sintindose culpable por haber sido duro, sin ver que llevaba medio ao negociando su dignidad en cuotas pequeas.",highlights:["ganarse su lugar siendo til","la asumi","negociando su dignidad en cuotas pequeas"],questions:["En qu parte te viste: en el s automtico o en la explosin tarda?","Qu crees que perderas si no eres el que resuelve?","Cul es el lmite pequeo que evitaste decir a tiempo?"]},{id:"ms_002",patternId:"p_002",story:"Sofa no persegua personas. Persegua seales. Si tardaban en contestar, lo senta en el pecho. Entonces haca algo casual: un mensaje, una historia, una pregunta que pareca neutra. Cuando por fin reciba respuesta, respiraba. Sofa le llamaba conexin. Pero era otra cosa: era un sistema de aprobacin en tiempo real. El da que alguien le dijo necesito espacio, Sofa sonri y respondi: claro. Esa misma noche, se qued despierta buscando qu hizo mal. No era confusin. Era evitacin de una verdad: estaba pidiendo pertenencia sin decirlo.",highlights:["persegua seales","aprobacin en tiempo real","No era confusin. Era evitacin"],questions:["Qu haces para sentirte elegido sin pedirlo de frente?","Qu parte de ti confunde ansiedad con conexin?","Qu pasara si sostienes el vaco sin intervenir?"]},{id:"ms_003",patternId:"p_003",story:"Ivn tena una habilidad: poda explicar cualquier cosa. Tambin tena un hbito: poda explicar por qu no haca lo importante. Si algo lo incomodaba, lo converta en anlisis. Si tena que pedir algo, lo volva no tan importante. Ivn no menta. Solo recortaba su necesidad hasta que ya no molestara. Con el tiempo, su vida se volvi eficiente y poco propia. Nadie lo detena, porque nadie lo vea. La evitacin de Ivn era silenciosa. Y por eso se senta normal.",highlights:["lo converta en anlisis","recortaba su necesidad","se senta normal"],questions:["Qu necesidad ests recortando hoy para no incomodar?","Qu parte de tu anlisis es miedo disfrazado?","Qu haras si aceptars que s es importante?"]},{id:"ms_004",patternId:"p_004",story:"Paula poda repetir una conversacin completa con pausas y tonos. Lo haca como si ah estuviera la respuesta. Si encontraba la frase perfecta, crea que el pasado se acomodara. Paula no buscaba claridad. Buscaba control retroactivo. Un da se dio cuenta: la frase perfecta siempre llegaba tarde. Y aun as, segua intentndolo. Porque decidir sin certeza le daba miedo. Entonces prefera la vuelta infinita: pareca trabajo, pero era postergacin.",highlights:["control retroactivo","buscaba control","pareca trabajo, pero era postergacin"],questions:["Qu decisin ests posponiendo con rumiacin?","Qu certeza imposible ests exigiendo para moverte?","Cul es la accin mnima que evitaras por no estar listo?"]},{id:"ms_005",patternId:"p_005",story:"Marcos aprendi a ser amable a tiempo completo. Si alguien lo interrumpa, l deca no pasa nada. Si alguien lo minimizaba, l lo converta en chiste. Marcos era querido. Y tambin era invisible en lo que necesitaba. Un da, alguien le pregunt: qu quieres t? Marcos se tard demasiado en contestar. No porque no tuviera respuesta. Porque nunca la haba practicado en voz alta.",highlights:["amable a tiempo completo","era querido","nunca la haba practicado en voz alta"],questions:["Dnde conviertes tu lmite en chiste?","Qu ganas siendo fcil para todos?","Qu quieres t, sin explicar por qu?"]},{id:"ms_006",patternId:"p_006",story:"Luca tena una brjula externa. Antes de decidir, imaginaba reacciones. Si la reaccin era incmoda, cambiaba el plan. Luca le llamaba consideracin. Con el tiempo, su vida se llen de decisiones tcnicamente correctas pero emocionalmente ajenas. Un da, una amiga le dijo: no s qu quieres t. Luca se ri. Y en esa risa se escuch una verdad: no era que no supiera. Era que no quera sostener el costo.",highlights:["brjula externa","decisiones tcnicamente correctas","no quera sostener el costo"],questions:["Qu decisin tuya est siendo votacin pblica?","Qu costo te da miedo pagar: tensin, juicio o soledad?","Qu cambiara si tu brjula fuera interna por 24 horas?"]}],Ow={checkIns:Mw,entries:Iw,intentions:Aw,patterns:Rw,readings:Lw,vaultNotes:Dw,mirrorStories:qw},Vw=24*60*60*1e3;function Fw(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)throw new Error(`Fecha invlida: ${e}`);const n=Number(t[1]),i=Number(t[2])-1,s=Number(t[3]),a=new Date(n,i,s);if(!(a.getFullYear()===n&&a.getMonth()===i&&a.getDate()===s))throw new Error(`Fecha invlida: ${e}`);return a}function De(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return Fw(e);const t=new Date(e);if(Number.isNaN(t.getTime()))throw new Error(`Fecha invlida: ${e}`);return t}function ye(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`}function We(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function zw(e,t){const n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.round((i-n)/Vw)}function At(e){const t=De(e);return new Intl.DateTimeFormat("es-MX",{weekday:"short",year:"numeric",month:"short",day:"2-digit"}).format(t)}function Bw(e){return e.map(t=>t.date).reduce((t,n)=>De(n)>De(t)?n:t)}function os(e,t){const n=We(De(e),t);return ye(n)}function $w(){const e=Ow,t=[...e.checkIns,...e.entries,...e.intentions,...e.readings,...e.vaultNotes],n=Bw(t),i=ye(new Date),s=zw(De(n),De(i));return s===0?e:{...e,checkIns:e.checkIns.map(a=>({...a,date:os(a.date,s)})),entries:e.entries.map(a=>({...a,date:os(a.date,s)})),intentions:e.intentions.map(a=>({...a,date:os(a.date,s)})),readings:e.readings.map(a=>({...a,date:os(a.date,s)})),vaultNotes:e.vaultNotes.map(a=>({...a,date:os(a.date,s)})),mirrorStories:e.mirrorStories}}function Uw(e,t){switch(t.type){case"add_entry":return{...e,entries:[t.entry,...e.entries]};case"add_intention":return{...e,intentions:[t.intention,...e.intentions]};case"upsert_intention":{const n=e.intentions.findIndex(s=>s.id===t.intention.id);if(n===-1)return{...e,intentions:[t.intention,...e.intentions]};const i=[...e.intentions];return i[n]=t.intention,{...e,intentions:i}}case"upsert_checkin":{const n=e.checkIns.findIndex(s=>s.date===t.checkIn.date);if(n===-1)return{...e,checkIns:[t.checkIn,...e.checkIns]};const i=[...e.checkIns];return i[n]=t.checkIn,{...e,checkIns:i}}case"add_reading":return{...e,readings:[t.reading,...e.readings]};case"upsert_mirror_story":{const n=e.mirrorStories.findIndex(s=>s.patternId===t.mirrorStory.patternId);if(n===-1)return{...e,mirrorStories:[t.mirrorStory,...e.mirrorStories]};const i=[...e.mirrorStories];return i[n]=t.mirrorStory,{...e,mirrorStories:i}}case"add_vault_note":return{...e,vaultNotes:[t.vaultNote,...e.vaultNotes]};case"set_truth_feedback":return{...e,truthFeedback:{...e.truthFeedback,[t.truthId]:t.feedback}};default:return e}}const Bg=p.createContext(null);function Ww(e){const t=$w();try{const n=localStorage.getItem(e);if(!n)return{...t,truthFeedback:{}};const i=JSON.parse(n);return{...t,...i,truthFeedback:i.truthFeedback??{}}}catch{return{...t,truthFeedback:{}}}}function Hw({children:e,storageKey:t}){const[n,i]=p.useReducer(Uw,t,Ww);p.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(n))}catch{}},[n,t]);const s=p.useMemo(()=>({state:n,dispatch:i}),[n]);return r.jsx(Bg.Provider,{value:s,children:e})}function gt(){const e=p.useContext(Bg);if(!e)throw new Error("useXmi debe usarse dentro de <XmiProvider />");return e}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$g=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...Kw,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:$g("lucide",s),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const n=p.forwardRef(({className:i,...s},a)=>p.createElement(Gw,{ref:a,iconNode:t,className:$g(`lucide-${Qw(e)}`,i),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=Z("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Z("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Z("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Z("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=Z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Z("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=Z("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=Z("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=Z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Z("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=Z("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Z("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Z("VenetianMask",[["path",{d:"M18 11c-1.5 0-2.5.5-3 2",key:"1fod00"}],["path",{d:"M4 6a2 2 0 0 0-2 2v4a5 5 0 0 0 5 5 8 8 0 0 1 5 2 8 8 0 0 1 5-2 5 5 0 0 0 5-5V8a2 2 0 0 0-2-2h-3a8 8 0 0 0-5 2 8 8 0 0 0-5-2z",key:"d70hit"}],["path",{d:"M6 11c1.5 0 2.5.5 3 2",key:"136fht"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Z("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Z("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function je(...e){return e.filter(Boolean).join(" ")}const dj=[{to:"/sesion",label:"Sesin",icon:ej},{to:"/mapa",label:"Mapa",icon:sj},{to:"/espejo",label:"Hablar",icon:Yi,kind:"primary"},{to:"/boveda",label:"Bveda",icon:La},{to:"/mas",label:"Ms",icon:Xw}];function hj(){return r.jsx("nav",{className:"absolute bottom-0 left-0 right-0 z-30 px-4 pb-5 pt-3",children:r.jsx("div",{className:"mx-auto flex items-end justify-between rounded-[30px] bg-[#0b1220]/75 backdrop-blur-md ring-1 ring-white/10 px-3 py-3",children:dj.map(e=>{const t=e.icon;return e.kind==="primary"?r.jsxs(Eh,{to:e.to,className:({isActive:n})=>je("flex flex-col items-center gap-1.5 px-2",n?"text-white":"text-white/80 hover:text-white"),"aria-label":e.label,children:[r.jsx("div",{className:"h-14 w-14 rounded-2xl bg-[#7D5C6B] ring-1 ring-white/15 shadow-[0_12px_30px_rgba(0,0,0,0.35)] grid place-items-center",children:r.jsx(t,{className:"h-6 w-6 text-white","aria-hidden":!0})}),r.jsx("div",{className:"text-[11px] tracking-tight",children:e.label})]},e.to):r.jsxs(Eh,{to:e.to,className:({isActive:n})=>je("flex w-16 flex-col items-center gap-1 rounded-2xl px-2 py-2 transition",n?"text-white":"text-white/75 hover:text-white"),"aria-label":e.label,children:[r.jsx(t,{className:"h-6 w-6","aria-hidden":!0}),r.jsx("div",{className:"text-[11px] tracking-tight",children:e.label})]},e.to)})})})}function mj(){const t=An().pathname,n=t.startsWith("/inicio")||t.startsWith("/onboarding")||t.startsWith("/planes/elige")||t.startsWith("/checkout")||t.startsWith("/auth/")||t.startsWith("/acceso"),i=n?"pb-0":"pb-[140px]";return r.jsx("div",{className:"min-h-screen bg-[#0b1220]",children:r.jsx("div",{className:"mx-auto w-full max-w-[420px] sm:py-8",children:r.jsxs("div",{className:"relative h-[100svh] w-full overflow-hidden sm:h-[844px] sm:w-[390px] sm:rounded-[44px] ring-1 ring-white/10 shadow-[0_20px_80px_rgba(0,0,0,0.55)]",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-sky-200 via-slate-500 to-slate-950"}),r.jsx("div",{className:"absolute -left-24 -top-24 h-[420px] w-[420px] rounded-full bg-white/35 blur-3xl"}),r.jsx("div",{className:"absolute -right-28 top-16 h-[380px] w-[380px] rounded-full bg-white/20 blur-3xl"}),r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(900px_circle_at_20%_0%,rgba(255,255,255,0.20),transparent_55%),radial-gradient(900px_circle_at_90%_20%,rgba(255,255,255,0.08),transparent_60%)]"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-black/0 to-black/35"}),r.jsx("div",{className:`absolute inset-0 overflow-y-auto ${i}`,children:r.jsx(mw,{})}),n?null:r.jsx(hj,{})]})})})}function ii({className:e,...t}){return r.jsx("input",{className:je("w-full rounded-xl bg-white/70 px-3 py-2 text-sm text-outer-space backdrop-blur","ring-1 ring-gainsboro/60 placeholder:text-outer-space/45","disabled:opacity-60 disabled:bg-mint-cream/50 disabled:cursor-not-allowed","focus:outline-none focus:ring-2 focus:ring-camel/35",e),...t})}const Cu=p.createContext({});function _u(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const co=p.createContext(null),Eu=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class pj extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fj({children:e,isPresent:t}){const n=p.useId(),i=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=p.useContext(Eu);return p.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!i.current||!o||!l)return;i.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),r.jsx(pj,{isPresent:t,childRef:i,sizeRef:s,children:p.cloneElement(e,{ref:i})})}const gj=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=_u(xj),c=p.useId(),u=p.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;i&&i()},[l,i]),d=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),u]:[n,u]);return p.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),o==="popLayout"&&(e=r.jsx(fj,{isPresent:n,children:e})),r.jsx(co.Provider,{value:d,children:e})};function xj(){return new Map}function Gg(e=!0){const t=p.useContext(co);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=p.useId();p.useEffect(()=>{e&&s(a)},[e]);const o=p.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,o]:[!0]}const Ar=e=>e.key||"";function Th(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Pu=typeof window<"u",Yg=Pu?p.useLayoutEffect:p.useEffect,or=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=Gg(o),u=p.useMemo(()=>Th(e),[e]),d=o&&!l?[]:u.map(Ar),h=p.useRef(!0),m=p.useRef(u),v=_u(()=>new Map),[y,j]=p.useState(u),[N,x]=p.useState(u);Yg(()=>{h.current=!1,m.current=u;for(let w=0;w<N.length;w++){const b=Ar(N[w]);d.includes(b)?v.delete(b):v.get(b)!==!0&&v.set(b,!1)}},[N,d.length,d.join("-")]);const f=[];if(u!==y){let w=[...u];for(let b=0;b<N.length;b++){const C=N[b],P=Ar(C);d.includes(P)||(w.splice(b,0,C),f.push(C))}a==="wait"&&f.length&&(w=f),x(Th(w)),j(u);return}const{forceRender:g}=p.useContext(Cu);return r.jsx(r.Fragment,{children:N.map(w=>{const b=Ar(w),C=o&&!l?!1:u===N||d.includes(b),P=()=>{if(v.has(b))v.set(b,!0);else return;let _=!0;v.forEach(M=>{M||(_=!1)}),_&&(g==null||g(),x(m.current),o&&(c==null||c()),i&&i())};return r.jsx(gj,{isPresent:C,initial:!h.current||n?void 0:!1,custom:C?void 0:t,presenceAffectsLayout:s,mode:a,onExitComplete:C?void 0:P,children:w},b)})})},tt=e=>e;let Xg=tt;function Tu(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bi=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},Ut=e=>e*1e3,Wt=e=>e/1e3,vj={useManualTiming:!1};function yj(e){let t=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const v=h&&i?t:n;return d&&a.add(u),v.has(u)||v.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,i){s=!0;return}i=!0,[t,n]=[n,t],t.forEach(l),t.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const Rr=["read","resolveKeyframes","update","preRender","render","postRender"],wj=40;function Jg(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Rr.reduce((x,f)=>(x[f]=yj(a),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:m}=o,v=()=>{const x=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(x-s.timestamp,wj),1),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(v))},y=()=>{n=!0,i=!0,s.isProcessing||e(v)};return{schedule:Rr.reduce((x,f)=>{const g=o[f];return x[f]=(w,b=!1,C=!1)=>(n||y(),g.schedule(w,b,C)),x},{}),cancel:x=>{for(let f=0;f<Rr.length;f++)o[Rr[f]].cancel(x)},state:s,steps:o}}const{schedule:se,cancel:En,state:Pe,steps:Ko}=Jg(typeof requestAnimationFrame<"u"?requestAnimationFrame:tt,!0),Zg=p.createContext({strict:!1}),Mh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$i={};for(const e in Mh)$i[e]={isEnabled:t=>Mh[e].some(n=>!!t[n])};function jj(e){for(const t in e)$i[t]={...$i[t],...e[t]}}const bj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Da(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bj.has(e)}let ex=e=>!Da(e);function Nj(e){e&&(ex=t=>t.startsWith("on")?!Da(t):e(t))}try{Nj(require("@emotion/is-prop-valid").default)}catch{}function Sj(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(ex(s)||n===!0&&Da(s)||!t&&!Da(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function kj(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const uo=p.createContext({});function Gs(e){return typeof e=="string"||Array.isArray(e)}function ho(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Mu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iu=["initial",...Mu];function mo(e){return ho(e.animate)||Iu.some(t=>Gs(e[t]))}function tx(e){return!!(mo(e)||e.variants)}function Cj(e,t){if(mo(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Gs(n)?n:void 0,animate:Gs(i)?i:void 0}}return e.inherit!==!1?t:{}}function _j(e){const{initial:t,animate:n}=Cj(e,p.useContext(uo));return p.useMemo(()=>({initial:t,animate:n}),[Ih(t),Ih(n)])}function Ih(e){return Array.isArray(e)?e.join(" "):e}const Ej=Symbol.for("motionComponentSymbol");function bi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Pj(e,t,n){return p.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):bi(n)&&(n.current=i))},[t])}const Au=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Tj="framerAppearId",nx="data-"+Au(Tj),{schedule:Ru}=Jg(queueMicrotask,!1),ix=p.createContext({});function Mj(e,t,n,i,s){var a,o;const{visualElement:l}=p.useContext(uo),c=p.useContext(Zg),u=p.useContext(co),d=p.useContext(Eu).reducedMotion,h=p.useRef(null);i=i||c.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,v=p.useContext(ix);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&Ij(h.current,n,s,v);const y=p.useRef(!1);p.useInsertionEffect(()=>{m&&y.current&&m.update(n,u)});const j=n[nx],N=p.useRef(!!j&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,j))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,j)));return Yg(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Ru.render(m.render),N.current&&m.animationState&&m.animationState.animateChanges())}),p.useEffect(()=>{m&&(!N.current&&m.animationState&&m.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,j)}),N.current=!1))}),m}function Ij(e,t,n,i){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:sx(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&bi(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:c,layoutRoot:u})}function sx(e){if(e)return e.options.allowProjection!==!1?e.projection:sx(e.parent)}function Aj({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){var a,o;e&&jj(e);function l(u,d){let h;const m={...p.useContext(Eu),...u,layoutId:Rj(u)},{isStatic:v}=m,y=_j(u),j=i(u,v);if(!v&&Pu){Lj();const N=Dj(m);h=N.MeasureLayout,y.visualElement=Mj(s,j,m,t,N.ProjectionNode)}return r.jsxs(uo.Provider,{value:y,children:[h&&y.visualElement?r.jsx(h,{visualElement:y.visualElement,...m}):null,n(s,u,Pj(j,y.visualElement,d),j,v,y.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const c=p.forwardRef(l);return c[Ej]=s,c}function Rj({layoutId:e}){const t=p.useContext(Cu).id;return t&&e!==void 0?t+"-"+e:e}function Lj(e,t){p.useContext(Zg).strict}function Dj(e){const{drag:t,layout:n}=$i;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const qj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lu(e){return typeof e!="string"||e.includes("-")?!1:!!(qj.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ah(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Du(e,t,n,i){if(typeof t=="function"){const[s,a]=Ah(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=Ah(i);t=t(n!==void 0?n:e.custom,s,a)}return t}const hc=e=>Array.isArray(e),Oj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Vj=e=>hc(e)?e[e.length-1]||0:e,qe=e=>!!(e&&e.getVelocity);function ra(e){const t=qe(e)?e.get():e;return Oj(t)?t.toValue():t}function Fj({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,s,a){const o={latestValues:zj(i,s,a,e),renderState:t()};return n&&(o.onMount=l=>n({props:i,current:l,...o}),o.onUpdate=l=>n(l)),o}const rx=e=>(t,n)=>{const i=p.useContext(uo),s=p.useContext(co),a=()=>Fj(e,t,i,s);return n?a():_u(a)};function zj(e,t,n,i){const s={},a=i(e,{});for(const m in a)s[m]=ra(a[m]);let{initial:o,animate:l}=e;const c=mo(e),u=tx(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!ho(h)){const m=Array.isArray(h)?h:[h];for(let v=0;v<m.length;v++){const y=Du(e,m[v]);if(y){const{transitionEnd:j,transition:N,...x}=y;for(const f in x){let g=x[f];if(Array.isArray(g)){const w=d?g.length-1:0;g=g[w]}g!==null&&(s[f]=g)}for(const f in j)s[f]=j[f]}}}return s}const Xi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oi=new Set(Xi),ax=e=>t=>typeof t=="string"&&t.startsWith(e),ox=ax("--"),Bj=ax("var(--"),qu=e=>Bj(e)?$j.test(e.split("/*")[0].trim()):!1,$j=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Yt=(e,t,n)=>n>t?t:n<e?e:n,Ji={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ys={...Ji,transform:e=>Yt(0,1,e)},Lr={...Ji,default:1},lr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),sn=lr("deg"),Rt=lr("%"),$=lr("px"),Uj=lr("vh"),Wj=lr("vw"),Rh={...Rt,parse:e=>Rt.parse(e)/100,transform:e=>Rt.transform(e*100)},Hj={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$},Qj={rotate:sn,rotateX:sn,rotateY:sn,rotateZ:sn,scale:Lr,scaleX:Lr,scaleY:Lr,scaleZ:Lr,skew:sn,skewX:sn,skewY:sn,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Ys,originX:Rh,originY:Rh,originZ:$},Lh={...Ji,transform:Math.round},Ou={...Hj,...Qj,zIndex:Lh,size:$,fillOpacity:Ys,strokeOpacity:Ys,numOctaves:Lh},Kj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gj=Xi.length;function Yj(e,t,n){let i="",s=!0;for(let a=0;a<Gj;a++){const o=Xi[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=lx(l,Ou[o]);if(!c){s=!1;const d=Kj[o]||o;i+=`${d}(${u}) `}n&&(t[o]=u)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Vu(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(oi.has(c)){o=!0;continue}else if(ox(c)){s[c]=u;continue}else{const d=lx(u,Ou[c]);c.startsWith("origin")?(l=!0,a[c]=d):i[c]=d}}if(t.transform||(o||n?i.transform=Yj(t,e.transform,n):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;i.transformOrigin=`${c} ${u} ${d}`}}const Xj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jj={offset:"strokeDashoffset",array:"strokeDasharray"};function Zj(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?Xj:Jj;e[a.offset]=$.transform(-i);const o=$.transform(t),l=$.transform(n);e[a.array]=`${o} ${l}`}function Dh(e,t,n){return typeof e=="string"?e:$.transform(t+n*e)}function eb(e,t,n){const i=Dh(t,e.x,e.width),s=Dh(n,e.y,e.height);return`${i} ${s}`}function Fu(e,{attrX:t,attrY:n,attrScale:i,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(Vu(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:y}=e;m.transform&&(y&&(v.transform=m.transform),delete m.transform),y&&(s!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=eb(y,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),o!==void 0&&Zj(m,o,l,c,!1)}const zu=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cx=()=>({...zu(),attrs:{}}),Bu=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ux(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const a in n)e.style.setProperty(a,n[a])}const dx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hx(e,t,n,i){ux(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(dx.has(s)?s:Au(s),t.attrs[s])}const qa={};function tb(e){Object.assign(qa,e)}function mx(e,{layout:t,layoutId:n}){return oi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!qa[e]||e==="opacity")}function $u(e,t,n){var i;const{style:s}=e,a={};for(const o in s)(qe(s[o])||t.style&&qe(t.style[o])||mx(o,e)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function px(e,t,n){const i=$u(e,t,n);for(const s in e)if(qe(e[s])||qe(t[s])){const a=Xi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}function nb(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const qh=["x","y","width","height","cx","cy","r"],ib={useVisualState:rx({scrapeMotionValuesFromProps:px,createRenderState:cx,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const l in s)if(oi.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<qh.length;l++){const c=qh[l];e[c]!==t[c]&&(o=!0)}o&&se.read(()=>{nb(n,i),se.render(()=>{Fu(i,s,Bu(n.tagName),e.transformTemplate),hx(n,i)})})}})},sb={useVisualState:rx({scrapeMotionValuesFromProps:$u,createRenderState:zu})};function fx(e,t,n){for(const i in t)!qe(t[i])&&!mx(i,n)&&(e[i]=t[i])}function rb({transformTemplate:e},t){return p.useMemo(()=>{const n=zu();return Vu(n,t,e),Object.assign({},n.vars,n.style)},[t])}function ab(e,t){const n=e.style||{},i={};return fx(i,n,e),Object.assign(i,rb(e,t)),i}function ob(e,t){const n={},i=ab(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}function lb(e,t,n,i){const s=p.useMemo(()=>{const a=cx();return Fu(a,t,Bu(i),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};fx(a,e.style,e),s.style={...a,...s.style}}return s}function cb(e=!1){return(n,i,s,{latestValues:a},o)=>{const c=(Lu(n)?lb:ob)(i,a,o,n),u=Sj(i,typeof n=="string",e),d=n!==p.Fragment?{...u,...c,ref:s}:{},{children:h}=i,m=p.useMemo(()=>qe(h)?h.get():h,[h]);return p.createElement(n,{...d,children:m})}}function ub(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Lu(i)?ib:sb,preloadedFeatures:e,useRender:cb(s),createVisualElement:t,Component:i};return Aj(o)}}function gx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function po(e,t,n){const i=e.getProps();return Du(i,t,n!==void 0?n:i.custom,e)}const db=Tu(()=>window.ScrollTimeline!==void 0);class hb{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(s=>{if(db()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mb extends hb{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Uu(e,t){return e?e[t]||e.default||e:void 0}const mc=2e4;function xx(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<mc;)t+=n,i=e.next(t);return t>=mc?1/0:t}function Wu(e){return typeof e=="function"}function Oh(e,t){e.timeline=t,e.onfinish=null}const Hu=e=>Array.isArray(e)&&typeof e[0]=="number",pb={linearEasing:void 0};function fb(e,t){const n=Tu(e);return()=>{var i;return(i=pb[t])!==null&&i!==void 0?i:n()}}const Oa=fb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vx=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=e(Bi(0,s-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function yx(e){return!!(typeof e=="function"&&Oa()||!e||typeof e=="string"&&(e in pc||Oa())||Hu(e)||Array.isArray(e)&&e.every(yx))}const ms=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,pc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ms([0,.65,.55,1]),circOut:ms([.55,0,1,.45]),backIn:ms([.31,.01,.66,-.59]),backOut:ms([.33,1.53,.69,.99])};function wx(e,t){if(e)return typeof e=="function"&&Oa()?vx(e,t):Hu(e)?ms(e):Array.isArray(e)?e.map(n=>wx(n,t)||pc.easeOut):pc[e]}const yt={x:!1,y:!1};function jx(){return yt.x||yt.y}function gb(e,t,n){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function bx(e,t){const n=gb(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function Vh(e){return t=>{t.pointerType==="touch"||jx()||e(t)}}function xb(e,t,n={}){const[i,s,a]=bx(e,n),o=Vh(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=Vh(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return i.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const Nx=(e,t)=>t?e===t?!0:Nx(e,t.parentElement):!1,Qu=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,vb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yb(e){return vb.has(e.tagName)||e.tabIndex!==-1}const ps=new WeakSet;function Fh(e){return t=>{t.key==="Enter"&&e(t)}}function Go(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wb=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Fh(()=>{if(ps.has(n))return;Go(n,"down");const s=Fh(()=>{Go(n,"up")}),a=()=>Go(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function zh(e){return Qu(e)&&!jx()}function jb(e,t,n={}){const[i,s,a]=bx(e,n),o=l=>{const c=l.currentTarget;if(!zh(l)||ps.has(c))return;ps.add(c);const u=t(l),d=(v,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!zh(v)||!ps.has(c))&&(ps.delete(c),typeof u=="function"&&u(v,{success:y}))},h=v=>{d(v,n.useGlobalTarget||Nx(c,v.target))},m=v=>{d(v,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return i.forEach(l=>{!yb(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>wb(u,s),s)}),a}function bb(e){return e==="x"||e==="y"?yt[e]?null:(yt[e]=!0,()=>{yt[e]=!1}):yt.x||yt.y?null:(yt.x=yt.y=!0,()=>{yt.x=yt.y=!1})}const Sx=new Set(["width","height","top","left","right","bottom",...Xi]);let aa;function Nb(){aa=void 0}const Lt={now:()=>(aa===void 0&&Lt.set(Pe.isProcessing||vj.useManualTiming?Pe.timestamp:performance.now()),aa),set:e=>{aa=e,queueMicrotask(Nb)}};function Ku(e,t){e.indexOf(t)===-1&&e.push(t)}function Gu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Yu{constructor(){this.subscriptions=[]}add(t){return Ku(this.subscriptions,t),()=>Gu(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function kx(e,t){return t?e*(1e3/t):0}const Bh=30,Sb=e=>!isNaN(parseFloat(e));class kb{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=Lt.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Sb(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Yu);const i=this.events[t].add(n);return t==="change"?()=>{i(),se.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Bh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bh);return kx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xs(e,t){return new kb(e,t)}function Cb(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xs(n))}function _b(e,t){const n=po(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const o in a){const l=Vj(a[o]);Cb(e,o,l)}}function Eb(e){return!!(qe(e)&&e.add)}function fc(e,t){const n=e.getValue("willChange");if(Eb(n))return n.add(t)}function Cx(e){return e.props[nx]}const _x=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Pb=1e-7,Tb=12;function Mb(e,t,n,i,s){let a,o,l=0;do o=t+(n-t)/2,a=_x(o,i,s)-e,a>0?n=o:t=o;while(Math.abs(a)>Pb&&++l<Tb);return o}function cr(e,t,n,i){if(e===t&&n===i)return tt;const s=a=>Mb(a,0,1,e,n);return a=>a===0||a===1?a:_x(s(a),t,i)}const Ex=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Px=e=>t=>1-e(1-t),Tx=cr(.33,1.53,.69,.99),Xu=Px(Tx),Mx=Ex(Xu),Ix=e=>(e*=2)<1?.5*Xu(e):.5*(2-Math.pow(2,-10*(e-1))),Ju=e=>1-Math.sin(Math.acos(e)),Ax=Px(Ju),Rx=Ex(Ju),Lx=e=>/^0[^.\s]+$/u.test(e);function Ib(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Lx(e):!0}const ks=e=>Math.round(e*1e5)/1e5,Zu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ab(e){return e==null}const Rb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ed=(e,t)=>n=>!!(typeof n=="string"&&Rb.test(n)&&n.startsWith(e)||t&&!Ab(n)&&Object.prototype.hasOwnProperty.call(n,t)),Dx=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,o,l]=i.match(Zu);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Lb=e=>Yt(0,255,e),Yo={...Ji,transform:e=>Math.round(Lb(e))},Hn={test:ed("rgb","red"),parse:Dx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Yo.transform(e)+", "+Yo.transform(t)+", "+Yo.transform(n)+", "+ks(Ys.transform(i))+")"};function Db(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const gc={test:ed("#"),parse:Db,transform:Hn.transform},Ni={test:ed("hsl","hue"),parse:Dx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Rt.transform(ks(t))+", "+Rt.transform(ks(n))+", "+ks(Ys.transform(i))+")"},Re={test:e=>Hn.test(e)||gc.test(e)||Ni.test(e),parse:e=>Hn.test(e)?Hn.parse(e):Ni.test(e)?Ni.parse(e):gc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hn.transform(e):Ni.transform(e)},qb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ob(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(qb))===null||n===void 0?void 0:n.length)||0)>0}const qx="number",Ox="color",Vb="var",Fb="var(",$h="${}",zb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Js(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(zb,c=>(Re.test(c)?(i.color.push(a),s.push(Ox),n.push(Re.parse(c))):c.startsWith(Fb)?(i.var.push(a),s.push(Vb),n.push(c)):(i.number.push(a),s.push(qx),n.push(parseFloat(c))),++a,$h)).split($h);return{values:n,split:l,indexes:i,types:s}}function Vx(e){return Js(e).values}function Fx(e){const{split:t,types:n}=Js(e),i=t.length;return s=>{let a="";for(let o=0;o<i;o++)if(a+=t[o],s[o]!==void 0){const l=n[o];l===qx?a+=ks(s[o]):l===Ox?a+=Re.transform(s[o]):a+=s[o]}return a}}const Bb=e=>typeof e=="number"?0:e;function $b(e){const t=Vx(e);return Fx(e)(t.map(Bb))}const Pn={test:Ob,parse:Vx,createTransformer:Fx,getAnimatableNone:$b},Ub=new Set(["brightness","contrast","saturate","opacity"]);function Wb(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Zu)||[];if(!i)return e;const s=n.replace(i,"");let a=Ub.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const Hb=/\b([a-z-]*)\(.*?\)/gu,xc={...Pn,getAnimatableNone:e=>{const t=e.match(Hb);return t?t.map(Wb).join(" "):e}},Qb={...Ou,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:xc,WebkitFilter:xc},td=e=>Qb[e];function zx(e,t){let n=td(e);return n!==xc&&(n=Pn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Kb=new Set(["auto","none","0"]);function Gb(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!Kb.has(a)&&Js(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=zx(n,s)}const Uh=e=>e===Ji||e===$,Wh=(e,t)=>parseFloat(e.split(", ")[t]),Hh=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return Wh(s[1],t);{const a=i.match(/^matrix\((.+)\)$/u);return a?Wh(a[1],e):0}},Yb=new Set(["x","y","z"]),Xb=Xi.filter(e=>!Yb.has(e));function Jb(e){const t=[];return Xb.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Ui={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Hh(4,13),y:Hh(5,14)};Ui.translateX=Ui.x;Ui.translateY=Ui.y;const Gn=new Set;let vc=!1,yc=!1;function Bx(){if(yc){const e=Array.from(Gn).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=Jb(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,o])=>{var l;(l=i.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}yc=!1,vc=!1,Gn.forEach(e=>e.complete()),Gn.clear()}function $x(){Gn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yc=!0)})}function Zb(){$x(),Bx()}class nd{constructor(t,n,i,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Gn.add(this),vc||(vc=!0,se.read($x),se.resolveKeyframes(Bx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const c=i.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Gn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Gn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ux=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),eN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tN(e){const t=eN.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function Wx(e,t,n=1){const[i,s]=tN(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const o=a.trim();return Ux(o)?parseFloat(o):o}return qu(s)?Wx(s,t,n+1):s}const Hx=e=>t=>t.test(e),nN={test:e=>e==="auto",parse:e=>e},Qx=[Ji,$,Rt,sn,Wj,Uj,nN],Qh=e=>Qx.find(Hx(e));class Kx extends nd{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),qu(u))){const d=Wx(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Sx.has(i)||t.length!==2)return;const[s,a]=t,o=Qh(s),l=Qh(a);if(o!==l)if(Uh(o)&&Uh(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)Ib(t[s])&&i.push(s);i.length&&Gb(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ui[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(i);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Ui[i](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Kh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pn.test(e)||e==="0")&&!e.startsWith("url("));function iN(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sN(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Kh(s,t),l=Kh(a,t);return!o||!l?!1:iN(e)||(n==="spring"||Wu(n))&&i}const rN=e=>e!==null;function fo(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(rN),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const aN=40;class Gx{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lt.now(),this.options={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Zb(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Lt.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!sN(t,i,s,a))if(o)this.options.duration=0;else{c&&c(fo(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const le=(e,t,n)=>e+(t-e)*n;function Xo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oN({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Xo(c,l,e+1/3),a=Xo(c,l,e),o=Xo(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function Va(e,t){return n=>n>0?t:e}const Jo=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},lN=[gc,Hn,Ni],cN=e=>lN.find(t=>t.test(e));function Gh(e){const t=cN(e);if(!t)return!1;let n=t.parse(e);return t===Ni&&(n=oN(n)),n}const Yh=(e,t)=>{const n=Gh(e),i=Gh(t);if(!n||!i)return Va(e,t);const s={...n};return a=>(s.red=Jo(n.red,i.red,a),s.green=Jo(n.green,i.green,a),s.blue=Jo(n.blue,i.blue,a),s.alpha=le(n.alpha,i.alpha,a),Hn.transform(s))},uN=(e,t)=>n=>t(e(n)),ur=(...e)=>e.reduce(uN),wc=new Set(["none","hidden"]);function dN(e,t){return wc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function hN(e,t){return n=>le(e,t,n)}function id(e){return typeof e=="number"?hN:typeof e=="string"?qu(e)?Va:Re.test(e)?Yh:fN:Array.isArray(e)?Yx:typeof e=="object"?Re.test(e)?Yh:mN:Va}function Yx(e,t){const n=[...e],i=n.length,s=e.map((a,o)=>id(a)(a,t[o]));return a=>{for(let o=0;o<i;o++)n[o]=s[o](a);return n}}function mN(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=id(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function pN(e,t){var n;const i=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;i[a]=c,s[o]++}return i}const fN=(e,t)=>{const n=Pn.createTransformer(t),i=Js(e),s=Js(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?wc.has(e)&&!s.values.length||wc.has(t)&&!i.values.length?dN(e,t):ur(Yx(pN(i,s),s.values),n):Va(e,t)};function Xx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):id(e)(e,t)}const gN=5;function Jx(e,t,n){const i=Math.max(t-gN,0);return kx(n-e(i),t-i)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zo=.001;function xN({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:i=pe.mass}){let s,a,o=1-t;o=Yt(pe.minDamping,pe.maxDamping,o),e=Yt(pe.minDuration,pe.maxDuration,Wt(e)),o<1?(s=u=>{const d=u*o,h=d*e,m=d-n,v=jc(u,o),y=Math.exp(-h);return Zo-m/v*y},a=u=>{const h=u*o*e,m=h*n+n,v=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-h),j=jc(Math.pow(u,2),o);return(-s(u)+Zo>0?-1:1)*((m-v)*y)/j}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Zo+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=yN(s,a,l);if(e=Ut(e),isNaN(c))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const u=Math.pow(c,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:e}}}const vN=12;function yN(e,t,n){let i=n;for(let s=1;s<vN;s++)i=i-e(i)/t(i);return i}function jc(e,t){return e*Math.sqrt(1-t*t)}const wN=["duration","bounce"],jN=["stiffness","damping","mass"];function Xh(e,t){return t.some(n=>e[n]!==void 0)}function bN(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!Xh(e,jN)&&Xh(e,wN))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*Yt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:pe.mass,stiffness:s,damping:a}}else{const n=xN(e);t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Zx(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:v}=bN({...n,velocity:-Wt(n.velocity||0)}),y=m||0,j=u/(2*Math.sqrt(c*d)),N=o-a,x=Wt(Math.sqrt(c/d)),f=Math.abs(N)<5;i||(i=f?pe.restSpeed.granular:pe.restSpeed.default),s||(s=f?pe.restDelta.granular:pe.restDelta.default);let g;if(j<1){const b=jc(x,j);g=C=>{const P=Math.exp(-j*x*C);return o-P*((y+j*x*N)/b*Math.sin(b*C)+N*Math.cos(b*C))}}else if(j===1)g=b=>o-Math.exp(-x*b)*(N+(y+x*N)*b);else{const b=x*Math.sqrt(j*j-1);g=C=>{const P=Math.exp(-j*x*C),_=Math.min(b*C,300);return o-P*((y+j*x*N)*Math.sinh(_)+b*N*Math.cosh(_))/b}}const w={calculatedDuration:v&&h||null,next:b=>{const C=g(b);if(v)l.done=b>=h;else{let P=0;j<1&&(P=b===0?Ut(y):Jx(g,b,C));const _=Math.abs(P)<=i,M=Math.abs(o-C)<=s;l.done=_&&M}return l.value=l.done?o:C,l},toString:()=>{const b=Math.min(xx(w),mc),C=vx(P=>w.next(b*P).value,b,30);return b+"ms "+C}};return w}function Jh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},v=_=>l!==void 0&&_<l||c!==void 0&&_>c,y=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let j=n*t;const N=h+j,x=o===void 0?N:o(N);x!==N&&(j=x-h);const f=_=>-j*Math.exp(-_/i),g=_=>x+f(_),w=_=>{const M=f(_),L=g(_);m.done=Math.abs(M)<=u,m.value=m.done?x:L};let b,C;const P=_=>{v(m.value)&&(b=_,C=Zx({keyframes:[m.value,y(m.value)],velocity:Jx(g,_,m.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:_=>{let M=!1;return!C&&b===void 0&&(M=!0,w(_),P(_)),b!==void 0&&_>=b?C.next(_-b):(!M&&w(_),m)}}}const NN=cr(.42,0,1,1),SN=cr(0,0,.58,1),ev=cr(.42,0,.58,1),kN=e=>Array.isArray(e)&&typeof e[0]!="number",CN={linear:tt,easeIn:NN,easeInOut:ev,easeOut:SN,circIn:Ju,circInOut:Rx,circOut:Ax,backIn:Xu,backInOut:Mx,backOut:Tx,anticipate:Ix},Zh=e=>{if(Hu(e)){Xg(e.length===4);const[t,n,i,s]=e;return cr(t,n,i,s)}else if(typeof e=="string")return CN[e];return e};function _N(e,t,n){const i=[],s=n||Xx,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||tt:t;l=ur(c,l)}i.push(l)}return i}function EN(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(Xg(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=_N(t,i,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const m=Bi(e[h],e[h+1],d);return l[h](m)};return n?d=>u(Yt(e[0],e[a-1],d)):u}function PN(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Bi(0,t,i);e.push(le(n,1,s))}}function TN(e){const t=[0];return PN(t,e.length-1),t}function MN(e,t){return e.map(n=>n*t)}function IN(e,t){return e.map(()=>t||ev).splice(0,e.length-1)}function Fa({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=kN(i)?i.map(Zh):Zh(i),a={done:!1,value:t[0]},o=MN(n&&n.length===t.length?n:TN(t),e),l=EN(o,t,{ease:Array.isArray(s)?s:IN(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const AN=e=>{const t=({timestamp:n})=>e(n);return{start:()=>se.update(t,!0),stop:()=>En(t),now:()=>Pe.isProcessing?Pe.timestamp:Lt.now()}},RN={decay:Jh,inertia:Jh,tween:Fa,keyframes:Fa,spring:Zx},LN=e=>e/100;class sd extends Gx{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:i,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||nd,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=Wu(n)?n:RN[n]||Fa;let c,u;l!==Fa&&typeof t[0]!="number"&&(c=ur(LN,Xx(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=xx(d));const{calculatedDuration:h}=d,m=h+s,v=m*(i+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return a.next(0);const{delay:m,repeat:v,repeatType:y,repeatDelay:j,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-m*(this.speed>=0?1:-1),f=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let g=this.currentTime,w=a;if(v){const _=Math.min(this.currentTime,d)/h;let M=Math.floor(_),L=_%1;!L&&_>=1&&(L=1),L===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(y==="reverse"?(L=1-L,j&&(L-=j/h)):y==="mirror"&&(w=o)),g=Yt(0,1,L)*h}const b=f?{done:!1,value:c[0]}:w.next(g);l&&(b.value=l(b.value));let{done:C}=b;!f&&u!==null&&(C=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return P&&s!==void 0&&(b.value=fo(c,this.options,s)),N&&N(b.value),P&&this.finish(),b}get duration(){const{resolved:t}=this;return t?Wt(t.calculatedDuration):0}get time(){return Wt(this.currentTime)}set time(t){t=Ut(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Wt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=AN,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const DN=new Set(["opacity","clipPath","filter","transform"]);function qN(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=wx(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const ON=Tu(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),za=10,VN=2e4;function FN(e){return Wu(e.type)||e.type==="spring"||!yx(e.ease)}function zN(e,t){const n=new sd({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const s=[];let a=0;for(;!i.done&&a<VN;)i=n.sample(a),s.push(i.value),a+=za;return{times:void 0,keyframes:s,duration:a-za,ease:"linear"}}const tv={anticipate:Ix,backInOut:Mx,circInOut:Rx};function BN(e){return e in tv}class em extends Gx{constructor(t){super(t);const{name:n,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new Kx(a,(o,l)=>this.onKeyframesResolved(o,l),n,i,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:s,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Oa()&&BN(a)&&(a=tv[a]),FN(this.options)){const{onComplete:h,onUpdate:m,motionValue:v,element:y,...j}=this.options,N=zN(t,j);t=N.keyframes,t.length===1&&(t[1]=t[0]),i=N.duration,s=N.times,a=N.ease,o="keyframes"}const d=qN(l.owner.current,c,t,{...this.options,duration:i,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Oh(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(fo(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Wt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Wt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ut(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return tt;const{animation:i}=n;Oh(i,t)}return tt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:s,type:a,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...v}=this.options,y=new sd({...v,keyframes:i,duration:s,type:a,ease:o,times:l,isGenerator:!0}),j=Ut(this.time);u.setWithVelocity(y.sample(j-za).value,y.sample(j).value,za)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:s,repeatType:a,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return ON()&&i&&DN.has(i)&&!c&&!u&&!s&&a!=="mirror"&&o!==0&&l!=="inertia"}}const $N={type:"spring",stiffness:500,damping:25,restSpeed:10},UN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),WN={type:"keyframes",duration:.8},HN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QN=(e,{keyframes:t})=>t.length>2?WN:oi.has(e)?e.startsWith("scale")?UN(t[1]):$N:HN;function KN({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const rd=(e,t,n,i={},s,a)=>o=>{const l=Uu(i,e)||{},c=l.delay||i.delay||0;let{elapsed:u=0}=i;u=u-Ut(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};KN(l)||(d={...d,...QN(e,d)}),d.duration&&(d.duration=Ut(d.duration)),d.repeatDelay&&(d.repeatDelay=Ut(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const m=fo(d.keyframes,l);if(m!==void 0)return se.update(()=>{d.onUpdate(m),d.onComplete()}),new mb([])}return!a&&em.supports(d)?new em(d):new sd(d)};function GN({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function nv(e,t,{delay:n=0,transitionOverride:i,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(o=i);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const m=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),v=c[h];if(v===void 0||d&&GN(d,h))continue;const y={delay:n,...Uu(o||{},h)};let j=!1;if(window.MotionHandoffAnimation){const x=Cx(e);if(x){const f=window.MotionHandoffAnimation(x,h,se);f!==null&&(y.startTime=f,j=!0)}}fc(e,h),m.start(rd(h,m,v,e.shouldReduceMotion&&Sx.has(h)?{type:!1}:y,e,j));const N=m.animation;N&&u.push(N)}return l&&Promise.all(u).then(()=>{se.update(()=>{l&&_b(e,l)})}),u}function bc(e,t,n={}){var i;const s=po(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const o=s?()=>Promise.all(nv(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=a;return YN(e,t,d+u,h,m,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function YN(e,t,n=0,i=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*i,c=s===1?(u=0)=>u*i:(u=0)=>l-u*i;return Array.from(e.variantChildren).sort(XN).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(bc(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function XN(e,t){return e.sortNodePosition(t)}function JN(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>bc(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=bc(e,t,n);else{const s=typeof t=="function"?po(e,t,n.custom):t;i=Promise.all(nv(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const ZN=Iu.length;function iv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?iv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ZN;n++){const i=Iu[n],s=e.props[i];(Gs(s)||s===!1)&&(t[i]=s)}return t}const e2=[...Mu].reverse(),t2=Mu.length;function n2(e){return t=>Promise.all(t.map(({animation:n,options:i})=>JN(e,n,i)))}function i2(e){let t=n2(e),n=tm(),i=!0;const s=c=>(u,d)=>{var h;const m=po(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:v,transitionEnd:y,...j}=m;u={...u,...j,...y}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=iv(e.parent)||{},h=[],m=new Set;let v={},y=1/0;for(let N=0;N<t2;N++){const x=e2[N],f=n[x],g=u[x]!==void 0?u[x]:d[x],w=Gs(g),b=x===c?f.isActive:null;b===!1&&(y=N);let C=g===d[x]&&g!==u[x]&&w;if(C&&i&&e.manuallyAnimateOnMount&&(C=!1),f.protectedKeys={...v},!f.isActive&&b===null||!g&&!f.prevProp||ho(g)||typeof g=="boolean")continue;const P=s2(f.prevProp,g);let _=P||x===c&&f.isActive&&!C&&w||N>y&&w,M=!1;const L=Array.isArray(g)?g:[g];let V=L.reduce(s(x),{});b===!1&&(V={});const{prevResolvedValues:T={}}=f,z={...T,...V},ae=k=>{_=!0,m.has(k)&&(M=!0,m.delete(k)),f.needsAnimating[k]=!0;const S=e.getValue(k);S&&(S.liveStyle=!1)};for(const k in z){const S=V[k],E=T[k];if(v.hasOwnProperty(k))continue;let R=!1;hc(S)&&hc(E)?R=!gx(S,E):R=S!==E,R?S!=null?ae(k):m.add(k):S!==void 0&&m.has(k)?ae(k):f.protectedKeys[k]=!0}f.prevProp=g,f.prevResolvedValues=V,f.isActive&&(v={...v,...V}),i&&e.blockInitialAnimation&&(_=!1),_&&(!(C&&P)||M)&&h.push(...L.map(k=>({animation:k,options:{type:x}})))}if(m.size){const N={};m.forEach(x=>{const f=e.getBaseTarget(x),g=e.getValue(x);g&&(g.liveStyle=!0),N[x]=f??null}),h.push({animation:N})}let j=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(j=!1),i=!1,j?t(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const h=o(c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=tm(),i=!0}}}function s2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gx(t,e):!1}function Dn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tm(){return{animate:Dn(!0),whileInView:Dn(),whileHover:Dn(),whileTap:Dn(),whileDrag:Dn(),whileFocus:Dn(),exit:Dn()}}class Ln{constructor(t){this.isMounted=!1,this.node=t}update(){}}class r2 extends Ln{constructor(t){super(t),t.animationState||(t.animationState=i2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ho(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let a2=0;class o2 extends Ln{constructor(){super(...arguments),this.id=a2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const l2={animation:{Feature:r2},exit:{Feature:o2}};function Zs(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function dr(e){return{point:{x:e.pageX,y:e.pageY}}}const c2=e=>t=>Qu(t)&&e(t,dr(t));function Cs(e,t,n,i){return Zs(e,t,c2(n),i)}const nm=(e,t)=>Math.abs(e-t);function u2(e,t){const n=nm(e.x,t.x),i=nm(e.y,t.y);return Math.sqrt(n**2+i**2)}class sv{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=tl(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=u2(h.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:y}=h,{timestamp:j}=Pe;this.history.push({...y,timestamp:j});const{onStart:N,onMove:x}=this.handlers;m||(N&&N(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=el(m,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=tl(h.type==="pointercancel"?this.lastMoveEventInfo:el(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,N),y&&y(h,N)},!Qu(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const o=dr(t),l=el(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Pe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,tl(l,this.history)),this.removeListeners=ur(Cs(this.contextWindow,"pointermove",this.handlePointerMove),Cs(this.contextWindow,"pointerup",this.handlePointerUp),Cs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),En(this.updatePoint)}}function el(e,t){return t?{point:t(e.point)}:e}function im(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tl({point:e},t){return{point:e,delta:im(e,rv(t)),offset:im(e,d2(t)),velocity:h2(t,.1)}}function d2(e){return e[0]}function rv(e){return e[e.length-1]}function h2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=rv(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Ut(t)));)n--;if(!i)return{x:0,y:0};const a=Wt(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const av=1e-4,m2=1-av,p2=1+av,ov=.01,f2=0-ov,g2=0+ov;function it(e){return e.max-e.min}function x2(e,t,n){return Math.abs(e-t)<=n}function sm(e,t,n,i=.5){e.origin=i,e.originPoint=le(t.min,t.max,e.origin),e.scale=it(n)/it(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=m2&&e.scale<=p2||isNaN(e.scale))&&(e.scale=1),(e.translate>=f2&&e.translate<=g2||isNaN(e.translate))&&(e.translate=0)}function _s(e,t,n,i){sm(e.x,t.x,n.x,i?i.originX:void 0),sm(e.y,t.y,n.y,i?i.originY:void 0)}function rm(e,t,n){e.min=n.min+t.min,e.max=e.min+it(t)}function v2(e,t,n){rm(e.x,t.x,n.x),rm(e.y,t.y,n.y)}function am(e,t,n){e.min=t.min-n.min,e.max=e.min+it(t)}function Es(e,t,n){am(e.x,t.x,n.x),am(e.y,t.y,n.y)}function y2(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?le(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?le(n,e,i.max):Math.min(e,n)),e}function om(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function w2(e,{top:t,left:n,bottom:i,right:s}){return{x:om(e.x,n,s),y:om(e.y,t,i)}}function lm(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function j2(e,t){return{x:lm(e.x,t.x),y:lm(e.y,t.y)}}function b2(e,t){let n=.5;const i=it(e),s=it(t);return s>i?n=Bi(t.min,t.max-i,e.min):i>s&&(n=Bi(e.min,e.max-s,t.min)),Yt(0,1,n)}function N2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Nc=.35;function S2(e=Nc){return e===!1?e=0:e===!0&&(e=Nc),{x:cm(e,"left","right"),y:cm(e,"top","bottom")}}function cm(e,t,n){return{min:um(e,t),max:um(e,n)}}function um(e,t){return typeof e=="number"?e:e[t]||0}const dm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Si=()=>({x:dm(),y:dm()}),hm=()=>({min:0,max:0}),ge=()=>({x:hm(),y:hm()});function ot(e){return[e("x"),e("y")]}function lv({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function k2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function C2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function nl(e){return e===void 0||e===1}function Sc({scale:e,scaleX:t,scaleY:n}){return!nl(e)||!nl(t)||!nl(n)}function zn(e){return Sc(e)||cv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cv(e){return mm(e.x)||mm(e.y)}function mm(e){return e&&e!=="0%"}function Ba(e,t,n){const i=e-n,s=t*i;return n+s}function pm(e,t,n,i,s){return s!==void 0&&(e=Ba(e,s,i)),Ba(e,n,i)+t}function kc(e,t=0,n=1,i,s){e.min=pm(e.min,t,n,i,s),e.max=pm(e.max,t,n,i,s)}function uv(e,{x:t,y:n}){kc(e.x,t.translate,t.scale,t.originPoint),kc(e.y,n.translate,n.scale,n.originPoint)}const fm=.999999999999,gm=1.0000000000001;function _2(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ci(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,uv(e,o)),i&&zn(a.latestValues)&&Ci(e,a.latestValues))}t.x<gm&&t.x>fm&&(t.x=1),t.y<gm&&t.y>fm&&(t.y=1)}function ki(e,t){e.min=e.min+t,e.max=e.max+t}function xm(e,t,n,i,s=.5){const a=le(e.min,e.max,s);kc(e,t,n,a,i)}function Ci(e,t){xm(e.x,t.x,t.scaleX,t.scale,t.originX),xm(e.y,t.y,t.scaleY,t.scale,t.originY)}function dv(e,t){return lv(C2(e.getBoundingClientRect(),t))}function E2(e,t,n){const i=dv(e,n),{scroll:s}=t;return s&&(ki(i.x,s.offset.x),ki(i.y,s.offset.y)),i}const hv=({current:e})=>e?e.ownerDocument.defaultView:null,P2=new WeakMap;class T2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dr(d).point)},a=(d,h)=>{const{drag:m,dragPropagation:v,onDragStart:y}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bb(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ot(N=>{let x=this.getAxisMotionValue(N).get()||0;if(Rt.test(x)){const{projection:f}=this.visualElement;if(f&&f.layout){const g=f.layout.layoutBox[N];g&&(x=it(g)*(parseFloat(x)/100))}}this.originPoint[N]=x}),y&&se.postRender(()=>y(d,h)),fc(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:y,onDrag:j}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:N}=h;if(v&&this.currentDirection===null){this.currentDirection=M2(N),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,N),this.updateAxis("y",h.point,N),this.visualElement.render(),j&&j(d,h)},l=(d,h)=>this.stop(d,h),c=()=>ot(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new sv(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:hv(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&se.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Dr(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=y2(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&bi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=w2(s.layoutBox,n):this.constraints=!1,this.elastic=S2(i),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ot(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=N2(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!bi(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=E2(i,s.root,this.visualElement.getTransformPagePoint());let o=j2(s.layout.layoutBox,a);if(n){const l=n(k2(o));this.hasMutatedConstraints=!!l,l&&(o=lv(l))}return o}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ot(d=>{if(!Dr(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const m=s?200:1e6,v=s?40:1e7,y={type:"inertia",velocity:i?t[d]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return fc(this.visualElement,t),i.start(rd(t,i,0,n,this.visualElement,!1))}stopAnimation(){ot(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ot(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ot(n=>{const{drag:i}=this.getProps();if(!Dr(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(t[n]-le(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!bi(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ot(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=b2({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ot(o=>{if(!Dr(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(le(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;P2.set(this.visualElement,this);const t=this.visualElement.current,n=Cs(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();bi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),se.read(i);const o=Zs(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ot(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Nc,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Dr(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function M2(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class I2 extends Ln{constructor(t){super(t),this.removeGroupControls=tt,this.removeListeners=tt,this.controls=new T2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const vm=e=>(t,n)=>{e&&se.postRender(()=>e(t,n))};class A2 extends Ln{constructor(){super(...arguments),this.removePointerDownListener=tt}onPointerDown(t){this.session=new sv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:vm(t),onStart:vm(n),onMove:i,onEnd:(a,o)=>{delete this.session,s&&se.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Cs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const oa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ym(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ls={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=ym(e,t.target.x),i=ym(e,t.target.y);return`${n}% ${i}%`}},R2={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Pn.parse(e);if(s.length>5)return i;const a=Pn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=le(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class L2 extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;tb(D2),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),oa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,o=i.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||se.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ru.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mv(e){const[t,n]=Gg(),i=p.useContext(Cu);return r.jsx(L2,{...e,layoutGroup:i,switchLayoutGroup:p.useContext(ix),isPresent:t,safeToRemove:n})}const D2={borderRadius:{...ls,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ls,borderTopRightRadius:ls,borderBottomLeftRadius:ls,borderBottomRightRadius:ls,boxShadow:R2};function q2(e,t,n){const i=qe(e)?e:Xs(e);return i.start(rd("",i,t,n)),i.animation}function O2(e){return e instanceof SVGElement&&e.tagName!=="svg"}const V2=(e,t)=>e.depth-t.depth;class F2{constructor(){this.children=[],this.isDirty=!1}add(t){Ku(this.children,t),this.isDirty=!0}remove(t){Gu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(V2),this.isDirty=!1,this.children.forEach(t)}}function z2(e,t){const n=Lt.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(En(i),e(a-t))};return se.read(i,!0),()=>En(i)}const pv=["TopLeft","TopRight","BottomLeft","BottomRight"],B2=pv.length,wm=e=>typeof e=="string"?parseFloat(e):e,jm=e=>typeof e=="number"||$.test(e);function $2(e,t,n,i,s,a){s?(e.opacity=le(0,n.opacity!==void 0?n.opacity:1,U2(i)),e.opacityExit=le(t.opacity!==void 0?t.opacity:1,0,W2(i))):a&&(e.opacity=le(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<B2;o++){const l=`border${pv[o]}Radius`;let c=bm(t,l),u=bm(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jm(c)===jm(u)?(e[l]=Math.max(le(wm(c),wm(u),i),0),(Rt.test(u)||Rt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,i))}function bm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const U2=fv(0,.5,Ax),W2=fv(.5,.95,tt);function fv(e,t,n){return i=>i<e?0:i>t?1:n(Bi(e,t,i))}function Nm(e,t){e.min=t.min,e.max=t.max}function at(e,t){Nm(e.x,t.x),Nm(e.y,t.y)}function Sm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function km(e,t,n,i,s){return e-=t,e=Ba(e,1/n,i),s!==void 0&&(e=Ba(e,1/s,i)),e}function H2(e,t=0,n=1,i=.5,s,a=e,o=e){if(Rt.test(t)&&(t=parseFloat(t),t=le(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=le(a.min,a.max,i);e===a&&(l-=t),e.min=km(e.min,t,n,l,s),e.max=km(e.max,t,n,l,s)}function Cm(e,t,[n,i,s],a,o){H2(e,t[n],t[i],t[s],t.scale,a,o)}const Q2=["x","scaleX","originX"],K2=["y","scaleY","originY"];function _m(e,t,n,i){Cm(e.x,t,Q2,n?n.x:void 0,i?i.x:void 0),Cm(e.y,t,K2,n?n.y:void 0,i?i.y:void 0)}function Em(e){return e.translate===0&&e.scale===1}function gv(e){return Em(e.x)&&Em(e.y)}function Pm(e,t){return e.min===t.min&&e.max===t.max}function G2(e,t){return Pm(e.x,t.x)&&Pm(e.y,t.y)}function Tm(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xv(e,t){return Tm(e.x,t.x)&&Tm(e.y,t.y)}function Mm(e){return it(e.x)/it(e.y)}function Im(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Y2{constructor(){this.members=[]}add(t){Ku(this.members,t),t.scheduleRender()}remove(t){if(Gu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X2(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||a||o)&&(i=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:v,skewY:y}=n;u&&(i=`perspective(${u}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),m&&(i+=`rotateY(${m}deg) `),v&&(i+=`skewX(${v}deg) `),y&&(i+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const Bn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fs=typeof window<"u"&&window.MotionDebug!==void 0,il=["","X","Y","Z"],J2={visibility:"hidden"},Am=1e3;let Z2=0;function sl(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function vv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Cx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",se,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&vv(i)}function yv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Z2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fs&&(Bn.totalNodes=Bn.resolvedTargetDeltas=Bn.recalculatedProjection=0),this.nodes.forEach(nS),this.nodes.forEach(oS),this.nodes.forEach(lS),this.nodes.forEach(iS),fs&&window.MotionDebug.record(Bn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new F2)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yu),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=O2(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=z2(m,250),oa.hasAnimatedSinceResize&&(oa.hasAnimatedSinceResize=!1,this.nodes.forEach(Lm))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||d.getDefaultTransition()||mS,{onLayoutAnimationStart:N,onLayoutAnimationComplete:x}=d.getProps(),f=!this.targetLayout||!xv(this.targetLayout,y)||v,g=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||m&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const w={...Uu(j,"layout"),onPlay:N,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else m||Lm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,En(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cS),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rm);return}this.isUpdating||this.nodes.forEach(rS),this.isUpdating=!1,this.nodes.forEach(aS),this.nodes.forEach(eS),this.nodes.forEach(tS),this.clearAllSnapshots();const l=Lt.now();Pe.delta=Yt(0,1e3/60,l-Pe.timestamp),Pe.timestamp=l,Pe.isProcessing=!0,Ko.update.process(Pe),Ko.preRender.process(Pe),Ko.render.process(Pe),Pe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ru.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sS),this.sharedNodes.forEach(uS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!gv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||zn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),pS(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ge();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(fS))){const{scroll:d}=this.root;d&&(ki(c.x,d.offset.x),ki(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=ge();if(at(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&at(c,o),ki(c.x,h.offset.x),ki(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=ge();at(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ci(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),zn(d.latestValues)&&Ci(c,d.latestValues)}return zn(this.latestValues)&&Ci(c,this.latestValues),c}removeTransform(o){const l=ge();at(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!zn(u.latestValues))continue;Sc(u.latestValues)&&u.updateSnapshot();const d=ge(),h=u.measurePageBox();at(d,h),_m(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return zn(this.latestValues)&&_m(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Pe.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Es(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):at(this.target,this.layout.layoutBox),uv(this.target,this.targetDelta)):at(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Es(this.relativeTargetOrigin,this.target,v.target),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fs&&Bn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sc(this.parent.latestValues)||cv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;at(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;_2(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ge());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sm(this.prevProjectionDelta.x,this.projectionDelta.x),Sm(this.prevProjectionDelta.y,this.projectionDelta.y)),_s(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!Im(this.projectionDelta.x,this.prevProjectionDelta.x)||!Im(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),fs&&Bn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Si(),this.projectionDelta=Si(),this.projectionDeltaWithTransform=Si()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ge(),v=c?c.source:void 0,y=this.layout?this.layout.source:void 0,j=v!==y,N=this.getStack(),x=!N||N.members.length<=1,f=!!(j&&!x&&this.options.crossfade===!0&&!this.path.some(hS));this.animationProgress=0;let g;this.mixTargetDelta=w=>{const b=w/1e3;Dm(h.x,o.x,b),Dm(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Es(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dS(this.relativeTarget,this.relativeTargetOrigin,m,b),g&&G2(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ge()),at(g,this.relativeTarget)),j&&(this.animationValues=d,$2(d,u,this.latestValues,b,f,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(En(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{oa.hasAnimatedSinceResize=!0,this.currentAnimation=q2(0,Am,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Am),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&wv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ge();const h=it(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=it(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}at(l,c),Ci(l,d),_s(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Y2),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&sl("z",o,u,this.animationValues);for(let d=0;d<il.length;d++)sl(`rotate${il[d]}`,o,u,this.animationValues),sl(`skew${il[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return J2;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ra(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=ra(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!zn(this.latestValues)&&(j.transform=d?d({},""):"none",this.hasProjected=!1),j}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=X2(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:v,y}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const j in qa){if(m[j]===void 0)continue;const{correct:N,applyTo:x}=qa[j],f=u.transform==="none"?m[j]:N(m[j],h);if(x){const g=x.length;for(let w=0;w<g;w++)u[x[w]]=f}else u[j]=f}return this.options.layoutId&&(u.pointerEvents=h===this?ra(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Rm),this.root.sharedNodes.clear()}}}function eS(e){e.updateLayout()}function tS(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?ot(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],v=it(m);m.min=i[h].min,m.max=m.min+v}):wv(a,n.layoutBox,i)&&ot(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],v=it(i[h]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+v)});const l=Si();_s(l,i,n.layoutBox);const c=Si();o?_s(c,e.applyTransform(s,!0),n.measuredBox):_s(c,i,n.layoutBox);const u=!gv(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:v}=h;if(m&&v){const y=ge();Es(y,n.layoutBox,m.layoutBox);const j=ge();Es(j,i,v.layoutBox),xv(y,j)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function nS(e){fs&&Bn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iS(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sS(e){e.clearSnapshot()}function Rm(e){e.clearMeasurements()}function rS(e){e.isLayoutDirty=!1}function aS(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Lm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oS(e){e.resolveTargetDelta()}function lS(e){e.calcProjection()}function cS(e){e.resetSkewAndRotation()}function uS(e){e.removeLeadSnapshot()}function Dm(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function qm(e,t,n,i){e.min=le(t.min,n.min,i),e.max=le(t.max,n.max,i)}function dS(e,t,n,i){qm(e.x,t.x,n.x,i),qm(e.y,t.y,n.y,i)}function hS(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mS={duration:.45,ease:[.4,0,.1,1]},Om=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vm=Om("applewebkit/")&&!Om("chrome/")?Math.round:tt;function Fm(e){e.min=Vm(e.min),e.max=Vm(e.max)}function pS(e){Fm(e.x),Fm(e.y)}function wv(e,t,n){return e==="position"||e==="preserve-aspect"&&!x2(Mm(t),Mm(n),.2)}function fS(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const gS=yv({attachResizeListener:(e,t)=>Zs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rl={current:void 0},jv=yv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rl.current){const e=new gS({});e.mount(window),e.setOptions({layoutScroll:!0}),rl.current=e}return rl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xS={pan:{Feature:A2},drag:{Feature:I2,ProjectionNode:jv,MeasureLayout:mv}};function zm(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&se.postRender(()=>a(t,dr(t)))}class vS extends Ln{mount(){const{current:t}=this.node;t&&(this.unmount=xb(t,n=>(zm(this.node,n,"Start"),i=>zm(this.node,i,"End"))))}unmount(){}}class yS extends Ln{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ur(Zs(this.node.current,"focus",()=>this.onFocus()),Zs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bm(e,t,n){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&se.postRender(()=>a(t,dr(t)))}class wS extends Ln{mount(){const{current:t}=this.node;t&&(this.unmount=jb(t,n=>(Bm(this.node,n,"Start"),(i,{success:s})=>Bm(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cc=new WeakMap,al=new WeakMap,jS=e=>{const t=Cc.get(e.target);t&&t(e)},bS=e=>{e.forEach(jS)};function NS({root:e,...t}){const n=e||document;al.has(n)||al.set(n,{});const i=al.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(bS,{root:e,...t})),i[s]}function SS(e,t,n){const i=NS(t);return Cc.set(e,n),i.observe(e),()=>{Cc.delete(e),i.unobserve(e)}}const kS={some:0,all:1};class CS extends Ln{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:kS[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return SS(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(_S(t,n))&&this.startObserver()}unmount(){}}function _S({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ES={inView:{Feature:CS},tap:{Feature:wS},focus:{Feature:yS},hover:{Feature:vS}},PS={layout:{ProjectionNode:jv,MeasureLayout:mv}},_c={current:null},bv={current:!1};function TS(){if(bv.current=!0,!!Pu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_c.current=e.matches;e.addListener(t),t()}else _c.current=!1}const MS=[...Qx,Re,Pn],IS=e=>MS.find(Hx(e)),$m=new WeakMap;function AS(e,t,n){for(const i in t){const s=t[i],a=n[i];if(qe(s))e.addValue(i,s);else if(qe(a))e.addValue(i,Xs(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const o=e.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(i);e.addValue(i,Xs(o!==void 0?o:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Um=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RS{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Lt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,se.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=mo(n),this.isVariantNode=tx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in m){const y=m[v];c[v]!==void 0&&qe(y)&&y.set(c[v],!1)}}mount(t){this.current=t,$m.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),bv.current||TS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_c.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$m.delete(this.current),this.projection&&this.projection.unmount(),En(this.notifyUpdate),En(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=oi.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&se.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $i){const n=$i[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Um.length;i++){const s=Um[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=AS(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Xs(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Ux(s)||Lx(s))?s=parseFloat(s):!IS(s)&&Pn.test(n)&&(s=zx(t,n)),this.setBaseTarget(t,qe(s)?s.get():s)),qe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=Du(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(i&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!qe(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Yu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Nv extends RS{constructor(){super(...arguments),this.KeyframeResolver=Kx}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LS(e){return window.getComputedStyle(e)}class DS extends Nv{constructor(){super(...arguments),this.type="html",this.renderInstance=ux}readValueFromInstance(t,n){if(oi.has(n)){const i=td(n);return i&&i.default||0}else{const i=LS(t),s=(ox(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return dv(t,n)}build(t,n,i){Vu(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return $u(t,n,i)}}class qS extends Nv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(oi.has(n)){const i=td(n);return i&&i.default||0}return n=dx.has(n)?n:Au(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return px(t,n,i)}build(t,n,i){Fu(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,s){hx(t,n,i,s)}mount(t){this.isSVGTag=Bu(t.tagName),super.mount(t)}}const OS=(e,t)=>Lu(e)?new qS(t):new DS(t,{allowProjection:e!==p.Fragment}),VS=ub({...l2,...ES,...xS,...PS},OS),Se=kj(VS);function xe({open:e,title:t,description:n,onClose:i,children:s,className:a,zIndexClassName:o="z-50"}){return p.useEffect(()=>{if(!e)return;function l(c){c.key==="Escape"&&i()}return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,i]),r.jsx(or,{children:e?r.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:je("fixed inset-0",o),children:[r.jsx("button",{type:"button",onClick:i,className:"absolute inset-0 bg-black/55 backdrop-blur-[2px]","aria-label":"Cerrar"}),r.jsx(Se.div,{initial:{y:28,opacity:0},animate:{y:0,opacity:1},exit:{y:28,opacity:0},transition:{duration:.22,ease:"easeOut"},className:je("absolute inset-x-0 bottom-0 mx-auto w-[min(520px,100%)] px-4 pb-5",a),role:"dialog","aria-modal":"true","aria-label":t,children:r.jsxs("div",{className:"rounded-[34px] bg-[#0b1220]/78 ring-1 ring-white/10 backdrop-blur-xl shadow-[0_18px_60px_rgba(0,0,0,0.55)] overflow-hidden",children:[r.jsx("div",{className:"flex items-center justify-center px-6 pt-3",children:r.jsx("div",{className:"h-1 w-12 rounded-full bg-white/25","aria-hidden":!0})}),r.jsxs("div",{className:"flex items-start justify-between gap-4 px-6 pb-4 pt-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:t}),n?r.jsx("div",{className:"mt-1 text-xs text-white/65",children:n}):null]}),r.jsx("button",{type:"button",onClick:i,className:"shrink-0 rounded-2xl p-2 text-white/75 ring-1 ring-white/15 transition hover:bg-white/10 hover:text-white","aria-label":"Cerrar",children:r.jsx(zi,{className:"h-4 w-4","aria-hidden":!0})})]}),r.jsx("div",{className:"max-h-[70svh] overflow-auto px-6 pb-6",children:s}),r.jsx("div",{className:"h-4"})]})})]},"glass-sheet"):null})}function Yn({className:e,...t}){return r.jsx("textarea",{className:je("w-full rounded-xl bg-white/70 px-3 py-2 text-sm text-outer-space backdrop-blur","ring-1 ring-gainsboro/60 placeholder:text-outer-space/45","disabled:opacity-60 disabled:bg-mint-cream/50 disabled:cursor-not-allowed","focus:outline-none focus:ring-2 focus:ring-camel/35",e),...t})}function FS(e){let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}const Wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";function zS(e=64){const t=new Uint8Array(e);crypto.getRandomValues(t);let n="";for(const i of t)n+=Wm[i%Wm.length];return n}async function BS(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return FS(new Uint8Array(n))}function go(){const e="https://zrdlyrjnurgohdarlbso.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpyZGx5cmpudXJnb2hkYXJsYnNvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTkxODgsImV4cCI6MjA4NTk3NTE4OH0.qGF7lmHzcmUzzZ5TP5IG8Oc9eiWEKa13IGjlDvIeeP4",n=e.trim().replace(/\/$/,""),i=t.trim();return{url:n,anonKey:i,configured:!!(n&&i)}}function er(e){const t=Math.floor(Date.now()/1e3);return{access_token:e.access_token,refresh_token:e.refresh_token,token_type:e.token_type,expires_in:e.expires_in,expires_at:e.expires_at??t+(e.expires_in??0),user:e.user}}function ad(e){const{url:t}=go();return`${t}${e.startsWith("/")?e:`/${e}`}`}async function Sv(e){try{return await e.json()}catch{return null}}function kv(e){if(!e||typeof e!="object")return"Error desconocido.";const t=e;return[t.error_description,t.error,t.message,t.msg].filter(i=>typeof i=="string")[0]??"Error desconocido."}async function xo(e,t,n){const{anonKey:i,configured:s}=go();if(!s)return{ok:!1,error:{message:"Supabase no est configurado."}};const a={apikey:i,"Content-Type":"application/json"};let o;try{o=await fetch(ad(e),{method:"POST",headers:a,body:JSON.stringify(t)})}catch{return{ok:!1,error:{message:"No se pudo conectar a Supabase. Puedes continuar sin cuenta."}}}const l=await Sv(o);return o.ok?{ok:!0,data:l}:{ok:!1,error:{message:kv(l),status:o.status}}}async function $S(e,t){const{anonKey:n,configured:i}=go();if(!i)return{ok:!1,error:{message:"Supabase no est configurado."}};const s={apikey:n};t!=null&&t.accessToken&&(s.Authorization=`Bearer ${t.accessToken}`);let a;try{a=await fetch(ad(e),{method:"POST",headers:s})}catch{return{ok:!1,error:{message:"No se pudo conectar a Supabase. Puedes continuar sin cuenta."}}}if(!a.ok){const o=await Sv(a);return{ok:!1,error:{message:kv(o),status:a.status}}}return{ok:!0,data:null}}async function US(e,t){const n=await xo("/auth/v1/token?grant_type=password",{email:e,password:t});return n.ok?{ok:!0,data:er(n.data)}:n}async function WS(e,t){const n=await xo("/auth/v1/signup",{email:e,password:t});if(!n.ok)return n;const i=n.data;if(i!=null&&i.access_token&&(i!=null&&i.refresh_token)&&(i!=null&&i.user))return{ok:!0,data:{user:i.user,session:er(i)}};if(i!=null&&i.user){const s=i.session;return s!=null&&s.access_token&&(s!=null&&s.refresh_token)?{ok:!0,data:{user:i.user,session:er(s)}}:{ok:!0,data:{user:i.user}}}return{ok:!1,error:{message:"Respuesta inesperada de Supabase."}}}async function HS(e){const t=await xo("/auth/v1/token?grant_type=refresh_token",{refresh_token:e});return t.ok?{ok:!0,data:er(t.data)}:t}async function QS(e,t){const n=await xo("/auth/v1/token?grant_type=pkce",{auth_code:e,code_verifier:t});return n.ok?{ok:!0,data:er(n.data)}:n}async function KS(e){return await $S("/auth/v1/logout",{accessToken:e})}function GS(e){const t=new URLSearchParams({provider:e.provider,redirect_to:e.redirectTo,code_challenge:e.codeChallenge,code_challenge_method:"s256"});return ad(`/auth/v1/authorize?${t.toString()}`)}const Ec="concia_v1_auth_session",YS="concia_v1_auth_mode",ol="concia_v1_pkce_verifier";function Hm(){try{const e=localStorage.getItem(Ec);return e?JSON.parse(e):null}catch{return null}}function qr(e){try{e?localStorage.setItem(Ec,JSON.stringify(e)):localStorage.removeItem(Ec)}catch{}}function Et(e){try{localStorage.setItem(YS,e)}catch{}}function Qm(e){return e.expires_at*1e3<=Date.now()+3e4}const Cv=p.createContext(null);function XS({children:e}){const{configured:t}=go(),n=t?Hm():null,[i,s]=p.useState(n),[a,o]=p.useState(()=>t&&n&&!Qm(n)?"authenticated":"local"),l=a==="authenticated"?(i==null?void 0:i.user)??null:null,c=(l==null?void 0:l.id)??"local";p.useEffect(()=>{if(!t){o("local"),s(null);return}let d=!1;async function h(){try{const m=Hm();if(!m){d||(s(null),o("local"));return}if(!Qm(m)){d||(s(m),o("authenticated"));return}const v=await HS(m.refresh_token);d||(v.ok?(qr(v.data),s(v.data),Et("supabase"),o("authenticated")):(qr(null),s(null),Et("local"),o("local")))}catch{d||(qr(null),s(null),Et("local"),o("local"))}}return h(),()=>{d=!0}},[t]),p.useEffect(()=>{t&&qr(i)},[t,i]);const u=p.useMemo(()=>({status:a,configured:t,actorId:c,user:l,session:i,continueLocal(){Et("local"),o("local"),s(null)},async signInWithEmail(d,h){if(!t)return{ok:!1,message:"Supabase no est configurado."};const m=d.trim();if(!m||!h)return{ok:!1,message:"Completa correo y contrasea."};const v=await US(m,h);return v.ok?(Et("supabase"),s(v.data),o("authenticated"),{ok:!0}):{ok:!1,message:v.error.message}},async signUpWithEmail(d,h){if(!t)return{ok:!1,message:"Supabase no est configurado."};const m=d.trim();if(!m||!h)return{ok:!1,message:"Completa correo y contrasea."};const v=await WS(m,h);return v.ok?v.data.session?(Et("supabase"),s(v.data.session),o("authenticated"),{ok:!0,kind:"signed_in"}):(Et("supabase"),o("local"),{ok:!0,kind:"needs_email_confirmation"}):{ok:!1,message:v.error.message}},async signInWithGoogle(){if(!t)return{ok:!1,message:"Supabase no est configurado."};try{const d=zS(),h=await BS(d);sessionStorage.setItem(ol,d);const m=`${window.location.origin}/auth/callback`,v=GS({provider:"google",redirectTo:m,codeChallenge:h});return Et("supabase"),window.location.assign(v),{ok:!0}}catch{return{ok:!1,message:"No se pudo iniciar OAuth en este dispositivo."}}},async exchangeOAuthCode(d){if(!t)return{ok:!1,message:"Supabase no est configurado."};const h=sessionStorage.getItem(ol)??"";if(sessionStorage.removeItem(ol),!h)return{ok:!1,message:"OAuth incompleto. Intenta de nuevo."};const m=await QS(d,h);return m.ok?(Et("supabase"),s(m.data),o("authenticated"),{ok:!0}):{ok:!1,message:m.error.message}},async signOut(){if(i!=null&&i.access_token)try{await KS(i.access_token)}catch{}Et("local"),s(null),o("local")}}),[c,t,i,a,l]);return r.jsx(Cv.Provider,{value:u,children:e})}function en(){const e=p.useContext(Cv);if(!e)throw new Error("useAuth debe usarse dentro de <AuthProvider />");return e}function Xt(e){try{return`${e}_${crypto.randomUUID()}`}catch{return`${e}_${Math.random().toString(16).slice(2)}${Date.now().toString(16)}`}}function Km(){return"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1.5 text-xs text-white/80 ring-1 ring-white/10 backdrop-blur-md"}function ll(){return"flex w-full items-center justify-between gap-4 rounded-3xl bg-[#0b1220]/72 px-5 py-4 text-left ring-1 ring-white/10 backdrop-blur-xl shadow-[0_18px_60px_rgba(0,0,0,0.45)] transition hover:bg-[#0b1220]/78 active:scale-[0.995]"}function Or(){return"w-full rounded-2xl bg-[#7D5C6B] px-5 py-4 text-center text-sm font-semibold tracking-wide text-white ring-1 ring-white/15 shadow-[0_14px_40px_rgba(0,0,0,0.35)] transition hover:bg-[#6f5160] active:scale-[0.99] disabled:opacity-60 disabled:pointer-events-none"}function Vr(){return"w-full rounded-2xl bg-white/10 px-5 py-4 text-center text-sm font-semibold tracking-wide text-white ring-1 ring-white/12 transition hover:bg-white/12 active:scale-[0.99] disabled:opacity-60 disabled:pointer-events-none"}const Fr="bg-white/10 text-white ring-white/12 placeholder:text-white/35 focus:ring-white/25 disabled:bg-white/8 disabled:ring-white/10";function JS(){const{state:e,dispatch:t}=gt(),n=en(),i=J(),s=ye(new Date),a=n.actorId==="local"?"concia_v1_vault_unlocked":`concia_v1_vault_unlocked_${n.actorId}`,[o,l]=p.useState(()=>{try{return localStorage.getItem(a)==="1"}catch{return!1}}),[c,u]=p.useState(""),[d,h]=p.useState(null),[m,v]=p.useState(""),[y,j]=p.useState(""),[N,x]=p.useState(""),[f,g]=p.useState(null),[w,b]=p.useState(null),C=p.useMemo(()=>[...e.vaultNotes].slice().sort((T,z)=>T.date<z.date?1:-1),[e.vaultNotes]);p.useEffect(()=>{o&&(u(""),h(null))},[o]);function P(){const T=c.trim();if(!/^\d{4,}$/.test(T)){h("PIN invlido. Usa al menos 4 dgitos.");return}try{localStorage.setItem(a,"1")}catch{}l(!0)}function _(){try{localStorage.setItem(a,"1")}catch{}l(!0)}function M(){try{localStorage.removeItem(a)}catch{}l(!1),g(null),b(null)}function L(){const T=y.trim();if(T.length<3)return;const z={id:Xt("v"),date:s,title:m.trim()?m.trim():void 0,content:T,sealed:!0};t({type:"add_vault_note",vaultNote:z}),v(""),j(""),g("notes")}function V(){x(""),g(null)}return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 text-white",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[26px] font-semibold tracking-tight",children:"Bveda"}),r.jsx("div",{className:"mt-2 text-sm text-white/65",children:"Fuera del sistema. No se analiza. No se mide."})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsx("div",{className:Km(),children:At(s)}),o?r.jsxs("button",{type:"button",onClick:M,className:Km(),children:[r.jsx(La,{className:"h-4 w-4","aria-hidden":!0}),"Bloquear"]}):null]})]}),r.jsxs("div",{className:"mt-7 space-y-3",children:[o?null:r.jsxs("div",{className:"rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(uc,{className:"h-5 w-5 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:"Desbloqueo"}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:"mock (v1)"})]})]}),r.jsx("div",{className:"mt-5 text-sm text-white/70 leading-relaxed",children:"En v1 es mock. Sirve para que el flujo exista desde el da 1. En fase 2: cifrado, biometra real, exportacin segura."}),r.jsxs("div",{className:"mt-5",children:[r.jsx("div",{className:"text-xs font-medium text-white/75",children:"PIN"}),r.jsx(ii,{className:`mt-2 ${Fr}`,value:c,onChange:T=>u(T.target.value),inputMode:"numeric",placeholder:""}),d?r.jsx("div",{className:"mt-2 text-xs text-white/65",children:d}):null]}),r.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-2",children:[r.jsx("button",{type:"button",onClick:P,className:Or(),children:r.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[r.jsx(tj,{className:"h-4 w-4","aria-hidden":!0}),"Desbloquear"]})}),r.jsx("button",{type:"button",onClick:_,className:Vr(),children:r.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[r.jsx(Zw,{className:"h-4 w-4","aria-hidden":!0}),"Biometra (mock)"]})})]})]}),o?r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",onClick:()=>g("compose"),className:ll(),children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-9 w-9 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(Jw,{className:"h-4 w-4 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:"Sellar nota"}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:"Escritura privada. Archivo sellado."})]})]}),r.jsx(mn,{className:"h-4 w-4 text-white/50","aria-hidden":!0})]}),r.jsxs("button",{type:"button",onClick:()=>g("ash"),className:ll(),children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-9 w-9 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(ku,{className:"h-4 w-4 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:"Modo ceniza"}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:"Escribe y destruye. No se guarda."})]})]}),r.jsx(mn,{className:"h-4 w-4 text-white/50","aria-hidden":!0})]}),r.jsxs("button",{type:"button",onClick:()=>g("notes"),className:ll(),children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-9 w-9 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(La,{className:"h-4 w-4 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:"Notas selladas"}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:C.length?`${C.length} nota(s)  archivo (no feed)`:"Sin notas todava"})]})]}),r.jsx(mn,{className:"h-4 w-4 text-white/50","aria-hidden":!0})]})]}):null,r.jsxs("div",{className:"rounded-3xl bg-[#0b1220]/55 ring-1 ring-white/10 backdrop-blur-md px-5 py-4 text-sm text-white/70 leading-relaxed",children:["Nada de aqu entra a patrones. Nada de aqu genera lecturas.",r.jsx("div",{className:"mt-3",children:r.jsx("button",{type:"button",onClick:()=>i("/escribir"),className:"inline-flex items-center justify-center rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 transition hover:bg-white/12",children:"Ir a Escribir"})})]})]})]}),r.jsx(xe,{open:f==="compose",title:"Sellar nota",description:"Privado. Fuera del sistema.",onClose:()=>g(null),children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-white/75",children:"Ttulo (opcional)"}),r.jsx(ii,{className:`mt-2 ${Fr}`,value:m,onChange:T=>v(T.target.value),placeholder:"Nombre breve"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-white/75",children:"Contenido"}),r.jsx(Yn,{className:`mt-2 min-h-[220px] ${Fr}`,value:y,onChange:T=>j(T.target.value),placeholder:"Aqu no hay lectura. Solo archivo sellado."})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[r.jsx("button",{type:"button",onClick:()=>j(""),className:Vr(),children:"Limpiar"}),r.jsx("button",{type:"button",onClick:L,className:Or(),disabled:y.trim().length<3,children:"Sellar"})]})]})}),r.jsx(xe,{open:f==="ash",title:"Modo ceniza",description:"Escribe y destruye. No se guarda.",onClose:()=>g(null),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"rounded-2xl bg-white/8 ring-1 ring-white/10 px-5 py-4 text-sm text-white/75",children:"Lo que escribas se destruye con un gesto. No queda registro."}),r.jsx(Yn,{className:`min-h-[220px] ${Fr}`,value:N,onChange:T=>x(T.target.value),placeholder:"Escribe. Luego destruye."}),r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[r.jsx("button",{type:"button",onClick:()=>x(""),className:Vr(),children:"Limpiar"}),r.jsx("button",{type:"button",onClick:V,className:Or(),disabled:N.trim().length<3,children:"Destruir"})]})]})}),r.jsx(xe,{open:f==="notes",title:"Notas selladas",description:"Archivo. No feed. No anlisis.",onClose:()=>g(null),children:r.jsxs("div",{className:"space-y-2",children:[C.map(T=>r.jsxs("button",{type:"button",onClick:()=>{b(T),g("note")},className:"w-full rounded-3xl bg-white/6 px-5 py-4 text-left ring-1 ring-white/10 transition hover:bg-white/8 active:scale-[0.995]",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:T.title??"Nota sellada"}),r.jsx("div",{className:"mt-1 text-xs text-white/55",children:At(T.date)})]}),r.jsx(mn,{className:"mt-0.5 h-4 w-4 shrink-0 text-white/45","aria-hidden":!0})]}),r.jsx("div",{className:"mt-2 text-sm text-white/70 overflow-hidden text-ellipsis [display:-webkit-box] [-webkit-line-clamp:2] [-webkit-box-orient:vertical]",children:T.content})]},T.id)),C.length===0?r.jsx("div",{className:"text-sm text-white/65",children:"Sin notas selladas todava."}):null]})}),r.jsx(xe,{open:f==="note"&&w!==null,title:(w==null?void 0:w.title)??"Nota sellada",description:w?At(w.date):void 0,onClose:()=>{b(null),g(null)},children:w?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"rounded-2xl bg-white/6 ring-1 ring-white/10 px-5 py-4 text-sm text-white/80 whitespace-pre-wrap",children:w.content}),r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[r.jsx("button",{type:"button",onClick:()=>g("notes"),className:Vr(),children:"Volver a notas"}),r.jsx("button",{type:"button",onClick:()=>{b(null),g(null)},className:Or(),children:"Cerrar"})]})]}):null})]})}function ZS(e,t){return t<=0?.08:.1+Math.min(1,e/t)*.55}function _v({cells:e,title:t}){const n=Math.max(1,...e.map(l=>l.value)),i=5,s=7,a=Array.from({length:i},()=>Array.from({length:s},()=>({date:"",value:0})));for(let l=0;l<Math.min(i*s,e.length);l+=1){const c=Math.floor(l/s),u=l%s;a[c][u]=e[l]}const o=["L","M","M","J","V","S","D"];return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/80",children:t}),r.jsx("div",{className:"text-xs text-morning-blue",children:"5 semanas"})]}),r.jsxs("div",{className:"mt-2 rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx("div",{className:"flex items-center justify-between text-[11px] text-outer-space/55",children:o.map(l=>r.jsx("div",{className:"w-[calc(100%/7)] text-center",children:l},l))}),r.jsx("div",{className:"mt-2 grid grid-rows-5 gap-2",children:a.map((l,c)=>r.jsx("div",{className:"grid grid-cols-7 gap-2",children:l.map((u,d)=>{const h=ZS(u.value,n);return r.jsx(Se.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{delay:.08+(c*7+d)*.01,duration:.25},title:`${u.date||""}: ${u.value}`,className:"h-6 rounded-md ring-1 ring-gainsboro/60",style:{backgroundColor:`rgba(84, 41, 25, ${h})`}},`${c}-${d}`)})},c))}),r.jsx("div",{className:"mt-3 text-[11px] text-outer-space/60",children:"Intensidad = densidad de registros por da."})]})]})}function Qe(e){return e.toFixed(2)}function ek(e,t){const n=t.x-e.x,i=t.y-e.y;return{length:Math.hypot(n,i),angle:Math.atan2(i,n)}}function Gm(e){const{current:t,smoothing:n}=e,i=e.previous??t,s=e.next??t,{length:a,angle:o}=ek(i,s),l=o+(e.reverse?Math.PI:0),c=a*n;return{x:t.x+Math.cos(l)*c,y:t.y+Math.sin(l)*c}}function tk(e,t,n,i){const s=Gm({current:n[t-1],previous:n[t-2],next:e,smoothing:i}),a=Gm({current:e,previous:n[t-1],next:n[t+1],reverse:!0,smoothing:i});return`C ${Qe(s.x)} ${Qe(s.y)} ${Qe(a.x)} ${Qe(a.y)} ${Qe(e.x)} ${Qe(e.y)}`}function nk(e){var c,u;const t=e.values.length?e.values:[0],n=((c=e.domain)==null?void 0:c.min)??Math.min(...t),i=((u=e.domain)==null?void 0:u.max)??Math.max(...t),s=Math.max(1e-4,i-n),a=e.width-e.padding*2,o=e.height-e.padding*2,l=t.length<=1?0:a/(t.length-1);return t.map((d,h)=>{const m=e.padding+h*l,v=(d-n)/s,y=e.padding+(1-v)*o;return{x:m,y}})}function Ev(e,t=.22){return e.length?e.length===1?`M ${Qe(e[0].x)} ${Qe(e[0].y)}`:e.reduce((n,i,s,a)=>s===0?`M ${Qe(i.x)} ${Qe(i.y)}`:`${n} ${tk(i,s,a,t)}`,""):""}function Pv(e){if(!e.points.length)return"";const t=e.points[0],n=e.points[e.points.length-1];return`${e.linePath} L ${Qe(n.x)} ${Qe(e.baselineY)} L ${Qe(t.x)} ${Qe(e.baselineY)} Z`}function ik({values:e,className:t}){const n=p.useId(),i=260,s=74,a=10,o=s-a,{linePath:l,areaPath:c,last:u}=p.useMemo(()=>{const m=nk({values:e,width:i,height:s,padding:a,domain:{min:0,max:10}}),v=Ev(m),y=Pv({linePath:v,points:m,baselineY:o}),j=m[m.length-1];return{linePath:v,areaPath:y,last:j}},[o,s,a,e,i]),d=`${n}-fill`,h=`${n}-glow`;return r.jsxs("svg",{viewBox:`0 0 ${i} ${s}`,className:je("h-14 w-full",t),role:"img","aria-label":"Tendencia",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:d,x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"currentColor",stopOpacity:"0.34"}),r.jsx("stop",{offset:"100%",stopColor:"currentColor",stopOpacity:"0"})]}),r.jsxs("filter",{id:h,x:"-30%",y:"-60%",width:"160%",height:"220%",children:[r.jsx("feGaussianBlur",{stdDeviation:"6",result:"blur"}),r.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.35 0",result:"glow"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"glow"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx("path",{d:`M ${a} ${o} L ${i-a} ${o}`,stroke:"currentColor",strokeOpacity:.14,strokeWidth:1.5,strokeLinecap:"round"}),r.jsx(Se.path,{d:c,fill:`url(#${d})`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,ease:"easeOut"}}),r.jsx(Se.path,{d:l,fill:"none",stroke:"currentColor",strokeWidth:2.75,strokeLinecap:"round",initial:{pathLength:0,opacity:.25},animate:{pathLength:1,opacity:1},transition:{duration:.9,ease:"easeInOut"},filter:`url(#${h})`}),r.jsx(Se.circle,{cx:u.x,cy:u.y,r:4,fill:"currentColor",initial:{scale:.6,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.55,duration:.35,ease:"easeOut"}})]})}function zr(e){return e.toFixed(2)}function Tv({points:e,title:t,subtitle:n}){const i=p.useId(),s=560,a=150,o=18,l=a-o,c=`${i}-fill`,{linePath:u,areaPath:d}=p.useMemo(()=>{const h=e.length?e:[{value:0}],m=h.map(C=>C.value),v=s-o*2,y=a-o*2,j=h.length<=1?0:v/(h.length-1),N=0,f=Math.max(1e-4,10-N),g=m.map((C,P)=>{const _=o+P*j,M=(C-N)/f,L=o+(1-M)*y;return{x:_,y:L}}),w=Ev(g,.22),b=Pv({linePath:w,points:g,baselineY:l});return{linePath:w,areaPath:b}},[l,a,o,e,s]);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/80",children:t}),n?r.jsx("div",{className:"text-xs text-morning-blue",children:n}):null]}),r.jsx("div",{className:"mt-2 rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-3 py-3",children:r.jsxs("svg",{viewBox:`0 0 ${s} ${a}`,className:"h-36 w-full text-camel",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:c,x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"currentColor",stopOpacity:"0.26"}),r.jsx("stop",{offset:"100%",stopColor:"currentColor",stopOpacity:"0"})]})}),r.jsx("path",{d:`M ${zr(o)} ${zr(l)} L ${zr(s-o)} ${zr(l)}`,stroke:"currentColor",strokeOpacity:.12,strokeWidth:1.5,strokeLinecap:"round",className:"text-outer-space/80"}),r.jsx(Se.path,{d,fill:`url(#${c})`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,ease:"easeOut"},className:"text-camel"}),r.jsx(Se.path,{d:u,fill:"none",stroke:"currentColor",strokeWidth:2.5,strokeLinecap:"round",initial:{pathLength:0,opacity:.2},animate:{pathLength:1,opacity:1},transition:{duration:.9,ease:"easeInOut"},className:"text-camel"})]})})]})}function sk(e){return Math.max(1,...e.map(t=>t.done+t.partial+t.notDone))}function rk({data:e,title:t}){const n=sk(e);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/80",children:t}),r.jsx("div",{className:"text-xs text-morning-blue",children:"7 das"})]}),r.jsxs("div",{className:"mt-2 rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx("div",{className:"flex items-end gap-2",children:e.map((i,s)=>{const a=i.done+i.partial+i.notDone,o=a/n*120,l=a===0?0:i.done/a*o,c=a===0?0:i.partial/a*o,u=a===0?0:i.notDone/a*o;return r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex h-32 items-end",children:r.jsxs("div",{className:"mx-auto w-full max-w-[34px] rounded-lg bg-white ring-1 ring-gainsboro/70 overflow-hidden",children:[r.jsx(Se.div,{initial:{height:0},animate:{height:l},transition:{duration:.6,delay:.15+s*.04},className:"bg-outer-space/85",title:`Lo hice: ${i.done}`}),r.jsx(Se.div,{initial:{height:0},animate:{height:c},transition:{duration:.6,delay:.18+s*.04},className:"bg-morning-blue/80",title:`A medias: ${i.partial}`}),r.jsx(Se.div,{initial:{height:0},animate:{height:u},transition:{duration:.6,delay:.21+s*.04},className:"bg-gainsboro/90",title:`No lo hice: ${i.notDone}`})]})}),r.jsx("div",{className:"mt-2 text-center text-[11px] text-outer-space/65",children:i.label})]},i.label)})}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-[11px] text-outer-space/70",children:[r.jsxs("div",{className:"inline-flex items-center gap-2",children:[r.jsx("span",{className:"h-2 w-2 rounded-sm bg-outer-space/85","aria-hidden":!0})," Lo hice"]}),r.jsxs("div",{className:"inline-flex items-center gap-2",children:[r.jsx("span",{className:"h-2 w-2 rounded-sm bg-morning-blue/80","aria-hidden":!0})," A medias"]}),r.jsxs("div",{className:"inline-flex items-center gap-2",children:[r.jsx("span",{className:"h-2 w-2 rounded-sm bg-gainsboro/90","aria-hidden":!0})," No lo hice"]})]})]})]})}const cn=[{id:"sp_beneficio_oculto",title:"Beneficio oculto",subtitle:"Lo que ganas al sostener el patrn.",minutes:5,layer:"no_quise_ver_esto",prompt:`Completa sin justificar:

1) Sostengo este patrn para evitar: _____.
2) El beneficio inmediato que obtengo es: _____.
3) El costo real que pago es: _____.
4) Si lo suelto, lo que temo perder es: _____.
5) La ganancia real (si aguanto la incomodidad) sera: _____.
`},{id:"sp_disparador_real",title:"Disparador real",subtitle:"No es el evento. Es lo que toc.",minutes:7,layer:"algo_me_incomodo",prompt:`Hecho (1 lnea): _____.

Disparador: qu parte de m se sinti en peligro? _____.
Reaccin automtica: _____.
Lo que quise decir (sin justificar): _____.
Lo que estoy evitando aceptar: _____.
`},{id:"sp_primera_vez",title:"Primera vez",subtitle:"La escena donde aprendiste la regla.",minutes:10,layer:"no_quise_ver_esto",prompt:`Cundo aprendiste que decir no era peligroso?

Qu pasaba.
Qu hiciste para sobrevivir.
Qu sigues repitiendo hoy como si fuera la misma escena.
`},{id:"sp_dialogo_parte",title:"Dilogo con la parte que cede",subtitle:"No la mates. Entindela.",minutes:8,layer:"desahogo_libre",prompt:`Si la parte que cede hablara, dira:
_____.

Lo que cree que protege: _____.
Lo que no ve: _____.
Lo que necesita para soltar (sin herosmo): _____.
`},{id:"sp_talento_oculto",title:"Talento reprimido",subtitle:"Lo que escondiste para encajar.",minutes:8,layer:"hoy_si_lo_hice",prompt:`Rasgo que reprim para encajar: _____.
Quin lo castig / dnde lo aprend: _____.
Cmo se asoma hoy (control, ira, apata, buena persona): _____.
Si lo uso con cuidado, se vuelve: _____.
`},{id:"sp_ego_verdad",title:"Ego vs verdad",subtitle:"La imagen que ests sosteniendo.",minutes:6,layer:"no_quise_ver_esto",prompt:`Imagen que intento sostener: _____.
Lo que temo que vean: _____.
Lo que oculto para sostener esa imagen: _____.
Un acto pequeo de autenticidad hoy: _____.
`}];function I(e,t,n){return{id:e,text:t}}const Xn=[{id:"t_limites_corto",theme:"lmites",length:"corto",title:"Pulso de lmites (corto)",description:"Detecta ceder temprano y explotar tarde.",suggestedPatternId:"p_001",questions:[I("q1","Digo que s antes de revisar si realmente puedo."),I("q2","Me cuesta decir no sin justificar."),I("q3","Acepto cambios de ltimo minuto aunque me afecten."),I("q4","Me doy cuenta tarde de que ya cruc mi lmite."),I("q5","Prefiero aguantar para no incomodar."),I("q6","Termino resentido por cosas que yo acept."),I("q7","Pongo lmites solo cuando ya estoy al lmite."),I("q8","Me siento culpable cuando priorizo mi tiempo.")]},{id:"t_autoestima_corto",theme:"autoestima",length:"corto",title:"Autoestima sin maquillaje (corto)",description:"Detecta autoanulacin y permiso externo.",suggestedPatternId:"p_005",questions:[I("q1","Me hago pequeo para evitar conflicto."),I("q2","Me cuesta pedir lo que necesito."),I("q3","Me disculpo incluso cuando no hice nada malo."),I("q4","Cambio mi postura para no parecer difcil."),I("q5","Evito decir lo que quiero si puede incomodar."),I("q6","Me cuesta sostener mi decisin sin aprobacin."),I("q7","Me siento expuesto cuando soy directo."),I("q8","Digo no pasa nada cuando s pasa.")]},{id:"t_evitacion_corto",theme:"evitacin",length:"corto",title:"Evitacin activa (corto)",description:"Detecta postergacin emocional con excusas limpias.",suggestedPatternId:"p_003",questions:[I("q1","Cuando algo me incomoda, lo convierto en anlisis."),I("q2","Evito conversaciones difciles aunque me afecten."),I("q3","Me distraigo cuando debera decidir."),I("q4","Me digo luego lo veo para no sentir."),I("q5","Prefiero esperar seales en lugar de preguntar directo."),I("q6","Me convenzo de que no es tan importante."),I("q7","Me quedo en la cabeza para no estar en el cuerpo."),I("q8","Busco claridad perfecta antes de moverme.")]},{id:"t_rumiacion_corto",theme:"rumiacin",length:"corto",title:"Rumiacin circular (corto)",description:"Detecta vueltas mentales como forma de control.",suggestedPatternId:"p_004",questions:[I("q1","Reviso conversaciones pasadas buscando la frase perfecta."),I("q2","Me cuesta soltar un tema cuando me activa."),I("q3","Pienso escenarios una y otra vez."),I("q4","Necesito entender todo antes de actuar."),I("q5","Me cuesta quedarme en no s."),I("q6","La rumiacin me roba sueo."),I("q7","Me justifico con solo estoy pensando."),I("q8","Me cuesta decidir con informacin incompleta.")]},{id:"t_apego_corto",theme:"apego",length:"corto",title:"Apego a seales (corto)",description:"Detecta persecucin de confirmacin.",suggestedPatternId:"p_002",questions:[I("q1","Me altera que tarden en responderme."),I("q2","Interpreto seales pequeas como prueba de valor."),I("q3","Me cuesta pedir claridad directa en vnculos."),I("q4","Hago algo casual para provocar respuesta."),I("q5","Me tranquiliza ms una seal que una conversacin real."),I("q6","Me quedo pendiente del telfono."),I("q7","Me cuesta sostener distancia sin intervenir."),I("q8","Confundo ansiedad con conexin.")]},{id:"t_desgaste_corto",theme:"desgaste",length:"corto",title:"Desgaste por sostener (corto)",description:"Detecta carga crnica por autoexigencia y utilidad.",suggestedPatternId:"p_001",questions:[I("q1","Me siento responsable de sostener el ambiente."),I("q2","Me cuesta descansar sin culpa."),I("q3","Ser til define mi valor."),I("q4","Me cuesta delegar aunque est saturado."),I("q5","Me desconecto para seguir funcionando."),I("q6","Me siento cansado incluso cuando no hago tanto."),I("q7","Me digo aguanta como norma."),I("q8","Pospongo necesidades bsicas (comer, dormir, moverme).")]},{id:"t_limites_largo",theme:"lmites",length:"largo",title:"Inventario de lmites (largo)",description:"Mapea lmites por contexto y reaccin dominante.",suggestedPatternId:"p_001",questions:[I("q1","Acepto tareas que no me corresponden."),I("q2","Me cuesta decir no a familia."),I("q3","Me cuesta decir no en trabajo."),I("q4","Me cuesta decir no en pareja."),I("q5","Respondo mensajes aunque ya no tenga energa."),I("q6","Me justifico para que el otro no se enoje."),I("q7","Me siento egosta cuando elijo mi plan."),I("q8","Me cuesta pedir respeto en el momento."),I("q9","Me callo para evitar tensin."),I("q10","Exploto cuando ya acumul demasiado."),I("q11","Me cuesta sostener el silencio despus de poner un lmite."),I("q12","Me preocupo ms por la reaccin que por mi necesidad."),I("q13","Me cuesta decir esto no sin ofrecer algo a cambio."),I("q14","Me cuesta detener una conversacin que me lastima."),I("q15","Pongo mi cuerpo al final (sueo, comida, descanso)."),I("q16","Me cuesta pedir tiempo para pensar."),I("q17","Me comprometo con fechas que no puedo cumplir."),I("q18","Evito cobrar o hablar de dinero por incomodidad."),I("q19","Me siento responsable de resolverlo todo."),I("q20","Me cuesta distinguir ayuda de autoabandono."),I("q21","Hago cosas por miedo a que me dejen de querer."),I("q22","Me cuesta decir no puedo con eso sin sentir culpa."),I("q23","Mi lmite llega tarde: primero cedo, luego me arrepiento."),I("q24","Siento resentimiento por decisiones que yo tom.")]},{id:"t_evitacion_largo",theme:"evitacin",length:"largo",title:"Mapa de evitacin (largo)",description:"Identifica cmo postergas la verdad con hbitos productivos.",suggestedPatternId:"p_003",questions:[I("q1","Procrastino lo importante y hago cosas menores."),I("q2","Me distraigo justo cuando tengo que decidir."),I("q3","Me cuesta pedir lo que necesito por miedo a molestar."),I("q4","Evito conversaciones incmodas."),I("q5","Me digo no es para tanto para no sentir."),I("q6","Uso el humor para evitar vulnerabilidad."),I("q7","Me vuelvo eficiente para no volverme honesto."),I("q8","Me cuesta quedarme sin respuesta."),I("q9","Me cuesta aceptar que algo me duele."),I("q10","Me cuesta pedir claridad directa."),I("q11","Me digo primero necesito entender para posponer."),I("q12","Busco aprobacin sin pedirla de frente."),I("q13","Evito el conflicto aunque me cueste."),I("q14","Me desconecto (pantallas/ruido) cuando me activo."),I("q15","Me cuesta estar en silencio conmigo."),I("q16","Me quedo en la cabeza en lugar de sentir el cuerpo."),I("q17","Me cuesta sostener una incomodidad breve."),I("q18","Me cuesta cortar una rumiacin cuando empieza."),I("q19","Me cuesta decir esto s me importa."),I("q20","Me cuesta mirar mis patrones sin justificarme."),I("q21","Prefiero una excusa elegante a una verdad simple."),I("q22","Evito elegir para no perder opciones.")]}],ak=7,Mv="concia_v1_pending_subscription";function ok(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function lk(e){const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function Iv(e){return`concia_v1_subscription_${e||"local"}`}function ck(){try{const e=localStorage.getItem(Mv);if(!e)return null;const t=JSON.parse(e);if(!t||typeof t!="object")return null;const n=t.selectedPlan??"none";if(n!=="none"&&n!=="xmi_total"&&n!=="xmi_asistencia")return null;const i=typeof t.trialStartedAt=="string"?t.trialStartedAt:void 0;return{selectedPlan:n,trialStartedAt:i}}catch{return null}}function uk(){try{localStorage.removeItem(Mv)}catch{}}function dk(e){const t=Iv(e);let n={selectedPlan:"none"};try{const a=localStorage.getItem(t);if(!a)n={selectedPlan:"none"};else{const o=JSON.parse(a);o&&typeof o=="object"&&(n={selectedPlan:o.selectedPlan??"none",trialStartedAt:o.trialStartedAt})}}catch{}const i=ck();return e!=="local"&&i&&n.selectedPlan==="none"&&!n.trialStartedAt?(uk(),{...n,...i}):n}function hk(e,t){switch(t.type){case"start_trial":return{...e,trialStartedAt:t.startedAt};case"end_trial":return{...e,trialStartedAt:void 0};case"select_plan":return{...e,selectedPlan:t.plan};case"reset":return{selectedPlan:"none",trialStartedAt:void 0};default:return e}}const Av=p.createContext(null);function mk({actorId:e,children:t}){const[n,i]=p.useReducer(hk,e,dk);p.useEffect(()=>{const o=Iv(e);try{localStorage.setItem(o,JSON.stringify(n))}catch{}},[e,n]);const s=p.useMemo(()=>{const o=n.trialStartedAt?lk(n.trialStartedAt):null,l=o?ok(o,ak):null,c=!!(l&&l.getTime()>Date.now()),u=n.selectedPlan!=="none"?n.selectedPlan:c?"xmi_total":"none";return{trialActive:c,trialEndsAtISO:l?l.toISOString():null,effectivePlan:u,hasSystem:u!=="none",hasAssistance:u==="xmi_asistencia"}},[n.selectedPlan,n.trialStartedAt]),a=p.useMemo(()=>({state:n,dispatch:i,derived:s}),[s,n]);return r.jsx(Av.Provider,{value:a,children:t})}function xt(){const e=p.useContext(Av);if(!e)throw new Error("useSubscription debe usarse dentro de <SubscriptionProvider />");return e}function Wi(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function od(e){return Math.max(0,Math.min(1,e))}function pk(e){const t=e.slice(-30),n=Wi(t.slice(-7)),i=Wi(t.slice(-14,-7)),s=n-i;return s>.7?"up":s<-.7?"down":"flat"}function cl(e){return e==="up"?"":e==="down"?"":""}function fk(e){return e.trend==="flat"?"estable":e.kind==="negative"?e.trend==="up"?"ms activo":"menos activo":e.trend==="up"?"sube":"baja"}function gk(e){return e?e==="nublado"?2:e==="medio"?6:9:0}function xk(e){return e!=null&&e.outcome?e.outcome==="lo_hice"?9:e.outcome==="a_medias"?5:2:0}function qn(e,t){return e.filter(n=>n.reaction===t).length}function vk(e){const t=qn(e,"puse_limite")+qn(e,"pedi")+qn(e,"negocie"),n=qn(e,"cedi")+qn(e,"calle")+qn(e,"hui"),i=qn(e,"explote"),s=e.length||1,a=(t-n-i*.6)/s,o=od(.5+a*.75);return Math.round(o*10*10)/10}function yk(e){if(e.length===0)return 0;const t=e.filter(a=>a.type==="no_quise_ver_esto").length,n=e.filter(a=>a.repeatSignal==="si").length,i=e.filter(a=>a.silenceMode).length,s=od((t*1+n*.6+i*.4)/Math.max(1,e.length));return Math.round((2+s*8)*10)/10}function wk(e){if(e.length===0)return 0;const t=e.filter(s=>s.emotionalWeight>=8).length,n=e.filter(s=>s.reaction==="explote").length,i=od((t*.7+n*1.2)/Math.max(1,e.length));return Math.round((2+i*8)*10)/10}function jk(e){const t=De(e);return new Intl.DateTimeFormat("es-MX",{weekday:"short",day:"2-digit",month:"short"}).format(t).replaceAll(".","")}function Ym(e){var u;const{checkIn:t,entries:n,intention:i}=e,s=n.some(d=>d.silenceMode),a=n.some(d=>d.reaction==="puse_limite"||d.reaction==="pedi"),o=(u=n.find(d=>d.practiceId))==null?void 0:u.practiceId;if((i==null?void 0:i.outcome)==="lo_hice")return{headline:`Movimiento: ${i.intentionType}.`,tone:"movement"};if(o){const d=Rv(o);return s?{headline:d?`Prctica en silencio: ${d}.`:"Prctica en silencio.",tone:"silence"}:{headline:d?`Prctica: ${d}.`:"Prctica registrada.",tone:"movement"}}if(a)return{headline:"Movimiento: sostuviste un lmite (evidencia en registros).",tone:"movement"};if(s)return{headline:"Sesin en silencio: guardaste sin lectura inmediata.",tone:"silence"};const l=typeof(t==null?void 0:t.emotionalWeight)=="number"?t.emotionalWeight:n.length?Math.round(Wi(n.map(d=>d.emotionalWeight))*10)/10:0,c=t==null?void 0:t.clarity;return l>=8&&c==="nublado"?{headline:"Da pesado: carga alta, claridad nublada.",tone:"heavy"}:n.length>0?{headline:`Evidencia registrada: ${n.length} evento(s).`,tone:"neutral"}:t?{headline:"Ritual mnimo: check-in sin evidencia.",tone:"neutral"}:{headline:"Sin registro.",tone:"neutral"}}function bk(e){var n;if(Xn.length===0)return null;const t=(e.getFullYear()*12+e.getMonth())%Xn.length;return((n=Xn[t])==null?void 0:n.id)??null}function Nk(e){return[...e].sort((t,n)=>n.frequency30d-t.frequency30d)[0]}function Sk(e){return e==="desahogo_libre"?"Desahogo libre":e==="algo_me_incomodo"?"Algo me incomod":e==="queria_hacer_algo_distinto"?"Quera hacer algo distinto":e==="hoy_si_lo_hice"?"Hoy s lo hice":"No quise ver esto"}function kk(e){const t=e.text.replace(/\s+/g," ").trim();return t.length>140?`${t.slice(0,137)}`:t}function Rv(e){var t;if(e)return(t=cn.find(n=>n.id===e))==null?void 0:t.title}function Ck(e){var o,l;const t=new Map(cn.map(c=>[c.id,c])),n=c=>t.has(c)?c:cn[0].id,i=((l=(o=e.shadow)==null?void 0:o.name)==null?void 0:l.toLowerCase())??"";if(i.includes("evit"))return n("sp_beneficio_oculto");if(i.includes("rumi"))return n("sp_disparador_real");if(i.includes("lmite")||i.includes("limite"))return n("sp_dialogo_parte");if(i.includes("aprob"))return n("sp_ego_verdad");if(i.includes("autoanul"))return n("sp_talento_oculto");const a=e.indicators.filter(c=>c.kind==="negative").map(c=>({id:c.id,last7:Wi(c.values30d.slice(-7))})).sort((c,u)=>u.last7-c.last7)[0];return(a==null?void 0:a.id)==="evitacion"?n("sp_beneficio_oculto"):(a==null?void 0:a.id)==="drama_conflicto"?n("sp_disparador_real"):n("sp_beneficio_oculto")}function _k(){const{state:e}=gt(),t=xt(),n=J(),i=!t.derived.hasSystem,[s,a]=p.useState(null),o=ye(new Date),l=De(o),c=p.useMemo(()=>Array.from({length:14},(k,S)=>ye(We(l,-13+S))),[l]),u=p.useMemo(()=>c.slice().reverse().map(k=>{const S=e.entries.filter(B=>B.date===k),E=e.checkIns.find(B=>B.date===k),R=e.intentions.filter(B=>B.date===k).sort((B,X)=>B.id<X.id?1:-1)[0],F=e.readings.filter(B=>B.date===k).length,{headline:W,tone:Y}=Ym({checkIn:E,entries:S,intention:R}),U=[];return E?(U.push(`energa ${E.energy}`),U.push(`peso ${E.emotionalWeight}`),U.push(`claridad ${E.clarity}`)):S.length&&(U.push(`${S.length} registro(s)`),U.push(`peso prom. ${Math.round(Wi(S.map(B=>B.emotionalWeight))*10)/10}`)),R&&!R.outcome&&U.push("intencin sin cierre"),F&&U.push(`${F} lectura(s)`),{date:k,headline:W,detail:U.length?U.join("  "):void 0,tone:Y}}),[c,e.checkIns,e.entries,e.intentions,e.readings]),d=p.useMemo(()=>u.find(k=>k.date===o),[u,o]),h=p.useMemo(()=>{const k={movement:0,heavy:0,silence:0,neutral:0};for(const S of u)k[S.tone]+=1;return k},[u]),m=p.useMemo(()=>Array.from({length:7},(k,S)=>ye(We(l,-6+S))),[l]),v=p.useMemo(()=>m.map(k=>{const S=e.intentions.filter(Y=>Y.date===k),E=S.filter(Y=>Y.outcome==="lo_hice").length,R=S.filter(Y=>Y.outcome==="a_medias").length,F=S.filter(Y=>Y.outcome==="no_lo_hice").length;return{label:new Intl.DateTimeFormat("es-MX",{weekday:"short"}).format(De(k)).replace(".",""),done:E,partial:R,notDone:F}}),[m,e.intentions]),y=p.useMemo(()=>{const k=We(De(o),-29),S=e.intentions.filter(R=>De(R.date)>=k),E=new Map;for(const R of S){const F=E.get(R.intentionType)??{total:0,notAchieved:0,noClose:0};F.total+=1,R.outcome?R.outcome!=="lo_hice"&&(F.notAchieved+=1):F.noClose+=1,E.set(R.intentionType,F)}return[...E.entries()].map(([R,F])=>({type:R,total:F.total,pctNotAchieved:F.total===0?0:Math.round(F.notAchieved/F.total*100),noClose:F.noClose})).sort((R,F)=>F.total-R.total).slice(0,5)},[e.intentions,o]),j=p.useMemo(()=>Array.from({length:30},(k,S)=>ye(We(l,-29+S))),[l]),N=p.useMemo(()=>{const k=j.map(U=>{var B;return gk((B=e.checkIns.find(X=>X.date===U))==null?void 0:B.clarity)}),S=j.map(U=>{const B=e.intentions.find(X=>X.date===U&&X.intentionType==="Decir que no");return xk(B)}),E=j.map(U=>vk(e.entries.filter(B=>B.date===U))),R=j.map(U=>yk(e.entries.filter(B=>B.date===U))),F=j.map(U=>wk(e.entries.filter(B=>B.date===U))),W=e.entries.filter(U=>j.includes(U.date)).length,Y=e.checkIns.filter(U=>j.includes(U.date)).length;return[{id:"decir_no",title:"Decir NO",kind:"positive",values30d:S,evidenceHint:"Basado en intenciones tipo Decir que no (30 das).",shadowHypothesis:"Evitar el NO suele comprar aceptacin inmediata y venderte despus."},{id:"respeto_limites",title:"Respeto a mis lmites",kind:"positive",values30d:E,evidenceHint:`Basado en reacciones (puse lmite/ped/ced/call)  ${W} registro(s).`,shadowHypothesis:"Ceder temprano puede evitar culpa hoy y construir resentimiento maana."},{id:"autoestima_conductual",title:"Autoestima conductual",kind:"neutral",values30d:E.map(U=>Math.round((U*.9+Wi(k)*.1)*10)/10),evidenceHint:"No cmo te sientes: cmo actas cuando cuesta.",shadowHypothesis:"La imagen pblica suele protegerte de sentirte demasiado frente a otros."},{id:"evitacion",title:"Evitacin",kind:"negative",values30d:R,evidenceHint:`Basado en No quise ver esto, seal de repeticin y silencio  ${W} registro(s).`,shadowHypothesis:"Evitar puede darte control y quitarte conflicto. Tambin te quita verdad."},{id:"drama_conflicto",title:"Drama / conflicto",kind:"negative",values30d:F,evidenceHint:`Basado en densidad (peso  8) y reaccin explot  ${W} registro(s).`,shadowHypothesis:"El drama a veces mantiene vnculo: sin conflicto, no sabes dnde ests parado."},{id:"claridad",title:"Claridad",kind:"positive",values30d:k,evidenceHint:`Basado en check-ins  ${Y} da(s) con ritual.`,shadowHypothesis:"La confusin puede ser un lugar seguro: te evita una decisin."}]},[j,e.checkIns,e.entries,e.intentions]),x=p.useMemo(()=>Nk(e.patterns),[e.patterns]),f=p.useMemo(()=>Ck({shadow:x,indicators:N}),[N,x]),[g,w]=p.useState(null),b=p.useMemo(()=>{const k=g??f;return cn.find(S=>S.id===k)??cn[0]},[g,f]),C=p.useMemo(()=>[...e.patterns].sort((k,S)=>S.frequency30d-k.frequency30d).slice(0,8),[e.patterns]),[P,_]=p.useState(null),M=p.useMemo(()=>{var U;if(!P)return null;const k=e.entries.filter(B=>B.date===P).sort((B,X)=>B.id<X.id?1:-1),S=e.checkIns.find(B=>B.date===P),E=e.intentions.filter(B=>B.date===P).sort((B,X)=>B.id<X.id?1:-1)[0],R=e.readings.filter(B=>B.date===P).sort((B,X)=>B.id<X.id?1:-1),{headline:F,tone:W}=Ym({checkIn:S,entries:k,intention:E}),Y=(U=R[0])==null?void 0:U.id;return{iso:P,entries:k,checkIn:S,intention:E,headline:F,tone:W,readingsCount:R.length,latestReadingId:Y}},[P,e.checkIns,e.entries,e.intentions,e.readings]),L=p.useMemo(()=>{const k=[],S=We(l,-34);for(let E=0;E<35;E+=1){const R=We(S,E),F=ye(R),W=De(F)>l?0:e.entries.filter(Y=>Y.date===F).length;k.push({date:F,value:W})}return k},[e.entries,l]),V=p.useMemo(()=>{const k=[],S=We(l,-29);for(let E=0;E<30;E+=1){const R=We(S,E),F=ye(R),W=e.checkIns.find(B=>B.date===F),Y=e.entries.filter(B=>B.date===F),U=Y.length===0?0:Math.round(Y.reduce((B,X)=>B+X.emotionalWeight,0)/Y.length*10)/10;k.push({value:typeof(W==null?void 0:W.emotionalWeight)=="number"?W.emotionalWeight:U})}return k},[e.checkIns,e.entries,l]),T=p.useMemo(()=>{const k=bk(l);return k?Xn.find(S=>S.id===k):void 0},[l]);function z({title:k,subtitle:S,meta:E,onClick:R}){return r.jsxs("button",{type:"button",onClick:R,className:"w-full rounded-2xl bg-white/5 px-5 py-4 text-left ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/8 active:scale-[0.99]",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:k}),S?r.jsx("div",{className:"mt-1 text-xs text-white/65",children:S}):null]}),r.jsx(mn,{className:"mt-0.5 h-4 w-4 shrink-0 text-white/55","aria-hidden":!0})]}),E?r.jsx("div",{className:"mt-3 text-xs text-white/55",children:E}):null]})}function ae(){return"w-full rounded-2xl bg-[#7D5C6B] px-5 py-4 text-center text-sm font-semibold tracking-wide text-white ring-1 ring-white/15 shadow-[0_14px_40px_rgba(0,0,0,0.35)] transition hover:bg-[#6f5160] active:scale-[0.99]"}function ke(){return"w-full rounded-2xl bg-white/5 px-5 py-4 text-center text-sm font-semibold tracking-wide text-white ring-1 ring-white/10 transition hover:bg-white/8 active:scale-[0.99]"}function Ve(){return"rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 transition hover:bg-white/12"}return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 text-white",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[28px] font-semibold tracking-tight",children:"Mapa"}),r.jsx("div",{className:"mt-2 text-sm text-white/65",children:"Tablero de conciencia. Aqu s se ve."})]}),r.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1.5 text-xs text-white/80 ring-1 ring-white/10 backdrop-blur-md",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-white/60","aria-hidden":!0}),"Local"]})]}),r.jsxs("div",{className:"mt-7 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[i?r.jsxs("div",{className:"rounded-2xl bg-white/8 ring-1 ring-white/10 px-4 py-4",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:"Modo bsico"}),r.jsx("div",{className:"mt-1 text-xs text-white/65",children:"Puedes ver el mapa, pero Lecturas/Caja se limitan. Esto es un visor de avance."}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{type:"button",onClick:()=>n("/planes"),className:ke(),children:"Ver planes"})})]}):null,r.jsxs("div",{className:i?"mt-5":"",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"HOY"}),r.jsx("div",{className:"mt-3 text-xl font-semibold tracking-tight text-white",children:At(o)}),r.jsx("div",{className:"mt-2 text-sm leading-relaxed text-white/70",children:(d==null?void 0:d.headline)??"Sin registro."}),d!=null&&d.detail?r.jsx("div",{className:"mt-1 text-xs text-white/55",children:d.detail}):null,r.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3",children:[r.jsx(z,{title:"Resumen",subtitle:"Hoy  sombra dominante  ltimos 14 das",meta:x!=null&&x.name?`Sombra dominante: ${x.name}`:void 0,onClick:()=>a("resumen")}),r.jsx(z,{title:"Agenda (14 das)",subtitle:"Movimiento y recada sin juicio",meta:`${h.movement} movimiento  ${h.heavy} pesado  ${h.silence} silencio  ${h.neutral} neutro`,onClick:()=>a("agenda")}),r.jsx(z,{title:"Indicadores (30 das)",subtitle:"Mapas de marea (no desempeo)",meta:"Cada indicador debe poder responder: qu beneficio oculto sostiene esto?",onClick:()=>a("indicadores")}),r.jsx(z,{title:"Patrones",subtitle:"Evidencia y tendencia",meta:C.length?`Top: ${C[0].name}`:"An no hay patrones suficientes.",onClick:()=>a("patrones")}),r.jsx(z,{title:"Intencin vs Realidad",subtitle:"7 das (visual) + 30 das (resumen)",onClick:()=>a("intencion")}),r.jsx(z,{title:"Archivo visual",subtitle:"Grficas grandes viven aqu, no en Sesin",onClick:()=>a("densidad")}),r.jsx(z,{title:"Prctica sugerida",subtitle:`${b.minutes} min  ${b.title}`,onClick:()=>a("practica")}),r.jsx(z,{title:"Test del mes",subtitle:"Rotacin mensual (mock)",meta:(T==null?void 0:T.title)??"Sin tests disponibles.",onClick:()=>a("tests")})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>n("/crisis"),className:Ve(),children:"Crisis"}),r.jsx("button",{type:"button",onClick:()=>n("/boveda"),className:Ve(),children:"Bveda"}),r.jsx("button",{type:"button",onClick:()=>n("/mas"),className:Ve(),children:"Ms"})]})]})]}),r.jsx(xe,{open:s==="resumen",title:"Resumen",description:"Lo mnimo para ver hoy + rastro.",onClose:()=>a(null),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"rounded-2xl bg-white/8 ring-1 ring-white/10 px-5 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"HOY"}),r.jsx("div",{className:"mt-2 text-sm font-semibold tracking-tight text-white",children:At(o)}),r.jsx("div",{className:"mt-2 text-sm text-white/70",children:(d==null?void 0:d.headline)??"Sin registro."}),d!=null&&d.detail?r.jsx("div",{className:"mt-1 text-xs text-white/55",children:d.detail}):null,r.jsx("div",{className:"mt-3 text-xs text-white/55",children:"Si vas a entrar a ver mtricas, que sea con intencin."})]}),r.jsxs("div",{className:"rounded-2xl bg-white/8 ring-1 ring-white/10 px-5 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"SOMBRA DOMINANTE (30d)"}),r.jsx("div",{className:"mt-2 text-sm font-semibold tracking-tight text-white",children:(x==null?void 0:x.name)??""}),r.jsx("div",{className:"mt-2 text-sm text-white/70",children:x?`Frecuencia 30d: ${x.frequency30d}  tendencia ${cl(x.trend)}`:"Sin patrn suficiente todava."}),x?r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{type:"button",onClick:()=>n(`/patrones/archivo?patternId=${encodeURIComponent(x.id)}`),className:"rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 transition hover:bg-white/12",children:"Revisar evidencia"})}):null]}),r.jsxs("div",{className:"rounded-2xl bg-white/8 ring-1 ring-white/10 px-5 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"LTIMOS 14 DAS"}),r.jsxs("div",{className:"mt-3 grid grid-cols-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold tracking-tight text-white",children:h.movement}),r.jsx("div",{className:"text-[11px] text-white/55",children:"movimiento"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold tracking-tight text-white",children:h.heavy}),r.jsx("div",{className:"text-[11px] text-white/55",children:"pesado"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold tracking-tight text-white",children:h.silence}),r.jsx("div",{className:"text-[11px] text-white/55",children:"silencio"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold tracking-tight text-white",children:h.neutral}),r.jsx("div",{className:"text-[11px] text-white/55",children:"neutro"})]})]}),r.jsx("div",{className:"mt-3 text-xs text-white/55",children:"No es calificacin. Es rastro."})]}),r.jsxs("div",{className:"rounded-2xl bg-white/8 ring-1 ring-white/10 px-5 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"CICLO SUGERIDO"}),r.jsx("div",{className:"mt-2 text-sm font-semibold tracking-tight text-white",children:"12 semanas"}),r.jsx("div",{className:"mt-2 text-sm text-white/70",children:"No para sentirte bien. Para ver repeticin y elegir distinto."})]})]})}),r.jsx(xe,{open:s==="agenda",title:"Agenda",description:"14 das. Movimiento y recada sin juicio. Solo rastro.",onClose:()=>a(null),children:r.jsx("div",{className:"space-y-3",children:u.map(k=>{const S=k.tone==="movement"?"bg-emerald-200/80":k.tone==="heavy"?"bg-amber-200/80":k.tone==="silence"?"bg-sky-200/80":"bg-white/45";return r.jsxs("button",{type:"button",onClick:()=>_(k.date),className:"w-full rounded-2xl bg-white/5 px-5 py-4 text-left ring-1 ring-white/10 transition hover:bg-white/8 active:scale-[0.99]",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`h-2.5 w-2.5 rounded-full ${S}`,"aria-hidden":!0}),r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:jk(k.date)})]}),r.jsx("div",{className:"text-xs text-white/55",children:k.detail??""})]}),r.jsx("div",{className:"mt-2 text-sm text-white/75",children:k.headline}),k.tone==="movement"?r.jsx("div",{className:"mt-2 text-xs text-white/55",children:"Sin aplauso. Esto cuenta como evidencia."}):k.tone==="heavy"?r.jsx("div",{className:"mt-2 text-xs text-white/55",children:"No se arregla hoy. Se nombra hoy."}):k.tone==="silence"?r.jsx("div",{className:"mt-2 text-xs text-white/55",children:"Silencio no es vaco. Es una decisin."}):null]},k.date)})})}),r.jsx(xe,{open:s==="patrones",title:"Patrones",description:"Evidencia antes que historia.",onClose:()=>a(null),children:r.jsxs("div",{className:"space-y-3",children:[C.length?C.map(k=>r.jsx("button",{type:"button",onClick:()=>n(`/patrones/archivo?patternId=${encodeURIComponent(k.id)}`),className:"w-full rounded-2xl bg-white/5 px-5 py-4 text-left ring-1 ring-white/10 transition hover:bg-white/8 active:scale-[0.99]",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:k.name}),r.jsxs("div",{className:"mt-1 text-xs text-white/60",children:[k.frequency30d," evento(s)  tendencia ",cl(k.trend)]})]}),r.jsx(mn,{className:"mt-0.5 h-4 w-4 shrink-0 text-white/55","aria-hidden":!0})]})},k.id)):r.jsx("div",{className:"rounded-2xl bg-white/5 ring-1 ring-white/10 px-5 py-4 text-sm text-white/70",children:"An no hay patrones suficientes."}),r.jsx("div",{className:"text-xs text-white/55",children:"Toca un patrn para abrir evidencia."})]})}),r.jsx(xe,{open:s==="indicadores",title:"Indicadores",description:"Mapas de marea. No desempeo.",onClose:()=>a(null),children:r.jsx("div",{className:"space-y-3",children:N.map(k=>{const S=pk(k.values30d),E=fk({trend:S,kind:k.kind}),R=k.kind==="negative"?"text-amber-200":k.kind==="neutral"?"text-white/55":"text-camel";return r.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-white/10 px-5 py-5",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:k.title}),r.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full bg-white/10 px-2 py-1 text-[11px] text-white/80 ring-1 ring-white/10",children:[r.jsx("span",{className:"text-white/80",children:cl(S)}),r.jsx("span",{children:E})]})]}),r.jsx("div",{className:"mt-3",children:r.jsx(ik,{values:k.values30d,className:R})}),r.jsxs("div",{className:"mt-4 rounded-2xl bg-black/25 ring-1 ring-white/10 px-4 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"BENEFICIO OCULTO (HIPTESIS)"}),r.jsx("div",{className:"mt-2 text-sm text-white/75 leading-relaxed",children:k.shadowHypothesis}),r.jsxs("div",{className:"mt-3 text-[11px] text-white/55",children:["Evidencia: ",k.evidenceHint]})]})]},k.id)})})}),r.jsx(xe,{open:s==="intencion",title:"Intencin vs Realidad",description:"7 das (visual) + 30 das (resumen).",onClose:()=>a(null),children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"rounded-2xl bg-white/82 ring-1 ring-white/15 px-4 py-4",children:r.jsx(rk,{data:v,title:"Intencin vs Realidad"})}),r.jsxs("div",{className:"rounded-2xl bg-white/82 ring-1 ring-white/15 px-5 py-5",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Resumen 30 das"}),r.jsx("div",{className:"mt-3 space-y-2",children:y.length?y.map(k=>r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:k.type}),r.jsxs("div",{className:"text-sm text-outer-space/70",children:[k.pctNotAchieved,"% no logrado",k.noClose?`  ${k.noClose} sin cierre`:""]})]},k.type)):r.jsx("div",{className:"text-sm text-outer-space/70",children:"Sin intencin suficiente todava."})}),r.jsx("div",{className:"mt-3 text-xs text-outer-space/60",children:"Si una intencin se repite y no se cierra, el sistema lo trata como dato, no como falla."})]})]})}),r.jsx(xe,{open:s==="densidad",title:"Archivo visual",description:"Grficas grandes viven aqu, no en Sesin.",onClose:()=>a(null),children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"rounded-2xl bg-white/82 ring-1 ring-white/15 px-4 py-4",children:r.jsx(_v,{cells:L,title:"Densidad (heatmap semanal)"})}),r.jsx("div",{className:"rounded-2xl bg-white/82 ring-1 ring-white/15 px-4 py-4",children:r.jsx(Tv,{points:V,title:"Densidad emocional",subtitle:"30 das"})})]})}),r.jsx(xe,{open:s==="practica",title:"Prctica sugerida",description:"Breve. Concreta. Sin anestesia.",onClose:()=>a(null),children:r.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-white/10 px-5 py-5",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:b.title}),r.jsx("div",{className:"mt-1 text-sm text-white/70",children:b.subtitle})]}),r.jsxs("div",{className:"text-xs text-white/55",children:[b.minutes," min"]})]}),r.jsx("div",{className:"mt-4 text-sm leading-relaxed text-white/80 whitespace-pre-line",children:b.prompt.trim()}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{const k=g??f,S=cn.findIndex(R=>R.id===k),E=cn[(Math.max(0,S)+1)%cn.length];w(E.id)},className:ke(),children:"Otra"}),r.jsx("button",{type:"button",onClick:()=>n(`/escribir?layer=${encodeURIComponent(b.layer)}&practiceId=${encodeURIComponent(b.id)}&prompt=${encodeURIComponent(b.prompt)}`),className:ae(),children:"Abrir en Escribir"})]})]})}),r.jsx(xe,{open:s==="tests",title:"Tests",description:"No diagnostican. Activan resonancia y evidencia.",onClose:()=>a(null),children:r.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-white/10 px-5 py-5",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"ESTE MES (MOCK)"}),r.jsx("div",{className:"mt-2 text-sm font-semibold tracking-tight text-white",children:(T==null?void 0:T.title)??""}),r.jsx("div",{className:"mt-2 text-sm text-white/70",children:(T==null?void 0:T.description)??"Sin tests disponibles."}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{type:"button",onClick:()=>n("/tests"),className:ae(),children:"Abrir tests"})}),r.jsx("div",{className:"mt-3 text-xs text-white/55",children:"Banner de retencin: en producto real, cada mes entra un test nuevo."})]})}),r.jsx(xe,{open:P!==null&&M!==null,title:M?At(M.iso):"Da",description:M==null?void 0:M.headline,onClose:()=>_(null),zIndexClassName:"z-[60]",children:M?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"rounded-2xl bg-white/8 ring-1 ring-white/10 px-4 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"RESUMEN"}),r.jsx("div",{className:"mt-2 text-sm text-white/80",children:M.headline}),r.jsx("div",{className:"mt-2 text-xs text-white/55",children:M.tone==="movement"?"Esto cuenta como movimiento, aunque sea incmodo.":M.tone==="heavy"?"Si hoy fue pesado, no lo negocies con explicacin.":M.tone==="silence"?"Silencio: guardaste sin lectura inmediata.":"Neutro: sin historia. Solo rastro."})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-white/10 px-4 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"RITUAL"}),M.checkIn?r.jsxs("div",{className:"mt-2 space-y-1 text-sm text-white/75",children:[r.jsxs("div",{children:["Energa: ",M.checkIn.energy]}),r.jsxs("div",{children:["Peso: ",M.checkIn.emotionalWeight]}),r.jsxs("div",{children:["Claridad: ",M.checkIn.clarity]}),r.jsxs("div",{className:"text-xs text-white/55",children:["Dominante: ",M.checkIn.dominantTags.length?M.checkIn.dominantTags.join("  "):""]})]}):r.jsx("div",{className:"mt-2 text-sm text-white/70",children:"Sin check-in."})]}),r.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-white/10 px-4 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"INTENCIN"}),M.intention?r.jsxs("div",{className:"mt-2 text-sm text-white/75",children:[r.jsx("div",{className:"font-semibold tracking-tight text-white",children:M.intention.intentionType}),r.jsx("div",{className:"mt-1 text-xs text-white/55",children:M.intention.outcome?M.intention.outcome==="lo_hice"?"Lo hice":M.intention.outcome==="a_medias"?"A medias":"No lo hice":"Sin cierre"})]}):r.jsx("div",{className:"mt-2 text-sm text-white/70",children:"Sin intencin declarada."})]})]}),r.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-white/10 px-4 py-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"EVIDENCIA"}),r.jsx("div",{className:"mt-1 text-xs text-white/55",children:M.entries.length?`${M.entries.length} registro(s)`:"Sin registros"})]}),r.jsx("div",{className:"text-xs text-white/55",children:M.readingsCount?`${M.readingsCount} lectura(s)`:"0 lecturas"})]}),r.jsx("div",{className:"mt-4 space-y-3",children:M.entries.length?M.entries.slice(0,6).map(k=>{const S=Rv(k.practiceId);return r.jsxs("div",{className:"rounded-2xl bg-black/25 ring-1 ring-white/10 px-4 py-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:Sk(k.type)}),r.jsxs("div",{className:"text-xs text-white/55",children:[k.context,"  ",k.boundary,"  ",k.reaction,"  peso ",k.emotionalWeight,k.silenceMode?"  silencio":"",S?`  prctica: ${S}`:k.practiceId?"  prctica":""]})]}),r.jsx("div",{className:"mt-2 text-sm text-white/75",children:kk(k)})]},k.id)}):r.jsx("div",{className:"text-sm text-white/70",children:"No hay evidencia. Si hoy pas algo, regstralo sin adornarlo."})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[M.latestReadingId?r.jsx("button",{type:"button",onClick:()=>n(`/lecturas?readingId=${encodeURIComponent(M.latestReadingId)}`),className:ke(),children:"Ver lectura"}):null,r.jsx("button",{type:"button",onClick:()=>n("/escribir"),className:ae(),children:"Ir a Escribir"})]})]}):null})]})}function q({className:e,variant:t="secondary",size:n="md",...i}){return r.jsx("button",{className:je("inline-flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-sm","ring-1 ring-gainsboro/55 transition","disabled:opacity-50 disabled:pointer-events-none",n==="sm"?"px-2.5 py-1.5 text-xs":"",t==="primary"?"bg-camel text-white shadow-sm hover:brightness-[0.98]":t==="quiet"?"bg-transparent text-outer-space/80 hover:bg-white/60":"bg-white/70 text-outer-space hover:bg-white/80",e),...i})}function ce({className:e,...t}){return r.jsx("div",{className:je("rounded-2xl bg-white/72 backdrop-blur-md shadow-card ring-1 ring-gainsboro/60","transition-shadow",e),...t})}function Sn({title:e,description:t,defaultOpen:n=!1,open:i,onOpenChange:s,children:a,className:o}){const[l,c]=p.useState(n),u=i??l,d=p.useMemo(()=>h=>{i===void 0&&c(h),s==null||s(h)},[i,s]);return r.jsxs("div",{className:je("rounded-2xl bg-white/72 backdrop-blur-md ring-1 ring-gainsboro/60 overflow-hidden",o),children:[r.jsx("button",{type:"button",onClick:()=>d(!u),className:"w-full px-5 py-4 text-left transition hover:bg-white/60","aria-expanded":u,children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:e}),t?r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:t}):null]}),r.jsx(Yw,{className:je("mt-0.5 h-4 w-4 text-outer-space/60 transition-transform",u?"rotate-180":""),"aria-hidden":!0})]})}),r.jsx(or,{initial:!1,children:u?r.jsx(Se.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.18,ease:"easeOut"},className:"border-t border-gainsboro/60",children:r.jsx("div",{className:"px-5 py-5",children:a})},"content"):null})]})}const Ek=[{match:e=>e.toLowerCase().includes("lmite")||e.toLowerCase().includes("limit"),tpl:{story:()=>"Hay personas que aprenden a ganarse su lugar siendo tiles. No lo llaman as. Solo lo hacen. Un da descubren que el s automtico les dej una vida llena y una identidad vaca.",highlights:["ganarse su lugar siendo tiles","s automtico","identidad vaca"],questions:["Dnde entregas tu lmite antes de que exista?","Qu crees que perderas si dices no a tiempo?","Qu lmite pequeo podras decir hoy?"]}},{match:e=>e.toLowerCase().includes("rumi"),tpl:{story:()=>"Hay personas que repiten conversaciones como si ah estuviera la salida. Si encuentran la frase perfecta, creen que el pasado se acomoda. Pero no es claridad: es control retroactivo.",highlights:["frase perfecta","claridad","control retroactivo"],questions:["Qu decisin ests posponiendo con vueltas mentales?","Qu certeza imposible ests exigiendo?","Qu accin mnima evitaras por no sentirte listo?"]}},{match:e=>e.toLowerCase().includes("evit"),tpl:{story:()=>"Hay personas que se vuelven eficientes para no volverse honestas. Hacen todo menos lo que duele. La evitacin no grita. Se normaliza.",highlights:["eficientes","lo que duele","Se normaliza"],questions:["Qu ests evitando sentir hoy?","Qu excusa limpia usas para postergar?","Qu pasa si sostienes la incomodidad 60 segundos?"]}}];function Pk(e){var s;const t=e.pattern.name,i=((s=Ek.find(a=>a.match(t)))==null?void 0:s.tpl)??{story:a=>`Hay personas que repiten ${a.toLowerCase()} sin verlo. Cuando lo ven, el patrn deja de ser destino y se vuelve eleccin.`,highlights:["deja de ser destino","se vuelve eleccin"],questions:["En qu parte te viste?","Qu justificaste sin querer?","Qu accin mnima cambiara tu prximo paso?"]};return{id:Xt("ms"),patternId:e.pattern.id,story:i.story(t),highlights:i.highlights,questions:i.questions}}async function Tk(e){const t=await fetch("/api/ai/mirror-story",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({pattern:e.pattern,evidence:e.evidence})}),n=await t.json().catch(()=>null);if(!t.ok||!n)throw new Error(`Proxy IA: HTTP ${t.status}`);if(!n.ok)throw new Error(n.error);return n.mirrorStory}async function Mk(e){const t=e.evidence??[];try{return await Tk({pattern:e.pattern,evidence:t})}catch{return Pk({pattern:e.pattern})}}function Ik(e,t){const n=e.tags.join(" ").toLowerCase(),i=a=>{var o;return(o=t.find(l=>l.name.toLowerCase().includes(a.toLowerCase())))==null?void 0:o.id};if(n.includes("rumiacin"))return i("Rumiacin")??i("rumiacion");if(n.includes("evitacin")||n.includes("evitacion"))return i("Evitacin");if(n.includes("autoanulacin")||n.includes("autoanulacion"))return i("Autoanulacin");if(n.includes("qu dirn")||n.includes("que diran"))return i("Qu dirn");if(n.includes("aprobacin")||n.includes("aprobacion"))return i("aprobacin");if(n.includes("lmite")||n.includes("limite"))return i("lmit")??i("limit");const s=t.map(a=>({p:a,score:a.contexts.includes(e.context)?1:0})).sort((a,o)=>o.score-a.score)[0];return s!=null&&s.score?s.p.id:void 0}function Ak(e){return e.replace(/\s+/g," ").trim()}function Rk(e,t){const n=e.reaction==="calle"?"Te callaste donde te tocaba nombrar.":e.reaction==="cedi"?"Cediste antes de que fuera necesario.":e.reaction==="explote"?"Explotaste tarde. Eso suele ser acumulacin.":e.reaction==="hui"?"Huiste de la incomodidad en lugar de sostenerla.":e.reaction==="negocie"?"Negociaste claridad para mantener paz aparente.":e.reaction==="pedi"?"Pediste algo real. Eso ya es movimiento.":"Pusiste un lmite. Eso cambia el mapa.",i=e.boundary==="tiempo"?"Tiempo.":e.boundary==="respeto"?"Respeto.":e.boundary==="cuerpo"?"Cuerpo.":e.boundary==="dinero"?"Dinero.":e.boundary==="decision"?"Decisin.":"Intimidad.",s=e.emotionalWeight>=8?"Esto pesa. No lo adornes.":e.emotionalWeight>=6?"No es exageracin. Es seal.":"Se puede ver sin drama.",a=Ak(`Contexto: ${e.context}. Lmite: ${i} Reaccin: ${e.reaction}. ${n}`),o=t?`${t}.`:void 0,l=e.reaction==="calle"||e.reaction==="cedi"?"El costo de sostener un no sin justificarlo.":e.reaction==="hui"?"La incomodidad corta que evita un problema largo.":e.reaction==="explote"?"El lmite temprano, pequeo y claro.":"El costo de que alguien no est de acuerdo contigo.",c=e.reaction==="calle"?"Qu hubiera pasado si lo nombrabas en una frase simple?":e.reaction==="cedi"?"Qu parte de ti se mueve primero: la culpa o la claridad?":e.reaction==="hui"?"Qu verdad evitaste al salirte del momento?":e.reaction==="explote"?"Qu lmite omitiste antes de tronar?":"Qu ests defendiendo con este patrn?",u=e.reaction==="calle"?"Una frase hoy: No me late. No voy a entrar en eso.":e.reaction==="cedi"?"La prxima: No puedo. No lo voy a tomar. Sin explicacin.":e.reaction==="hui"?"Qudate 30 segundos ms en la incomodidad antes de escapar.":e.reaction==="explote"?"Di el lmite a tiempo, aunque sea torpe.":e.reaction==="puse_limite"?"No lo repares. Sostn el silencio despus del lmite.":void 0;return{contencion:s,loQueVeo:a,patron:o,loQueEvitas:l,pregunta:c,accionMinima:u}}function Lk(e){return e.type==="algo_me_incomodo"?"evento_incomodo":e.type==="queria_hacer_algo_distinto"?"intencion_no_lograda":e.type==="no_quise_ver_esto"?"patron_activo":"evento_incomodo"}function Dk(e,t){const n=new Set(e.tags.map(s=>s.toLowerCase())),i=t.filter(s=>s.id!==e.id).map(s=>{const o=s.tags.reduce((l,c)=>l+(n.has(c.toLowerCase())?1:0),0)*2+(s.context===e.context?2:0)+(s.boundary===e.boundary?1:0)+(s.reaction===e.reaction?1:0);return{id:s.id,score:o,date:s.date}}).sort((s,a)=>a.score!==s.score?a.score-s.score:s.date<a.date?1:-1).filter(s=>s.score>0).slice(0,4).map(s=>s.id);return[e.id,...i].slice(0,5)}function qk(e){var a;const t=e.todayISO??ye(new Date),n=Ik(e.entry,e.patterns),i=n?(a=e.patterns.find(o=>o.id===n))==null?void 0:a.name:void 0,s=Rk(e.entry,i);return{id:Xt("r"),date:t,entryId:e.entry.id,type:Lk(e.entry),content:s,patternId:n,basedOnEntryIds:e.entries?Dk(e.entry,e.entries):[e.entry.id]}}async function Ok(e){const t=await fetch("/api/ai/reading",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({entry:e.entry,patterns:e.patterns,entries:e.entries,todayISO:e.todayISO})}),n=await t.json().catch(()=>null);if(!t.ok||!n)throw new Error(`Proxy IA: HTTP ${t.status}`);if(!n.ok)throw new Error(n.error);return n.reading}async function Vk(e){const t=e.todayISO??ye(new Date),n=e.entries??[e.entry];try{return await Ok({entry:e.entry,patterns:e.patterns,entries:n,todayISO:t})}catch{return qk({...e,entries:n,todayISO:t})}}function Fk(e){const t=e.text.toLowerCase(),n=t.includes("enojo")||t.includes("enoj")||t.includes("rabia"),i=t.includes("miedo")||t.includes("ansiedad")||t.includes("pnico")||t.includes("panico"),s=t.includes("culpa")||t.includes("vergenza")||t.includes("verguenza");return{contencion:e.text.trim().length>0?"Te le. No lo tienes que ordenar hoy.":"Te le.",loQueVeo:n&&i?"Hay enojo y miedo al mismo tiempo. Eso suele sentirse como tensin en el cuerpo.":n?"Hay enojo aqu. No como drama: como seal.":i?"Hay miedo aqu. No necesitas justificarlo para que sea real.":s?"Hay algo que te da culpa o vergenza nombrar. Aun as lo escribiste.":"Hay carga aqu. Y un intento de sostenerte mientras escribes.",loQueEvitas:n?"Decir qu lmite se cruz sin suavizarlo.":i?"Nombrar qu perderas si eliges por ti.":"Decirlo en una frase simple, sin defensa.",pregunta:n?"Si ese enojo pudiera hablar sin atacar, qu pedira?":i?"Qu parte de ti est tratando de protegerte con este miedo?":"Qu parte de ti ests tratando de cuidar al escribir esto as?"}}async function zk(e){const t=await fetch("/api/ai/reflection",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({entry:e.entry,todayISO:e.todayISO})}),n=await t.json().catch(()=>null);if(!t.ok||!n)throw new Error(`Proxy IA: HTTP ${t.status}`);if(!n.ok)throw new Error(n.error);return n.reading}async function Lv(e){const t=e.todayISO??ye(new Date);try{return await zk({entry:e.entry,todayISO:t})}catch{return{id:Xt("r"),date:t,entryId:e.entry.id,type:"reflejo",content:Fk(e.entry),basedOnEntryIds:[e.entry.id]}}}function Xm(e){return e.replace(/\s+/g," ").trim()}function Bk(e){switch(e){case"lmites":return{avoids:"El costo de decir no a tiempo. Pagas despus con resentimiento.",question:"Qu NO pequeo podras decir hoy sin justificarlo?",action:"Una frase: No puedo eso. Punto. Sin explicacin."};case"evitacin":return{avoids:"La incomodidad corta que evita un problema largo.",question:"Qu ests postergando con luego lo veo?",action:"Sostn 60 segundos de incomodidad y escribe una lnea sin porque."};case"rumiacin":return{avoids:"La decisin que te da miedo tomar. La cabeza te compra tiempo.",question:"Qu decisin ests posponiendo con vueltas mentales?",action:"Elige un paso mnimo hoy, aunque no se sienta perfecto."};case"apego":return{avoids:"La claridad directa. Prefieres seales pequeas porque duelen menos.",question:"Qu pregunta directa ests evitando por miedo a la respuesta?",action:"Escribe la pregunta en una lnea. No la adornes."};case"autoestima":return{avoids:"El riesgo de incomodar. Prefieres permiso externo a sostenerte.",question:"Qu ests negociando de ti para no parecer difcil?",action:"Di lo que quieres en 812 palabras. Sin disculparte."};case"desgaste":return{avoids:"El lmite interno. Sostener de ms se vuelve identidad.",question:"Qu ests sosteniendo por costumbre, no por eleccin?",action:"Cancela una cosa mnima hoy. Sin explicar de ms."};default:return{avoids:"La verdad simple. La adornas para no sentirla.",question:"Qu parte de esto ests evitando mirar?",action:"Una lnea honesta hoy. Sin explicacin."}}}function $k(e){const t=e.result.severity==="alto"?"Un patrn sostenido. No es un mal da.":e.result.severity==="medio"?"Una seal activa intermitente. Se enciende cuando algo te toca.":"Seal baja hoy. No es ausencia: solo no domina.",n=e.signals.slice(0,3),i=n.length?`Seales ms altas: ${n.map(l=>`${Xm(l.text)}`).join("  ")}.`:"Sin seales destacadas.",s=Xm(`Base: ${e.test.title}  tema ${e.test.theme}  promedio ${e.result.avg}  severidad ${e.result.severity}. ${i}`),a=e.patternName?`${e.patternName}.`:void 0,o=Bk(e.test.theme);return{contencion:t,loQueVeo:s,patron:a,loQueEvitas:o.avoids,pregunta:o.question,accionMinima:o.action}}async function Uk(e){const t=await fetch("/api/ai/test-reading",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({test:{id:e.test.id,title:e.test.title,theme:e.test.theme,description:e.test.description,length:e.test.length,questionCount:e.test.questions.length},result:e.result,signals:e.signals.slice(0,6),suggestedPattern:e.suggestedPattern?{id:e.suggestedPattern.id,name:e.suggestedPattern.name}:null,todayISO:e.todayISO})}),n=await t.json().catch(()=>null);if(!t.ok||!n)throw new Error(`Proxy IA: HTTP ${t.status}`);if(!n.ok)throw new Error(n.error);return n.reading}async function Wk(e){const t=e.todayISO??ye(new Date),n=e.test.suggestedPatternId?e.patterns.find(i=>i.id===e.test.suggestedPatternId):void 0;try{return await Uk({test:e.test,result:e.result,signals:e.signals,suggestedPattern:n,todayISO:t})}catch{const i=$k({test:e.test,result:e.result,signals:e.signals,patternName:n==null?void 0:n.name});return{id:Xt("r"),date:t,type:"test",content:i,patternId:n==null?void 0:n.id,basedOnEntryIds:[`test:${e.test.id}`]}}}function Hk(e,t){const n=t.find(a=>a.evidenceEntryIds.includes(e.id));if(n)return n;const i=e.tags.join(" ").toLowerCase(),s=a=>t.find(o=>o.name.toLowerCase().includes(a.toLowerCase()));return i.includes("rumiacin")||i.includes("rumiacion")?s("rumiacin")??s("rumiacion"):i.includes("evitacin")||i.includes("evitacion")?s("evitacin")??s("evitacion"):i.includes("autoanulacin")||i.includes("autoanulacion")?s("autoanulacin")??s("autoanulacion"):i.includes("qu dirn")||i.includes("que diran")?s("qu dirn")??s("que diran"):i.includes("aprobacin")||i.includes("aprobacion")?s("aprobacin")??s("aprobacion"):i.includes("lmite")||i.includes("limite")?s("lmite")??s("limit"):t.find(a=>a.contexts.includes(e.context))}function Qk(e){const t=e.toLowerCase();return t.includes("lmite")||t.includes("limit")?"Tu lmite existe, pero llega tarde. Primero cedes, luego acumulas, luego pagas.":t.includes("aprob")?"Ests midiendo tu valor en seales externas. No es conexin. Es permiso.":t.includes("evit")?"Evitas la incomodidad corta y te compras un problema largo. Parece paz. Es postergacin.":t.includes("rumi")?"Le llamas pensar. Pero es dar vueltas para sentir control donde no existe.":t.includes("autoanul")?"Te haces pequeo para mantener pertenencia. Eres querido, pero te vuelves invisible en lo que necesitas.":t.includes("qu dirn")||t.includes("que diran")?"Tu brjula est afuera. Decides por reaccin imaginada, no por deseo real.":"Esto no es nuevo. Es recurrente. Lo importante es ver qu lo sostiene."}function Kk(e){const t=e.toLowerCase();return t.includes("lmite")||t.includes("limit")?"No es que la gente pida de ms. Es que t entregas tu lmite antes de que exista.":t.includes("aprob")?"No ests buscando amor. Ests buscando confirmacin. Y la confundes con paz.":t.includes("evit")?"No te falta claridad. Te falta sostener la incomodidad sin escapar.":t.includes("rumi")?"No ests pensando. Ests postergando bajo una mscara de anlisis.":t.includes("autoanul")?"No es que no te elijan. Te ests encogiendo para que no te dejen.":t.includes("qu dirn")||t.includes("que diran")?"Ests viviendo con un jurado imaginario. Y le das el voto final.":"No es mala suerte. Es eleccin repetida desde miedo."}function Gk(e){const t=e.toLowerCase();return t.includes("lmite")||t.includes("limit")?"Una frase hoy: No puedo con eso. No lo voy a tomar. Sin explicacin.":t.includes("aprob")?"Hoy: no persigas una respuesta. Observa qu se activa y no lo arregles con un mensaje.":t.includes("evit")?"Qudate 30 segundos ms en la incomodidad antes de salirte. Solo observa.":t.includes("rumi")?"Accin de 5 minutos. Sin optimizar. Sin cuando est listo.":t.includes("autoanul")?"Di lo que quieres en una lnea. Sin chiste. Sin suavizar.":t.includes("qu dirn")||t.includes("que diran")?"Haz una micro-decisin sin consultar a nadie. Solo una.":"Accin mnima: nombra el lmite en una frase."}function Yk(e){const t=e.toLowerCase();return t.includes("lmite")||t.includes("limit")?"Qu crees que pasa si pones un lmite temprano y alguien se incomoda?":t.includes("aprob")?"Qu parte de ti cree que sin seales externas no existe?":t.includes("evit")?"Qu verdad sera inevitable si hoy no pudieras escapar?":t.includes("rumi")?"Qu decisin ests posponiendo detrs de la claridad que buscas?":t.includes("autoanul")?"Dnde te haces pequeo para no perder pertenencia?":t.includes("qu dirn")||t.includes("que diran")?"A quin le ests dando el voto final de tu vida, y por qu?":"Qu ests evitando nombrar para seguir igual?"}function Xk(e,t){let n=[{text:e,highlighted:!1}];for(const i of t){if(!i.trim())continue;const s=[];for(const a of n){if(a.highlighted){s.push(a);continue}const o=a.text.split(i);if(o.length===1){s.push(a);continue}o.forEach((l,c)=>{l&&s.push({text:l,highlighted:!1}),c<o.length-1&&s.push({text:i,highlighted:!0})})}n=s}return n}function Jk(e){return e.replace(/\s+/g," ").trim()}function Zk(){var L;const{state:e,dispatch:t}=gt(),n=xt(),i=J(),[s]=Rn(),a=s.get("patternId")??void 0,o=s.get("entryId")??void 0,l=!n.derived.hasSystem,c=p.useMemo(()=>o?e.entries.find(V=>V.id===o):void 0,[o,e.entries]),u=p.useMemo(()=>a?e.patterns.find(V=>V.id===a):c?Hk(c,e.patterns):e.patterns[0],[c,a,e.patterns]),d=p.useMemo(()=>u?u.evidenceEntryIds.map(T=>e.entries.find(z=>z.id===T)).filter(Boolean).sort((T,z)=>T.date<z.date?1:-1).slice(0,5):[],[u,e.entries]),h=p.useMemo(()=>{if(u)return e.mirrorStories.find(V=>V.patternId===u.id)??e.mirrorStories[0]},[u,e.mirrorStories]),m=p.useMemo(()=>h?Xk(h.story,h.highlights):[],[h]),[v,y]=p.useState(!1),[j,N]=p.useState(!1),[x,f]=p.useState(!1),[g,w]=p.useState(!1);if(!u)return r.jsx("div",{className:"mx-auto max-w-2xl",children:r.jsxs(ce,{className:"p-6",children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Caja de Enfrentamiento"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Sin patrn disponible."})]})});const b=Qk(u.name),C=Kk(u.name),P=Gk(u.name),_=Yk(u.name);async function M(){if(!(l||g)&&u){w(!0);try{const V=await Mk({pattern:u,evidence:d});t({type:"upsert_mirror_story",mirrorStory:V})}finally{w(!1)}}}return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-14 pt-12 scroll-smooth",children:[r.jsx("div",{className:"sticky top-0 z-20 -mx-4 px-4 pb-4 pt-2 backdrop-blur-sm",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>i(-1),className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]}),r.jsx("button",{type:"button",onClick:()=>i("/sesion"),className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:"Salir a Sesin"})]})}),l?r.jsxs("div",{className:"mb-6 rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-5 py-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Modo bsico"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/80",children:"En modo bsico no abrimos Caja con IA. Aqu ves estructura y ejemplo del visor."}),r.jsx("div",{className:"mt-3",children:r.jsx(q,{variant:"primary",onClick:()=>i("/planes"),children:"Ver planes"})})]}):null,r.jsxs("div",{className:"space-y-10",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Caja de Enfrentamiento"}),r.jsx("h1",{className:"mt-2 text-2xl font-semibold tracking-tight text-outer-space",children:u.name}),r.jsx("p",{className:"mt-3 text-base text-outer-space/80 leading-relaxed",children:b})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Lo que pas (evidencia)"}),d.length?r.jsx("div",{className:"space-y-3",children:d.map(V=>r.jsxs("div",{className:"rounded-xl bg-white ring-1 ring-gainsboro/70 px-4 py-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:V.date}),r.jsxs("div",{className:"text-xs text-outer-space/60",children:[V.context,"  ",V.boundary,"  ",V.reaction,"  peso ",V.emotionalWeight]})]}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/80 leading-relaxed",children:Jk(V.text)})]},V.id))}):r.jsx("div",{className:"text-sm text-outer-space/70",children:"Sin evidencia disponible."})]}),r.jsxs("div",{className:"rounded-2xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-6 py-6",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Confrontacin"}),r.jsx("div",{className:"mt-2 text-lg font-semibold tracking-tight text-outer-space leading-snug",children:C})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Historia espejo"}),h?r.jsxs("div",{className:"rounded-2xl bg-white ring-1 ring-gainsboro/70 px-6 py-6",children:[r.jsx("div",{className:"text-base text-outer-space/85 leading-relaxed",children:m.map((V,T)=>V.highlighted?r.jsx("span",{className:"rounded bg-camel/35 px-1 text-outer-space",children:V.text},T):r.jsx("span",{children:V.text},T))}),(L=h.basedOnEntryIds)!=null&&L.length?r.jsxs("div",{className:"mt-4 text-xs text-outer-space/60",children:["Basado en: ",h.basedOnEntryIds.join("  ")]}):null,r.jsx("div",{className:"mt-6 space-y-2",children:h.questions.map(V=>r.jsx("div",{className:"text-sm text-outer-space/85",children:V},V))})]}):r.jsx("div",{className:"text-sm text-outer-space/70",children:"Sin historia espejo."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Cierre"}),r.jsx("div",{className:"text-sm text-outer-space/70",children:"Dos rutas. Ninguna es heroica."}),r.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[r.jsx(q,{variant:"primary",onClick:()=>{if(l){i("/planes");return}y(!0)},children:"Ruta A: Accin mnima hoy"}),r.jsx(q,{onClick:()=>{if(l){i("/planes");return}N(!0)},children:"Ruta B: Pregunta profunda para escribir"})]})]}),r.jsxs(Sn,{title:"Opciones (visor)",description:"No se muestra por defecto.",defaultOpen:!1,children:[r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx("div",{className:"text-sm text-outer-space/70",children:"Regenerar historia espejo (IA) para probar consistencia."}),r.jsx(q,{size:"sm",disabled:l||g,onClick:M,children:g?"":"Regenerar"})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(q,{variant:"quiet",onClick:()=>i("/sesion"),children:"Salir de Caja"})})]})]})]}),r.jsx(xe,{open:v,title:"Ruta A: Accin mnima hoy",description:"No cambia tu vida. Cambia el patrn en un milmetro.",onClose:()=>y(!1),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4 text-sm text-outer-space/85",children:P}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(q,{onClick:()=>y(!1),children:"Cerrar"}),r.jsx(q,{variant:"primary",onClick:()=>i("/sesion"),children:"Volver al inicio"})]})]})}),r.jsx(xe,{open:j,title:"Ruta B: Pregunta profunda",description:"Para escribir sin negociar la verdad.",onClose:()=>N(!1),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4 text-sm text-outer-space/85",children:_}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(q,{onClick:()=>N(!1),children:"Cerrar"}),r.jsx(q,{variant:"primary",onClick:()=>i(`/escribir?silencio=1&layer=${encodeURIComponent("no_quise_ver_esto")}&prompt=${encodeURIComponent(_)}`),children:"Abrir Escribir"})]})]})})]})}function kn({checked:e,onChange:t,label:n,description:i}){return r.jsxs("button",{type:"button",onClick:()=>t(!e),className:je("flex w-full items-center justify-between gap-4 rounded-xl px-4 py-3 text-left","ring-1 ring-gainsboro/60 transition",e?"bg-white/80":"bg-white/60 hover:bg-white/70"),"aria-pressed":e,children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-outer-space",children:n}),i?r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:i}):null]}),r.jsx("span",{"aria-hidden":!0,className:je("h-6 w-10 rounded-full p-0.5 ring-1 ring-gainsboro/60 transition",e?"bg-outer-space/80":"bg-gainsboro/60"),children:r.jsx("span",{className:je("block h-5 w-5 rounded-full bg-white transition",e?"translate-x-4":"translate-x-0")})})]})}function pn({className:e,...t}){return r.jsx("select",{className:je("w-full rounded-xl bg-white/70 px-3 py-2 text-sm text-outer-space backdrop-blur","ring-1 ring-gainsboro/60","disabled:opacity-60 disabled:bg-mint-cream/50 disabled:cursor-not-allowed","focus:outline-none focus:ring-2 focus:ring-camel/35",e),...t})}function eC(e){return e==="local"?"concia_v1_state":`concia_v1_state_${e}`}function Jm(e){return e==="local"?"concia_v1_vault_unlocked":`concia_v1_vault_unlocked_${e}`}function tC(e){return`concia_v1_subscription_${e||"local"}`}const nC=["concia_v1_onboarding_done","concia_v1_plan_intent","concia_v1_checkout_plan","concia_v1_pending_subscription","concia_v1_access_done"];function iC(){const e=en(),t=xt(),[n,i]=p.useState(()=>{try{return localStorage.getItem("concia_v1_motivo_lectura")==="1"}catch{return!1}}),s=p.useMemo(()=>{const l="https://zrdlyrjnurgohdarlbso.supabase.co",c="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpyZGx5cmpudXJnb2hkYXJsYnNvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTkxODgsImV4cCI6MjA4NTk3NTE4OH0.qGF7lmHzcmUzzZ5TP5IG8Oc9eiWEKa13IGjlDvIeeP4",u="sb_publishable_x383hUoZcVZfzBf30bl35g_P5F0qSlt",d=(()=>{try{return l?new URL(l).host:""}catch{return""}})();return{configured:!!c,host:d,hasPublishable:!!u}},[]);function a(){const l=eC(e.actorId),c=Jm(e.actorId),u=tC(e.actorId);try{localStorage.removeItem(l),localStorage.removeItem(c),localStorage.removeItem(u);for(const d of nC)localStorage.removeItem(d)}catch{}window.location.assign("/inicio")}function o(){const l=Jm(e.actorId);try{localStorage.removeItem(l)}catch{}window.location.assign("/boveda")}return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14 space-y-4",children:[r.jsxs(ce,{className:"p-6",children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Configuracin"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Este build es visor web. Concia final es app nativa. Aqu validamos flujo, estructura y ritual."}),r.jsxs("div",{className:"mt-5 space-y-3",children:[r.jsx(kn,{checked:!0,onChange:()=>{},label:"Tema del visor",description:"Atmsfera sobria (fog/plum). En nativo se define el tema final."}),r.jsx(kn,{checked:!0,onChange:()=>{},label:"Tono sobrio",description:"Sin emojis, sin clichs, sin gamificacin."}),r.jsx(kn,{checked:n,onChange:l=>{i(l);try{localStorage.setItem("concia_v1_motivo_lectura",l?"1":"0")}catch{}},label:"Simular motivo de lectura",description:"Muestra/oculta Lectura del da en el visor (sin backend)."})]})]}),r.jsxs(ce,{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-tight",children:"Datos locales"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Seed + cambios se guardan en `localStorage` (por cuenta o modo local)."}),r.jsx("div",{className:"mt-4 flex items-center justify-end gap-2",children:r.jsx(q,{onClick:a,children:"Reiniciar demo"})})]}),r.jsxs(ce,{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-tight",children:"Suscripcin (mock visor)"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"En nativo esto lo define IAP + RevenueCat. Aqu se simula para validar gating."}),r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/80",children:"Modo"}),r.jsxs(pn,{className:"mt-2",value:t.state.selectedPlan!=="none"?t.state.selectedPlan:t.derived.trialActive?"trial":"basic",onChange:l=>{const c=l.target.value;if(c==="trial"){t.dispatch({type:"select_plan",plan:"none"}),t.dispatch({type:"start_trial",startedAt:new Date().toISOString()});return}if(c==="basic"){t.dispatch({type:"select_plan",plan:"none"}),t.dispatch({type:"end_trial"});return}if(c==="xmi_total"){t.dispatch({type:"select_plan",plan:"xmi_total"}),t.dispatch({type:"end_trial"});return}c==="xmi_asistencia"&&(t.dispatch({type:"select_plan",plan:"xmi_asistencia"}),t.dispatch({type:"end_trial"}))},children:[r.jsx("option",{value:"trial",children:"Trial activo (7 das)"}),r.jsx("option",{value:"basic",children:"Modo bsico"}),r.jsx("option",{value:"xmi_total",children:"Plan Concia Sistema (99)"}),r.jsx("option",{value:"xmi_asistencia",children:"Plan Concia + Asistencia (129)"})]})]})]}),r.jsxs(ce,{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-tight",children:"Bveda"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"En v1 el bloqueo es mock. En fase 2 se cifra."}),r.jsx("div",{className:"mt-4 flex items-center justify-end gap-2",children:r.jsx(q,{variant:"primary",onClick:o,children:"Bloquear Bveda"})})]}),r.jsxs(ce,{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-tight",children:"Integraciones (fase 2)"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Variables de entorno listas para Supabase Auth + backend."}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Supabase"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/80",children:s.configured?"Configurado":"No configurado"}),r.jsx("div",{className:"mt-1 text-xs text-outer-space/60",children:s.host?s.host:""}),r.jsxs("div",{className:"mt-2 text-xs text-outer-space/60",children:["Publishable key: ",s.hasPublishable?"s":"no"]})]}),r.jsx("div",{className:"rounded-xl bg-white ring-1 ring-gainsboro/70 px-4 py-4 text-sm text-outer-space/75",children:"Recomendacin: nunca uses service role key en frontend. Usa RLS y anon key."})]})]})]})}function lt({className:e,...t}){return r.jsx("div",{className:je("text-xs font-medium text-outer-space/80",e),...t})}function ld({className:e,...t}){return r.jsx("div",{className:je("text-xs text-outer-space/60",e),...t})}function sC({value:e,onChange:t,min:n=0,max:i=10,step:s=1,className:a,ariaLabel:o}){return r.jsx("input",{className:je("h-2 w-full cursor-pointer appearance-none rounded-full bg-gainsboro/80","[&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-camel [&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-white","[&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-camel [&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-white",a),"aria-label":o,type:"range",value:e,min:n,max:i,step:s,onChange:l=>t(Number(l.target.value))})}function Zm({open:e,title:t,description:n,onClose:i,children:s,className:a}){return p.useEffect(()=>{if(!e)return;function o(l){l.key==="Escape"&&i()}return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e,i]),r.jsx(or,{children:e?r.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:[r.jsx("button",{type:"button",onClick:i,className:"absolute inset-0 bg-outer-space/40","aria-label":"Cerrar"}),r.jsx(Se.div,{initial:{y:24,opacity:0},animate:{y:0,opacity:1},exit:{y:24,opacity:0},transition:{duration:.2,ease:"easeOut"},className:je("absolute inset-x-0 bottom-0 mx-auto w-[min(720px,100%)]",a),role:"dialog","aria-modal":"true","aria-label":t,children:r.jsxs("div",{className:"rounded-t-2xl bg-white/82 backdrop-blur-md shadow-card ring-1 ring-gainsboro/60 overflow-hidden",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 border-b border-gainsboro/60 px-5 py-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:t}),n?r.jsx("div",{className:"mt-1 text-xs text-outer-space/70",children:n}):null]}),r.jsx("button",{type:"button",onClick:i,className:"rounded-xl p-2 text-outer-space/70 ring-1 ring-gainsboro/60 transition hover:bg-white/60 hover:text-outer-space","aria-label":"Cerrar",children:r.jsx(zi,{className:"h-4 w-4","aria-hidden":!0})})]}),r.jsx("div",{className:"max-h-[70vh] overflow-auto px-5 py-5",children:s}),r.jsx("div",{className:"h-6"})]})})]},"sheet"):null})}const Br=[{type:"desahogo_libre",label:"Desahogo libre",hint:"Lo que salga. Sin explicar.",placeholder:"Qu traes encima hoy. Una lnea honesta basta."},{type:"algo_me_incomodo",label:"Algo me incomod",hint:"Evidencia + reaccin. Sin maquillar.",placeholder:"Qu pas. Qu se dijo. Qu hiciste. Sin justificar."},{type:"queria_hacer_algo_distinto",label:"Quera hacer algo distinto",hint:"Intencin vs realidad (sin drama).",placeholder:"Qu queras hacer distinto. Qu hiciste. Qu lo bloque (si aplica)."},{type:"hoy_si_lo_hice",label:"Hoy s lo hice",hint:"Hecho. Sin aplauso.",placeholder:"Qu hiciste distinto. Qu cost. Qu cambi en ti."},{type:"no_quise_ver_esto",label:"No quise ver esto",hint:"Una lnea sin justificar.",placeholder:"Lo que evitaste nombrar. Sin porque."}],rC=["familia","trabajo","pareja","social","yo"],aC=["tiempo","respeto","cuerpo","dinero","decision","intimidad"],oC=["cedi","calle","explote","hui","negocie","pedi","puse_limite"],ep=["Me pidieron algo rpido y dije que s automtico. No era urgente. Me pes todo el da.","Me call para no hacer olas, pero me qued rumiando. No fue paz. Fue evitacin.","Quise pedir lo que necesito y me dio vergenza. Lo convert en chiste. Luego me odi por eso.","Hoy pude decir no. Fue incmodo. No pas nada grave. Yo s lo sent grave."];function lC(e){switch(e){case"cedi":return"Ced";case"calle":return"Call";case"explote":return"Explot";case"hui":return"Hu";case"negocie":return"Negoci";case"pedi":return"Ped";case"puse_limite":return"Puse lmite";default:return e}}function ul(e){return e==="no"?"No":e==="creo_que_si"?"Creo que s":"S"}function dl(e){const t=[],n=e.primaryText.trim();if(n&&t.push(n),e.structureEnabled){const i=e.factText.trim(),s=e.storyText.trim();i&&t.push(`Hecho:
${i}`),s&&t.push(`Historia:
${s}`)}return t.join(`

`).trim()}function cC(){const{state:e,dispatch:t}=gt(),n=xt(),i=J(),[s]=Rn(),a=ye(new Date),o=s.get("silencio")==="1",l=s.get("layer"),c=s.get("prompt"),u=s.get("practiceId"),d=p.useMemo(()=>{var me;const D=l&&Br.some(Ct=>Ct.type===l)?l:void 0,G=(me=e.checkIns.find(Ct=>Ct.date===a))==null?void 0:me.honestyLayer;return D??G??"algo_me_incomodo"},[l,e.checkIns,a]),[h,m]=p.useState(d),[v,y]=p.useState(""),[j,N]=p.useState(!1),[x,f]=p.useState(""),[g,w]=p.useState(""),[b,C]=p.useState("yo"),[P,_]=p.useState("respeto"),[M,L]=p.useState("calle"),[V,T]=p.useState("no"),[z,ae]=p.useState(6),[ke,Ve]=p.useState([]),[k,S]=p.useState(!1),[E,R]=p.useState(""),[F,W]=p.useState(!1),[Y,U]=p.useState(o),[B,X]=p.useState(null),[tn,cd]=p.useState(!1),[Ue,ud]=p.useState(!1),[Vv,hr]=p.useState(!1),[vo,dd]=p.useState(""),[Fv,mr]=p.useState(!1),[zv,yo]=p.useState(!1),Bv=!1;p.useEffect(()=>{o&&U(!0)},[o]),p.useEffect(()=>{if(!l)return;const D=Br.find(G=>G.type===l);D&&m(D.type)},[l]),p.useEffect(()=>{if(!c)return;const D=(()=>{try{return decodeURIComponent(c)}catch{return c}})();D.trim()&&(v.trim()||y(`${D}

`))},[v,c]),p.useEffect(()=>{if(!B)return;const D=window.setTimeout(()=>X(null),2200);return()=>window.clearTimeout(D)},[B]),p.useEffect(()=>{W(!1)},[E]);const wo=p.useMemo(()=>{const D=new Map;for(const G of e.entries)for(const me of G.tags)D.set(me,(D.get(me)??0)+1);return[...D.entries()].sort((G,me)=>me[1]-G[1]).map(([G])=>G)},[e.entries]),pr=p.useMemo(()=>{const D=E.trim().toLowerCase();return D?wo.filter(G=>G.toLowerCase().includes(D)).slice(0,60):wo.slice(0,30)},[wo,E]);function $v(D){const G=D.trim().toLowerCase();G&&Ve(me=>me.includes(G)?me.filter(Ct=>Ct!==G):me.length>=3?me:[...me,G])}function Uv(){if(tn)return;cd(!0);const D=ep[Math.floor(Math.random()*ep.length)];window.setTimeout(()=>{y(G=>G.trim()?G:D),cd(!1),X("Transcripcin simulada lista.")},700)}function Wv(){const D=new Set(ke.map(me=>me.toLowerCase()));h==="no_quise_ver_esto"&&D.add("punto ciego"),h==="algo_me_incomodo"&&D.add("evidencia");const G=dl({primaryText:v,structureEnabled:j,factText:x,storyText:g});return{id:Xt("e"),date:a,type:h,context:b,boundary:P,reaction:M,emotionalWeight:z,text:G,tags:[...D].slice(0,10),repeatSignal:V,silenceMode:Y,practiceId:u!=null&&u.trim()?u.trim():void 0}}async function hd(D){if(dl({primaryText:v,structureEnabled:j,factText:x,storyText:g}).length<3){X("Escribe algo concreto antes de guardar.");return}const me=Wv();if(t({type:"add_entry",entry:me}),D.askReading){if(!n.derived.hasSystem){mr(!0);return}if(Y){X("Guardado en silencio."),fr();return}ud(!0),X("Generando lectura");try{const Ct=await Vk({entry:me,patterns:e.patterns,entries:[me,...e.entries],todayISO:a});t({type:"add_reading",reading:Ct}),fr(),i(`/lecturas?readingId=${encodeURIComponent(Ct.id)}`)}finally{ud(!1)}return}X(Y?"Guardado en silencio.":"Guardado."),fr()}function fr(){y(""),f(""),w(""),Ve([]),R("")}function Hv(){const D=dl({primaryText:v,structureEnabled:j,factText:x,storyText:g});if(D.length<3){X("Escribe algo concreto antes de sellar.");return}const G={id:Xt("v"),date:a,title:vo.trim()?vo.trim():void 0,content:D,sealed:!0};t({type:"add_vault_note",vaultNote:G}),hr(!1),dd(""),fr(),X("Sellado en Bveda."),i("/boveda")}const Qv=p.useMemo(()=>[...e.entries].slice().sort((D,G)=>D.date<G.date?1:-1).slice(0,8),[e.entries]),Ot=p.useMemo(()=>Br.find(D=>D.type===h),[h]);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mx-auto max-w-2xl space-y-4",children:[r.jsxs(ce,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Escribir"}),r.jsxs("p",{className:"mt-1 text-sm text-outer-space/70",children:[At(a),"  Primero humano. Luego estructura."]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Estado"}),r.jsx("div",{className:"mt-1 text-xs text-outer-space/60",children:B??""})]})]}),r.jsxs("div",{className:"mt-5",children:[r.jsx(lt,{children:"Qu pas / qu traes encima"}),r.jsx(Yn,{className:"mt-2 min-h-[220px]",value:v,onChange:D=>y(D.target.value),placeholder:Ot==null?void 0:Ot.placeholder,disabled:Ue}),r.jsxs("div",{className:"mt-2 flex items-center justify-between gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>yo(!0),className:"inline-flex items-center gap-2 rounded-xl bg-white/70 ring-1 ring-gainsboro/60 px-3 py-2 text-sm text-outer-space/80 backdrop-blur-md transition hover:bg-white/85","aria-label":"Cambiar capa",children:[r.jsx("span",{className:"text-outer-space/60",children:"Capa:"})," ",(Ot==null?void 0:Ot.label)??""]}),r.jsxs(q,{onClick:Uv,disabled:tn||Ue,className:"shrink-0",children:[r.jsx(Yi,{className:"h-4 w-4","aria-hidden":!0}),tn?"":"Voz"]})]}),r.jsx("div",{className:"mt-2 text-xs text-outer-space/60",children:Ot==null?void 0:Ot.hint})]}),r.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3",children:[r.jsx(kn,{checked:j,onChange:N,label:"Estructurar",description:"Abre campos. Cierra ruido."}),r.jsx(kn,{checked:Y,onChange:U,label:"Modo silencio",description:"Guarda sin lectura inmediata."})]}),j?r.jsxs("div",{className:"mt-5 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx(lt,{children:"Hecho (observable)"}),r.jsx(Yn,{className:"mt-2 min-h-[120px]",value:x,onChange:D=>f(D.target.value),placeholder:"Qu pas. Sin interpretacin.",disabled:Ue})]}),r.jsxs("div",{children:[r.jsx(lt,{children:"Historia (interpretacin)"}),r.jsx(Yn,{className:"mt-2 min-h-[120px]",value:g,onChange:D=>w(D.target.value),placeholder:"Qu te dijiste. Qu asumiste.",disabled:Ue})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx(lt,{children:"Contexto"}),r.jsx(pn,{className:"mt-2",value:b,onChange:D=>C(D.target.value),children:rC.map(D=>r.jsx("option",{value:D,children:D},D))})]}),r.jsxs("div",{children:[r.jsx(lt,{children:"Lmite"}),r.jsx(pn,{className:"mt-2",value:P,onChange:D=>_(D.target.value),children:aC.map(D=>r.jsx("option",{value:D,children:D},D))})]}),r.jsxs("div",{children:[r.jsx(lt,{children:"Reaccin"}),r.jsx(pn,{className:"mt-2",value:M,onChange:D=>L(D.target.value),children:oC.map(D=>r.jsx("option",{value:D,children:lC(D)},D))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx(lt,{children:"Peso emocional"}),r.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[r.jsx(sC,{value:z,onChange:ae,ariaLabel:"Peso emocional"}),r.jsx("div",{className:"w-10 text-right text-sm font-medium text-outer-space",children:z})]})]}),r.jsxs("div",{children:[r.jsx(lt,{children:"Se repite?"}),r.jsxs(pn,{className:"mt-2",value:V,onChange:D=>T(D.target.value),children:[r.jsx("option",{value:"no",children:ul("no")}),r.jsx("option",{value:"creo_que_si",children:ul("creo_que_si")}),r.jsx("option",{value:"si",children:ul("si")})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-3",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-outer-space",children:"Tags (opcional)"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:"Mximo 3. El resto es ruido."})]}),r.jsxs(q,{size:"sm",onClick:()=>S(!0),disabled:Ue,children:[r.jsx(uj,{className:"h-4 w-4","aria-hidden":!0}),"Elegir"]})]}),r.jsx("div",{className:"mt-3 text-sm text-outer-space/75",children:ke.length?ke.join("  "):""})]})]}):null,r.jsxs("div",{className:"mt-6 flex flex-col gap-2",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(q,{variant:"primary",disabled:Ue,onClick:()=>hd({askReading:!1}),children:"Guardar"}),r.jsxs(q,{disabled:Ue||Y,onClick:()=>hd({askReading:!0}),children:[r.jsx(ar,{className:"h-4 w-4","aria-hidden":!0}),Ue?"Generando":"Guardar y pedir lectura"]})]}),r.jsxs(q,{variant:"quiet",disabled:Ue,onClick:()=>hr(!0),children:[r.jsx(La,{className:"h-4 w-4","aria-hidden":!0}),"Sellar en Bveda"]})]}),Y?r.jsx("div",{className:"mt-3 text-xs text-outer-space/60",children:"Modo silencio activo: no se genera lectura inmediata."}):null]}),r.jsx(Sn,{title:"ltimos registros",description:"No para recordar. Para ver repeticin.",defaultOpen:Bv,children:r.jsxs("div",{className:"space-y-3",children:[Qv.map(D=>r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 px-4 py-4 ring-1 ring-gainsboro/60",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:D.type.replaceAll("_"," ")}),r.jsx("div",{className:"text-xs text-outer-space/60",children:D.date})]}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/75 overflow-hidden text-ellipsis [display:-webkit-box] [-webkit-line-clamp:2] [-webkit-box-orient:vertical]",children:D.text})]},D.id)),r.jsx("div",{className:"flex justify-end",children:r.jsx(q,{onClick:()=>i("/lecturas"),children:"Ir a Lecturas"})})]})})]}),r.jsx(Zm,{open:zv,title:"Capa",description:"No es etiqueta. Es punto de entrada.",onClose:()=>yo(!1),children:r.jsx("div",{className:"space-y-2",children:Br.map(D=>{const G=D.type===h;return r.jsx("button",{type:"button",onClick:()=>{m(D.type),yo(!1)},className:G?"w-full rounded-2xl bg-mint-cream ring-1 ring-gainsboro/70 px-4 py-4 text-left":"w-full rounded-2xl bg-white ring-1 ring-gainsboro/70 px-4 py-4 text-left transition hover:bg-mint-cream/50","aria-pressed":G,children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:D.label}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:D.hint})]}),G?r.jsx("div",{className:"text-xs text-outer-space/60",children:"Seleccionado"}):null]})},D.type)})})}),r.jsx(Zm,{open:k,title:"Tags (mx 3)",description:"Selecciona lo que domina. No todo.",onClose:()=>S(!1),children:(()=>{const D=!!E.trim(),G=D?12:6,me=F?pr:pr.slice(0,G),Ct=pr.length>me.length;return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(lt,{children:"Bsqueda"}),r.jsx(ii,{className:"mt-2",value:E,onChange:li=>R(li.target.value),placeholder:"Escribe para filtrar",disabled:Ue}),r.jsx(ld,{className:"mt-2",children:"Puedes escribir una palabra nueva y presionar Enter para agregarla."})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:me.map(li=>r.jsx("button",{type:"button",onClick:()=>$v(li),className:ke.includes(li.toLowerCase())?"rounded-lg bg-outer-space px-3 py-2 text-xs text-white":"rounded-lg bg-mint-cream px-3 py-2 text-xs text-outer-space/80 ring-1 ring-gainsboro/70 hover:bg-white",children:li},li))}),Ct?r.jsx("div",{className:"flex justify-end",children:r.jsx(q,{variant:"quiet",size:"sm",onClick:()=>W(!0),disabled:Ue,children:"Ver ms"})}):null,F&&pr.length>(D?12:6)?r.jsx("div",{className:"flex justify-end",children:r.jsx(q,{variant:"quiet",size:"sm",onClick:()=>W(!1),disabled:Ue,children:"Ver menos"})}):null,r.jsxs("div",{className:"rounded-xl bg-white ring-1 ring-gainsboro/70 px-4 py-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Seleccionados"}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/80",children:ke.length?ke.join("  "):""})]}),r.jsx("div",{className:"flex justify-end gap-2",children:r.jsx(q,{onClick:()=>S(!1),children:"Cerrar"})})]})})()}),r.jsx(xe,{open:Vv,title:"Bveda",description:"Lo que sellas aqu no entra a mtricas, patrones ni lecturas.",onClose:()=>hr(!1),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"rounded-xl bg-mint-cream/70 px-4 py-3 ring-1 ring-gainsboro/60 text-sm text-outer-space/80",children:"Texto fijo: Lo que escribes aqu no existe para el sistema."}),r.jsxs("div",{children:[r.jsx(lt,{children:"Ttulo (opcional)"}),r.jsx(ii,{className:"mt-2",value:vo,onChange:D=>dd(D.target.value),placeholder:"Un nombre breve",disabled:Ue})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(q,{onClick:()=>hr(!1),children:"Cancelar"}),r.jsx(q,{variant:"primary",onClick:Hv,disabled:Ue,children:"Sellar"})]})]})}),r.jsx(xe,{open:Fv,title:"Lecturas con IA (bloqueado)",description:"En modo bsico no generamos lecturas ni Caja. Puedes seguir registrando.",onClose:()=>mr(!1),children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"rounded-xl bg-mint-cream/70 px-4 py-3 ring-1 ring-gainsboro/60 text-sm text-outer-space/80",children:"Para activar lecturas con evidencia, patrones y Caja de Enfrentamiento, elige un plan."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:"primary",onClick:()=>{mr(!1),i("/planes")},children:"Ver planes"}),r.jsx(q,{onClick:()=>mr(!1),children:"Cerrar"})]})]})})]})}const uC=[{id:"u_001",text:"Cambian los nombres, no el patrn."},{id:"u_002",text:"No es confusin. Es evitacin."},{id:"u_003",text:"Sigues esperando permiso."},{id:"u_004",text:"No te falta capacidad. Te falta lmite."},{id:"u_005",text:"La explicacin es tu forma de pedir pertenencia sin pedirla."},{id:"u_006",text:"Cuando explotas tarde, ya cediste temprano."}];function tp(e){switch(e){case"desahogo_libre":return"Desahogo libre";case"algo_me_incomodo":return"Algo me incomod";case"queria_hacer_algo_distinto":return"Quera hacer algo distinto";case"hoy_si_lo_hice":return"Hoy s lo hice";case"no_quise_ver_esto":return"No quise ver esto";default:return e}}function dC(e,t){return t.filter(n=>n.evidenceEntryIds.includes(e)).map(n=>n.id)}function hC(e){const t=[...e].sort((i,s)=>i.date<s.date?-1:1),n=[];for(let i=1;i<t.length;i+=1){const s=De(t[i-1].date),a=De(t[i].date),o=Math.round((a.getTime()-s.getTime())/(24*60*60*1e3));o>=4&&n.push({kind:"silence",from:t[i-1].date,to:t[i].date,days:o})}return n}function mC(){try{return localStorage.getItem("concia_v1_motivo_lectura")==="1"}catch{return!1}}function pC(){var V;const{state:e,dispatch:t}=gt(),n=xt(),i=J(),[s]=Rn(),a=s.get("readingId"),o=ye(new Date),l=!n.derived.hasSystem,c=p.useMemo(()=>{const T=e.readings.find(ae=>ae.type==="lectura_del_dia"&&ae.date===o);if(T)return T;const z=e.readings.find(ae=>ae.type==="lectura_del_dia");return z||[...e.readings].sort((ae,ke)=>ae.date<ke.date?1:-1)[0]},[e.readings,o]),u=p.useMemo(()=>c?c.type==="test"?"Lectura del test":c.type==="semanal"?"Lectura semanal":c.type==="reflejo"?"Reflejo":"Lectura del da":"Lecturas",[c]),d=p.useMemo(()=>{const T=(c==null?void 0:c.type)==="test",z=(c==null?void 0:c.type)==="reflejo";return{contencion:T?"Esto sugiere":z?"Reflejo":"Contencin",loQueVeo:T?"Base":z?"Lo que se nota":"Lo que veo",loQueEvitas:T?"Lo que evitas":z?"Lo que est debajo":"Lo que ests evitando"}},[c==null?void 0:c.type]),h=p.useMemo(()=>{if(a)return e.readings.find(T=>T.id===a)},[a,e.readings]),m=!!a||mC(),v=p.useMemo(()=>[...e.patterns].sort((T,z)=>T.name.localeCompare(z.name)),[e.patterns]),[y,j]=p.useState("todas"),[N,x]=p.useState("todas"),[f,g]=p.useState(!1),[w,b]=p.useState(!0),[C,P]=p.useState(null),_=p.useMemo(()=>hC(e.entries),[e.entries]),M=p.useMemo(()=>[...e.entries].sort((z,ae)=>z.date<ae.date?1:-1).filter(z=>!(y!=="todas"&&z.type!==y||f&&z.emotionalWeight<8||N!=="todas"&&!dC(z.id,e.patterns).includes(N))),[N,y,f,e.entries,e.patterns]),L=p.useMemo(()=>[...e.readings].slice().sort((T,z)=>T.date<z.date?1:-1).slice(0,8),[e.readings]);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14 space-y-4",children:[l?r.jsx(ce,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Lecturas (modo bsico)"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"En modo bsico no generamos lecturas ni Caja. Aqu validamos formato y ritual."})]}),r.jsx(q,{variant:"primary",onClick:()=>i("/planes"),children:"Ver planes"})]})}):null,m?r.jsxs(ce,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:u}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Formato fijo. Evidencia primero. Sin frases genricas."})]}),c!=null&&c.patternId?r.jsx(q,{disabled:l,onClick:()=>i(`/caja?patternId=${c.patternId}`),children:"Caja"}):null]}),c?r.jsxs("div",{className:"mt-5 rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-5 py-5",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:At(c.date)}),(V=c.basedOnEntryIds)!=null&&V.length?r.jsxs("div",{className:"mt-2 text-xs text-outer-space/60",children:["Basado en: ",c.basedOnEntryIds.join("  ")]}):null,r.jsxs("div",{className:"mt-3 space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:d.contencion}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:c.content.contencion})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:d.loQueVeo}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:c.content.loQueVeo})]}),c.content.patron?r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:"Patrn"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:c.content.patron})]}):null,r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:d.loQueEvitas}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:c.content.loQueEvitas})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:"Pregunta"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:c.content.pregunta})]}),c.content.accionMinima?r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:"Accin mnima"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:c.content.accionMinima})]}):null]})]}):r.jsx("div",{className:"mt-4 text-sm text-outer-space/70",children:"Sin lecturas an."}),h&&h.id!==(c==null?void 0:c.id)?r.jsxs("div",{className:"mt-4 rounded-xl bg-white ring-1 ring-gainsboro/70 px-5 py-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Lectura recin generada"}),r.jsx("div",{className:"mt-1 text-sm font-semibold tracking-tight text-outer-space",children:h.content.contencion}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/75",children:h.content.loQueVeo})]}):null]}):r.jsxs(ce,{className:"p-10",children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Lecturas"}),r.jsx("p",{className:"mt-2 text-sm text-outer-space/70",children:"An no hay evidencia suficiente para decirte algo con honestidad."}),r.jsx("div",{className:"mt-6 flex items-center justify-end",children:r.jsx(q,{variant:"primary",onClick:()=>i("/descarga"),children:"Escribir"})})]}),r.jsx(Sn,{title:"Verdades incmodas",description:"No son motivacin. Son espejo.",defaultOpen:!1,children:r.jsx("div",{className:"grid gap-3",children:uC.map(T=>{const z=e.truthFeedback[T.id];return r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx("div",{className:"text-sm text-outer-space/85",children:T.text}),r.jsxs("div",{className:"mt-3 flex gap-2",children:[r.jsx(q,{size:"sm",variant:z==="me_sirve"?"primary":"secondary",disabled:l,onClick:()=>t({type:"set_truth_feedback",truthId:T.id,feedback:"me_sirve"}),children:"Me sirve"}),r.jsx(q,{size:"sm",variant:z==="no_me_sirve"?"primary":"secondary",disabled:l,onClick:()=>t({type:"set_truth_feedback",truthId:T.id,feedback:"no_me_sirve"}),children:"No me sirve"})]})]},T.id)})})}),r.jsxs(Sn,{title:"Narrativa personal",description:"Cronologa filtrable por capa, patrn, picos y silencios.",defaultOpen:!1,children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/80",children:"Capa"}),r.jsxs(pn,{className:"mt-2",value:y,onChange:T=>j(T.target.value),children:[r.jsx("option",{value:"todas",children:"Todas"}),r.jsx("option",{value:"desahogo_libre",children:"Desahogo libre"}),r.jsx("option",{value:"algo_me_incomodo",children:"Algo me incomod"}),r.jsx("option",{value:"queria_hacer_algo_distinto",children:"Quera hacer algo distinto"}),r.jsx("option",{value:"hoy_si_lo_hice",children:"Hoy s lo hice"}),r.jsx("option",{value:"no_quise_ver_esto",children:"No quise ver esto"})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/80",children:"Patrn"}),r.jsxs(pn,{className:"mt-2",value:N,onChange:T=>x(T.target.value),children:[r.jsx("option",{value:"todas",children:"Todos"}),v.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]})]})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3",children:[r.jsx(kn,{checked:f,onChange:g,label:"Picos de densidad",description:"Solo peso  8."}),r.jsx(kn,{checked:w,onChange:b,label:"Silencios",description:"Gaps de 4+ das."})]}),r.jsxs("div",{className:"mt-4 space-y-3",children:[w&&_.length?r.jsxs("div",{className:"rounded-xl bg-white ring-1 ring-gainsboro/70 px-4 py-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Silencios detectados"}),r.jsx("div",{className:"mt-2 space-y-2",children:_.slice(0,3).map(T=>r.jsxs("div",{className:"text-sm text-outer-space/75",children:[T.days," das entre ",T.from,"  ",T.to]},`${T.from}-${T.to}`))})]}):null,M.map(T=>r.jsxs("button",{type:"button",onClick:()=>P(T),className:"w-full rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4 text-left transition hover:bg-mint-cream",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:tp(T.type)}),r.jsx("div",{className:"text-xs text-outer-space/60",children:T.date})]}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/75 overflow-hidden text-ellipsis [display:-webkit-box] [-webkit-line-clamp:2] [-webkit-box-orient:vertical]",children:T.text}),r.jsxs("div",{className:"mt-3 text-xs text-outer-space/60",children:["peso ",T.emotionalWeight]})]},T.id))]})]}),r.jsx(Sn,{title:"Biblioteca",description:"Lecturas recientes. No todo merece respuesta inmediata.",defaultOpen:!1,children:r.jsxs("div",{className:"space-y-3",children:[L.map(T=>r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsx("div",{className:"text-sm font-medium text-outer-space",children:T.type.replaceAll("_"," ")}),r.jsx("div",{className:"text-xs text-outer-space/60",children:T.date})]}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/75",children:T.content.contencion}),T.patternId?r.jsx("div",{className:"mt-3",children:r.jsx(q,{size:"sm",disabled:l,onClick:()=>i(`/caja?patternId=${T.patternId}`),children:"Caja"})}):null]},T.id)),r.jsx("div",{className:"flex justify-end gap-2",children:r.jsx(q,{onClick:()=>i("/tests"),children:"Tests"})})]})})]}),r.jsx(xe,{open:C!==null,title:C?tp(C.type):"Entrada",description:C?At(C.date):void 0,onClose:()=>P(null),children:C?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 px-4 py-3 ring-1 ring-gainsboro/60",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Hecho"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:C.text})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"rounded-xl bg-white px-4 py-3 ring-1 ring-gainsboro/70",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Contexto"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:C.context})]}),r.jsxs("div",{className:"rounded-xl bg-white px-4 py-3 ring-1 ring-gainsboro/70",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Lmite"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:C.boundary})]}),r.jsxs("div",{className:"rounded-xl bg-white px-4 py-3 ring-1 ring-gainsboro/70",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Reaccin"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:C.reaction})]}),r.jsxs("div",{className:"rounded-xl bg-white px-4 py-3 ring-1 ring-gainsboro/70",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Peso"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:C.emotionalWeight})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(q,{onClick:()=>i(`/caja?entryId=${C.id}`),children:"Caja"}),r.jsx(q,{variant:"primary",onClick:()=>P(null),children:"Cerrar"})]})]}):null})]})}function fC({data:e,title:t}){const n=Math.max(1,...e.map(i=>i.value));return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/80",children:t}),r.jsx("div",{className:"text-xs text-morning-blue",children:"30 das"})]}),r.jsx("div",{className:"mt-2 rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4 space-y-3",children:e.map((i,s)=>{const a=i.value/n*100;return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3 text-[11px] text-outer-space/70",children:[r.jsx("div",{className:"truncate",children:i.label}),r.jsx("div",{className:"shrink-0",children:i.value})]}),r.jsx("div",{className:"h-2 rounded-full bg-white ring-1 ring-gainsboro/70 overflow-hidden",children:r.jsx(Se.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.6,delay:.12+s*.04},className:"h-full bg-outer-space/80"})})]},i.label)})})]})}function gC(e){return e.text.length>120?`${e.text.slice(0,117)}`:e.text}function xC(e){const n=(e.getDay()+6)%7;return We(e,-n)}function vC(){var f;const{state:e}=gt(),t=xt(),n=J(),[i]=Rn(),s=!t.derived.hasSystem,a=p.useMemo(()=>[...e.patterns].sort((g,w)=>w.frequency30d-g.frequency30d),[e.patterns]),o=i.get("patternId")??"",l=o&&a.some(g=>g.id===o)?o:((f=a[0])==null?void 0:f.id)??"",[c,u]=p.useState(l),d=a.find(g=>g.id===c),h=ye(new Date),m=De(h),v=p.useMemo(()=>d?d.evidenceEntryIds.map(w=>e.entries.find(b=>b.id===w)).filter(Boolean).sort((w,b)=>w.date<b.date?1:-1).slice(0,8):[],[d,e.entries]),y=p.useMemo(()=>{var M;if(!d)return{repeatedReactionPct:0,uniqueReactions:0,sample:""};const g=v.slice(0,10);if(g.length===0)return{repeatedReactionPct:0,uniqueReactions:0,sample:""};const w=new Map;for(const L of g)w.set(L.reaction,(w.get(L.reaction)??0)+1);const b=Math.max(...w.values()),C=w.size,P=Math.round(b/g.length*100),_=((M=[...w.entries()].sort((L,V)=>V[1]-L[1])[0])==null?void 0:M[0])??"";return{repeatedReactionPct:P,uniqueReactions:C,sample:_}},[v,d]),j=p.useMemo(()=>{const g=xC(m),w=We(g,-28),b=[];for(let C=0;C<35;C+=1){const P=We(w,C),_=ye(P),M=De(_)>m?0:e.entries.filter(L=>L.date===_).length;b.push({date:_,value:M})}return b},[e.entries,m]),N=p.useMemo(()=>{const g=[],w=We(m,-29);for(let b=0;b<30;b+=1){const C=We(w,b),P=ye(C),_=e.checkIns.find(V=>V.date===P),M=e.entries.filter(V=>V.date===P),L=M.length===0?0:Math.round(M.reduce((V,T)=>V+T.emotionalWeight,0)/M.length*10)/10;g.push({value:typeof(_==null?void 0:_.emotionalWeight)=="number"?_.emotionalWeight:L})}return g},[e.checkIns,e.entries,m]),x=p.useMemo(()=>a.slice(0,8).map(g=>({label:g.name,value:g.frequency30d})),[a]);return d?r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14 space-y-4",children:[r.jsxs(ce,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Revisar archivo"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Evidencia  repeticin  movimiento. Sin BI."})]}),r.jsx(q,{onClick:()=>n("/patrones"),children:"Volver"})]}),r.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/80",children:"Patrn"}),r.jsx(pn,{className:"mt-2",value:c,onChange:g=>u(g.target.value),children:a.map(g=>r.jsx("option",{value:g.id,children:g.name},g.id))})]}),r.jsx(q,{variant:"primary",disabled:s,onClick:()=>n(`/caja?patternId=${encodeURIComponent(d.id)}`),children:"Enfrentar en Caja"})]})]}),r.jsx(Sn,{title:"Evidencia",description:"38 entradas que sustentan el patrn.",defaultOpen:!0,children:r.jsx("div",{className:"space-y-3",children:v.length?v.map(g=>r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:g.date}),r.jsxs("div",{className:"text-xs text-outer-space/60",children:[g.context,"  ",g.boundary,"  ",g.reaction,"  peso ",g.emotionalWeight]})]}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/75",children:gC(g)})]},g.id)):r.jsx("div",{className:"text-sm text-outer-space/70",children:"Sin evidencia para este patrn."})})}),r.jsx(Sn,{title:"Movimiento",description:"Estancamiento = mismo patrn + misma reaccin.",defaultOpen:!1,children:r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Reaccin dominante"}),r.jsx("div",{className:"mt-1 text-sm font-semibold tracking-tight text-outer-space",children:y.sample||""}),r.jsxs("div",{className:"mt-2 text-sm text-outer-space/70",children:["Repeticin (muestra):"," ",r.jsxs("span",{className:"font-medium text-outer-space",children:[y.repeatedReactionPct,"%"]})]})]}),r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Variedad de reaccin"}),r.jsx("div",{className:"mt-1 text-sm font-semibold tracking-tight text-outer-space",children:y.uniqueReactions||0}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/70",children:"Si baja la variedad, suele subir el estancamiento."})]})]})}),r.jsx(Sn,{title:"Grficas",description:"Aqu viven. No en la lista.",defaultOpen:!1,children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(_v,{cells:j,title:"Heatmap semanal (densidad)"}),r.jsx(fC,{data:x,title:"Frecuencia de patrones"}),r.jsx(Tv,{points:N,title:"Densidad emocional",subtitle:"30 das"})]})})]}):r.jsx("div",{className:"mx-auto max-w-2xl",children:r.jsxs(ce,{className:"p-6",children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Archivo de patrones"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Sin patrn disponible."})]})})}function yC(){var u;const{state:e}=gt(),t=en(),n=xt(),i=J(),[s,a]=p.useState("Usuario demo"),[o,l]=p.useState(!0),c=p.useMemo(()=>({entries:e.entries.length,intentions:e.intentions.length,readings:e.readings.length,patterns:e.patterns.length,vaultNotes:e.vaultNotes.length}),[e.entries.length,e.intentions.length,e.patterns.length,e.readings.length,e.vaultNotes.length]);return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14 space-y-4",children:[r.jsxs(ce,{className:"p-6",children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Perfil"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Concia no es social. No hay progreso pblico. Solo estructura privada."}),r.jsxs("div",{className:"mt-5 rounded-xl bg-mint-cream/70 px-4 py-3 ring-1 ring-gainsboro/60",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Cuenta"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/80",children:t.status==="authenticated"?((u=t.user)==null?void 0:u.email)??"Con cuenta":"Sin cuenta (modo local)"}),r.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[r.jsx("div",{className:"text-xs text-outer-space/60",children:"En nativo: sesin segura + sincronizacin (fase 2)."}),t.status==="authenticated"?r.jsx(q,{variant:"quiet",onClick:async()=>{await t.signOut(),i("/sesion")},children:"Cerrar sesin"}):r.jsx(q,{variant:"primary",onClick:()=>i("/acceso"),children:"Iniciar sesin"})]})]}),r.jsxs("div",{className:"mt-4 rounded-xl bg-white px-4 py-3 ring-1 ring-gainsboro/70",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Plan"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/80",children:n.state.selectedPlan==="xmi_asistencia"?"Concia + Asistencia":n.state.selectedPlan==="xmi_total"?"Concia Sistema":n.derived.trialActive?"Trial activo (7 das)":"Modo bsico"}),r.jsx("div",{className:"mt-3 flex justify-end",children:r.jsx(q,{onClick:()=>i("/planes"),children:"Ver planes"})})]}),r.jsxs("div",{className:"mt-5",children:[r.jsx(lt,{children:"Nombre"}),r.jsx(ii,{className:"mt-2",value:s,onChange:d=>a(d.target.value)}),r.jsx(ld,{className:"mt-2",children:"No se sincroniza. No se sube a ningn lado."})]}),r.jsx("div",{className:"mt-5",children:r.jsx(kn,{checked:o,onChange:l,label:"Modo privado",description:"Reduce elementos sociales (Concia no gamifica)."})})]}),r.jsxs(ce,{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-tight",children:"Resumen local"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Solo datos en este dispositivo."}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs text-outer-space/75",children:[r.jsxs("div",{className:"rounded-lg bg-mint-cream/70 px-3 py-2 ring-1 ring-gainsboro/60",children:["Entradas: ",c.entries]}),r.jsxs("div",{className:"rounded-lg bg-mint-cream/70 px-3 py-2 ring-1 ring-gainsboro/60",children:["Intenciones: ",c.intentions]}),r.jsxs("div",{className:"rounded-lg bg-mint-cream/70 px-3 py-2 ring-1 ring-gainsboro/60",children:["Lecturas: ",c.readings]}),r.jsxs("div",{className:"rounded-lg bg-mint-cream/70 px-3 py-2 ring-1 ring-gainsboro/60",children:["Patrones: ",c.patterns]}),r.jsxs("div",{className:"rounded-lg bg-mint-cream/70 px-3 py-2 ring-1 ring-gainsboro/60",children:["Bveda: ",c.vaultNotes]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(q,{onClick:()=>a("Usuario demo"),children:"Restablecer"})})]})]})}const wC=[{value:0,label:"Nunca"},{value:1,label:"Rara vez"},{value:2,label:"A veces"},{value:3,label:"Frecuente"},{value:4,label:"Casi siempre"}];function jC(e){return e<1.3?"bajo":e<2.6?"medio":"alto"}function bC(e,t){const n=t.severity==="alto"?"Esto sugiere un patrn sostenido, no un mal da.":t.severity==="medio"?"Esto sugiere un patrn activo intermitente.":"Esto sugiere una seal baja. Aun as, observa la repeticin.",i=e.theme==="lmites"?"En lmites, la trampa suele ser ceder temprano y pagar tarde.":e.theme==="evitacin"?"En evitacin, lo productivo puede ser una forma limpia de no mirar.":e.theme==="rumiacin"?"En rumiacin, parece anlisis, pero suele ser control.":e.theme==="apego"?"En apego, la seal externa reemplaza la claridad.":e.theme==="autoestima"?"En autoestima, el permiso externo se disfraza de consideracin.":"En desgaste, sostener de ms se vuelve identidad.",s=t.severity==="alto"?"No lo negocies con explicacin. Nmbralo.":t.severity==="medio"?"No lo endulces. Obsrvalo con precisin.":"No te confes. La baja seal no siempre es ausencia.";return{suggests:`${n} ${i}`,tone:s}}function NC(){const{state:e,dispatch:t}=gt(),n=xt(),i=J(),[s]=Rn(),a=!n.derived.hasSystem,o=ye(new Date),[l,c]=p.useState(null),u=p.useMemo(()=>l?Xn.find(k=>k.id===l):void 0,[l]),[d,h]=p.useState(0),[m,v]=p.useState({}),[y,j]=p.useState(null),[N,x]=p.useState(null),[f,g]=p.useState(!1),[w,b]=p.useState(null),C=s.get("testId"),P=p.useMemo(()=>{const k=new Map;for(const S of Xn)k.set(S.theme,[...k.get(S.theme)??[],S]);return[...k.entries()].map(([S,E])=>({theme:S,tests:E.slice().sort((R,F)=>R.length<F.length?-1:1)}))},[]),_=p.useMemo(()=>{if(u!=null&&u.suggestedPatternId)return e.patterns.find(k=>k.id===u.suggestedPatternId)},[u==null?void 0:u.suggestedPatternId,e.patterns]);function M(k){c(k),h(0),v({}),j(null),x(null),g(!1),b(null)}function L(){c(null),h(0),v({}),j(null),x(null),g(!1),b(null)}function V(k){if(!u)return;const S=u.questions[d];S&&v(E=>({...E,[S.id]:k}))}function T(){if(!u)return{avg:0,severity:"bajo"};const k=u.questions.map(E=>{const R=m[E.id]??0;return E.reverse?4-R:R}),S=k.reduce((E,R)=>E+R,0)/Math.max(1,k.length);return{avg:Math.round(S*100)/100,severity:jC(S)}}function z(k,S){const E=S??0;return k.reverse?4-E:E}function ae(k,S){return k.questions.map(E=>({questionId:E.id,text:E.text,score:z(E,m[E.id])})).sort((E,R)=>R.score-E.score).filter(E=>E.score>=2).slice(0,S)}p.useEffect(()=>{let k=!1;async function S(){if(!u||!y){b(null),g(!1);return}if(a){b(null),g(!1);return}g(!0);try{const E=ae(u,6),R=await Wk({test:u,result:{avg:y.avg,severity:y.severity},signals:E,patterns:e.patterns,todayISO:o});if(k)return;t({type:"add_reading",reading:R}),b(R)}finally{k||g(!1)}}return S(),()=>{k=!0}},[u,t,a,y,e.patterns,o]),p.useEffect(()=>{C&&(l||Xn.some(k=>k.id===C)&&M(C))},[l,C]);const ke=p.useMemo(()=>u?Math.round((d+1)/u.questions.length*100):0,[u,d]),Ve=p.useMemo(()=>{if(!u)return;const k=u.questions[d];if(k)return m[k.id]},[u,m,d]);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14 space-y-4",children:[a?r.jsx(ce,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Tests (modo bsico)"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"En modo bsico los tests se muestran como ejemplo, pero no activan Caja."})]}),r.jsx(q,{variant:"primary",onClick:()=>i("/planes"),children:"Ver planes"})]})}):null,r.jsxs(ce,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Tests (con propsito)"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"No diagnostican. No etiquetan. Activan lectura y confrontacin."})]}),r.jsx(q,{variant:"primary",disabled:a,onClick:()=>i("/caja"),children:"Caja"})]}),r.jsx("div",{className:"mt-5 grid gap-4",children:P.map(k=>r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-5 py-5",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:k.theme}),r.jsx("div",{className:"mt-4 grid grid-cols-1 gap-3",children:k.tests.map(S=>r.jsxs("button",{type:"button",onClick:()=>{M(S.id)},className:"rounded-xl bg-white ring-1 ring-gainsboro/70 px-4 py-4 text-left transition hover:bg-mint-cream",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:S.title}),r.jsxs("div",{className:"text-xs text-outer-space/60",children:[S.length==="corto"?"Corto":"Largo","  ",S.questions.length]})]}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:S.description})]},S.id))})]},k.theme))})]}),r.jsxs(ce,{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-tight",children:"Qu pasa con el resultado"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Formato fijo: Esto sugiere + conexin con patrn + CTA."}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-outer-space",children:"Esto sugiere"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/75",children:"Resultado alto no significa mal. Significa repeticin."})]}),r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-outer-space",children:"Esto se conecta con tu patrn"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/75",children:"Se propone un patrn probable para activar la Caja."})]})]})]})]}),r.jsx(xe,{open:l!==null,title:(u==null?void 0:u.title)??"Test",description:u?`${u.theme}  ${u.questions.length} preguntas`:void 0,onClose:L,children:u?y?(()=>{const k=bC(u,y);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Resultado"}),r.jsxs("div",{className:"mt-1 text-sm font-semibold tracking-tight text-outer-space",children:[y.severity.toUpperCase(),"  promedio ",y.avg]}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/75",children:k.suggests}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/75",children:k.tone})]}),_?r.jsxs("div",{className:"rounded-xl bg-white ring-1 ring-gainsboro/70 px-4 py-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Conexin probable"}),r.jsx("div",{className:"mt-1 text-sm font-semibold tracking-tight text-outer-space",children:_.name}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/75",children:"Esto no te define. Te muestra estructura para elegir distinto."})]}):null,r.jsxs("div",{className:"rounded-xl bg-white ring-1 ring-gainsboro/70 px-4 py-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Lectura del test"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/75",children:"Formato fijo. Sin frases genricas."})]}),r.jsx(q,{size:"sm",variant:"secondary",disabled:!w,onClick:()=>{w&&(L(),i(`/lecturas?readingId=${encodeURIComponent(w.id)}`))},children:"Ver en Lecturas"})]}),f?r.jsx("div",{className:"mt-4 text-sm text-outer-space/70",children:"Generando lectura"}):w?r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"text-xs text-outer-space/60",children:["Base: ",w.content.loQueVeo]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:"Esto sugiere"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:w.content.contencion})]}),w.content.patron?r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:"Patrn"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:w.content.patron})]}):null,r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:"Lo que evitas"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:w.content.loQueEvitas})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:"Pregunta"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:w.content.pregunta})]}),w.content.accionMinima?r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-outer-space/70",children:"Accin mnima"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/85",children:w.content.accionMinima})]}):null]}):r.jsx("div",{className:"mt-4 text-sm text-outer-space/70",children:"Sin lectura."})]}),r.jsxs("div",{className:"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-4",children:[r.jsx(lt,{children:"Te reson?"}),r.jsxs("div",{className:"mt-3 flex gap-2",children:[r.jsx(q,{variant:N===!0?"primary":"secondary",size:"sm",onClick:()=>x(!0),children:"S"}),r.jsx(q,{variant:N===!1?"primary":"secondary",size:"sm",onClick:()=>x(!1),children:"No"})]}),r.jsx(ld,{className:"mt-2",children:"Resonancia = seal para Caja. No es validacin emocional."})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(q,{onClick:()=>M(u.id),children:"Repetir"}),r.jsx(q,{onClick:L,children:"Cerrar"}),_?r.jsx(q,{variant:"primary",disabled:a,onClick:()=>i(`/caja?patternId=${encodeURIComponent(_.id)}`),children:"Entrar a Caja de Enfrentamiento"}):null]})]})})():(()=>{const k=u.questions[d],S=Ve;return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"rounded-xl bg-white ring-1 ring-gainsboro/70 px-4 py-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"text-xs text-morning-blue",children:["Pregunta ",d+1," de ",u.questions.length]}),r.jsxs("div",{className:"text-xs text-outer-space/60",children:[ke,"%"]})]}),r.jsx("div",{className:"mt-3 h-2 rounded-full bg-gainsboro/70 overflow-hidden",children:r.jsx("div",{className:"h-full bg-camel",style:{width:`${ke}%`}})}),r.jsx("div",{className:"mt-4 text-sm font-semibold tracking-tight text-outer-space",children:k.text})]}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:wC.map(E=>r.jsx("button",{type:"button",onClick:()=>V(E.value),className:S===E.value?"rounded-xl bg-outer-space px-4 py-3 text-left text-sm text-white":"rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-3 text-left text-sm text-outer-space/80 hover:bg-mint-cream","aria-pressed":S===E.value,children:E.label},E.value))}),r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx(q,{onClick:()=>h(E=>Math.max(0,E-1)),disabled:d===0,children:"Anterior"}),d<u.questions.length-1?r.jsx(q,{variant:"primary",onClick:()=>h(E=>Math.min(u.questions.length-1,E+1)),disabled:Ve===void 0,children:"Siguiente"}):r.jsx(q,{variant:"primary",onClick:()=>j(T()),disabled:Ve===void 0,children:"Ver resultado"})]})]})})():null})]})}function SC({value:e,onChange:t,options:n,ariaLabel:i}){return r.jsx("div",{className:"inline-flex rounded-xl bg-white/55 p-1 ring-1 ring-gainsboro/60 backdrop-blur",children:n.map(s=>{const a=s.value===e;return r.jsx("button",{type:"button",onClick:()=>t(s.value),className:je("rounded-md px-2.5 py-1.5 text-xs transition",a?"bg-white/85 text-outer-space shadow-sm":"text-outer-space/70 hover:text-outer-space"),"aria-label":`${i}: ${s.label}`,"aria-pressed":a,children:s.label},s.value)})})}const kC="concia_v1_access_done";function CC(){return"w-full rounded-2xl bg-[#7D5C6B] px-5 py-4 text-center text-sm font-semibold tracking-wide text-white ring-1 ring-white/15 shadow-[0_14px_40px_rgba(0,0,0,0.35)] transition hover:bg-[#6f5160] active:scale-[0.99] disabled:opacity-60 disabled:pointer-events-none"}function np(){return"w-full rounded-2xl bg-white/10 px-5 py-4 text-center text-sm font-semibold tracking-wide text-white ring-1 ring-white/12 transition hover:bg-white/12 active:scale-[0.99] disabled:opacity-60 disabled:pointer-events-none"}const ip="bg-white/10 text-white ring-white/12 placeholder:text-white/35 focus:ring-white/25 disabled:bg-white/8 disabled:ring-white/10";function $r(){try{localStorage.setItem(kC,"1")}catch{}}function _C(){const e=en(),t=J(),[n]=Rn(),i=n.get("next")??"/inicio",s=i.startsWith("/")?i:"/inicio",[a,o]=p.useState("login"),[l,c]=p.useState(""),[u,d]=p.useState(""),[h,m]=p.useState(!1),[v,y]=p.useState(null),[j,N]=p.useState(null);async function x(){y(null),N(null),m(!0);try{if(a==="login"){const g=await e.signInWithEmail(l,u);if(!g.ok){y(g.message);return}$r(),t(s,{replace:!0});return}const f=await e.signUpWithEmail(l,u);if(!f.ok){y(f.message);return}if(f.kind==="needs_email_confirmation"){N("Cuenta creada. Revisa tu correo para confirmar antes de entrar.");return}$r(),t(s,{replace:!0})}finally{m(!1)}}return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14 flex flex-col",children:[r.jsxs("button",{type:"button",onClick:()=>{if(window.history.length<=1){t("/inicio");return}t(-1)},className:"inline-flex items-center gap-2 self-start rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]}),r.jsxs("div",{className:"mt-10 flex items-center gap-3 text-white",children:[r.jsx("div",{className:"grid h-12 w-12 place-items-center overflow-hidden rounded-2xl bg-white/10 ring-1 ring-white/12 backdrop-blur-md",children:r.jsx("img",{src:"./brand/concia-logo.png",alt:"Concia",className:"h-10 w-10 object-contain",loading:"eager"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[26px] font-semibold tracking-tight",children:"Acceso"}),r.jsx("div",{className:"mt-1 text-sm text-white/65",children:"Concia  Volver a ti"})]})]}),r.jsx("div",{className:"mt-auto",children:r.jsxs("div",{className:"rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"MODO"}),r.jsx("div",{className:"mt-3",children:r.jsx(SC,{value:a,onChange:f=>o(f),ariaLabel:"Modo de acceso",options:[{value:"login",label:"Entrar"},{value:"signup",label:"Crear cuenta"}]})}),e.configured?null:r.jsx("div",{className:"mt-4 rounded-2xl bg-white/8 ring-1 ring-white/10 px-4 py-3 text-sm text-white/70",children:"Supabase no est configurado en este entorno. Puedes continuar en modo local."}),r.jsxs("div",{className:"mt-5 space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-white/75",children:"Correo"}),r.jsx(ii,{className:`mt-2 ${ip}`,value:l,onChange:f=>c(f.target.value),placeholder:"tu@correo.com",inputMode:"email",autoComplete:"email",disabled:!e.configured||h})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-white/75",children:"Contrasea"}),r.jsx(ii,{className:`mt-2 ${ip}`,value:u,onChange:f=>d(f.target.value),placeholder:"",type:"password",autoComplete:a==="login"?"current-password":"new-password",disabled:!e.configured||h}),r.jsx("div",{className:"mt-2 text-xs text-white/55",children:"En nativo: cifrado y sesin segura."})]})]}),v?r.jsx("div",{className:"mt-4 text-sm text-white/80",children:v}):null,j?r.jsx("div",{className:"mt-4 text-sm text-white/80",children:j}):null,r.jsxs("div",{className:"mt-6 space-y-2",children:[r.jsx("button",{type:"button",onClick:x,className:CC(),disabled:h||!e.configured||!l.trim()||!u,children:h?"Procesando":a==="login"?"CONTINUAR":"CREAR CUENTA"}),r.jsx("button",{type:"button",onClick:()=>{e.continueLocal(),$r(),t(s,{replace:!0})},className:np(),children:"ENTRAR SIN CUENTA"}),r.jsx("button",{type:"button",onClick:async()=>{m(!0);try{$r();const f=await e.signInWithGoogle();f.ok||y(f.message)}finally{m(!1)}},disabled:!e.configured||h,className:np(),children:"CONTINUAR CON GOOGLE"})]})]})})]})}function EC(){const e=en(),t=J(),[n]=Rn(),[i,s]=p.useState(null);return p.useEffect(()=>{const a=n.get("code"),o=n.get("error_description"),l=n.get("error");if(o||l){s(o??l??"OAuth fall.");return}if(!a){s("OAuth incompleto: falta el cdigo de autorizacin.");return}let c=!1;return(async()=>{const u=await e.exchangeOAuthCode(a);if(!c){if(!u.ok){s(u.message);return}t("/",{replace:!0})}})(),()=>{c=!0}},[e,t,n]),r.jsx("div",{className:"min-h-screen px-4 pb-10 pt-6 sm:px-6",children:r.jsx("div",{className:"mx-auto max-w-xl",children:r.jsxs(ce,{className:"p-6",children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Conectando"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Cerrando el acceso. No hagas nada todava."}),i?r.jsxs("div",{className:"mt-4 rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-3",children:[r.jsx("div",{className:"text-sm font-medium text-outer-space",children:"No se pudo completar"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/75",children:i}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(q,{variant:"primary",onClick:()=>t("/acceso",{replace:!0}),children:"Volver a Acceso"})})]}):r.jsx("div",{className:"mt-4 text-sm text-outer-space/70",children:"Validando"})]})})})}function sp(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e)}function PC(e){const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat("es-MX",{year:"numeric",month:"short",day:"2-digit"}).format(t).replace(".","")}function TC(){const e=J(),{state:t,dispatch:n,derived:i}=xt(),s=p.useMemo(()=>t.selectedPlan!=="none"?i.effectivePlan==="xmi_asistencia"?"Activo: Concia + Asistencia":"Activo: Concia Sistema":i.trialActive&&i.trialEndsAtISO?`Trial activo (7 das). Termina: ${PC(i.trialEndsAtISO)}.`:"Modo bsico (sin IA/analtica).",[i.effectivePlan,i.trialActive,i.trialEndsAtISO,t.selectedPlan]);return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14 space-y-4",children:[r.jsxs(ce,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Planes"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Decisin adulta. Sin urgencia. Sin truco."})]}),r.jsx(q,{onClick:()=>e(-1),children:"Volver"})]}),r.jsx("div",{className:"mt-4 rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-3 text-sm text-outer-space/80",children:s}),r.jsx("div",{className:"mt-4 text-xs text-outer-space/60",children:"Nota: en el visor web la suscripcin es mock. En nativo se implementa con IAP + RevenueCat."})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs(ce,{className:"p-6",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Concia Sistema"}),r.jsxs("div",{className:"mt-2 text-lg font-semibold tracking-tight text-outer-space",children:[sp(99)," ",r.jsx("span",{className:"text-sm font-medium text-outer-space/70",children:"/ mes"})]}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:"Sistema cognitivo personal"}),r.jsx("div",{className:"mt-4 text-xs text-outer-space/60",children:"IA completa  Privado  Sin humanos"}),r.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-outer-space/80",children:[r.jsx("li",{children:"Registro estructurado"}),r.jsx("li",{children:"Lecturas con evidencia"}),r.jsx("li",{children:"Patrones reales"}),r.jsx("li",{children:"Caja de Enfrentamiento"}),r.jsx("li",{children:"Tests de resonancia"}),r.jsx("li",{children:"Bveda privada"})]}),r.jsx("div",{className:"mt-6",children:r.jsx(q,{variant:"primary",onClick:()=>{n({type:"select_plan",plan:"xmi_total"}),e("/sesion")},children:"Elegir este plan"})})]}),r.jsxs(ce,{className:"p-6",children:[r.jsxs("div",{className:"inline-flex items-center gap-2",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Concia + Asistencia"}),r.jsx("div",{className:"rounded-full bg-camel/15 px-2 py-0.5 text-[11px] text-outer-space/80 ring-1 ring-camel/20",children:"Soporte adicional"})]}),r.jsxs("div",{className:"mt-2 text-lg font-semibold tracking-tight text-outer-space",children:[sp(129)," ",r.jsx("span",{className:"text-sm font-medium text-outer-space/70",children:"/ mes"})]}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:"Sistema + orientacin humana (terceros)"}),r.jsx("div",{className:"mt-4 text-xs text-outer-space/60",children:"IA + apoyo cuando lo necesitas"}),r.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-outer-space/80",children:[r.jsx("li",{children:"Todo Concia Sistema"}),r.jsx("li",{children:"Orientacin emocional 24/7 (terceros)"}),r.jsx("li",{children:"Voz (lecturas, caja, dictado)"}),r.jsx("li",{children:"Red indirecta sin exposicin de Concia"})]}),r.jsx("div",{className:"mt-4 rounded-xl bg-mint-cream/70 ring-1 ring-gainsboro/60 px-4 py-3 text-xs text-outer-space/70",children:"Orientacin emocional no teraputica, operada por terceros. No sustituye terapia ni atencin de emergencia."}),r.jsx("div",{className:"mt-6",children:r.jsx(q,{variant:"primary",onClick:()=>{n({type:"select_plan",plan:"xmi_asistencia"}),e("/sesion")},children:"Elegir este plan"})})]})]}),r.jsxs(ce,{className:"p-6",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:"Modo bsico"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:"Si no ests listo para suscripcin, Concia no te castiga: te deja escribir y guardar."}),r.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[r.jsx("div",{className:"text-xs text-outer-space/60",children:"Activo: Escribir  Bveda  Hoy bsico  Modo Crisis"}),r.jsx(q,{variant:"quiet",onClick:()=>{n({type:"select_plan",plan:"none"}),n({type:"end_trial"}),e("/sesion")},children:"Usar modo bsico"})]})]})]})}function MC(){const e=J(),n=en().status==="authenticated";return r.jsx("div",{className:"min-h-[calc(100vh-40px)]",children:r.jsxs("div",{className:"mx-auto max-w-xl px-4 pb-14 pt-10",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"inline-flex items-center gap-2",children:[r.jsx("div",{className:"h-9 w-9 rounded-xl bg-white/70 ring-1 ring-gainsboro/60 shadow-sm grid place-items-center overflow-hidden backdrop-blur-md",children:r.jsx("img",{src:"./brand/concia-logo.png",alt:"",className:"h-6 w-6 object-contain","aria-hidden":!0,loading:"eager"})}),r.jsx("div",{className:"text-xs text-morning-blue",children:"Concia"})]}),r.jsxs(q,{size:"sm",variant:"quiet",onClick:()=>e(n?"/perfil":"/acceso"),"aria-label":n?"Abrir perfil":"Iniciar sesin o crear cuenta",children:[r.jsx(dc,{className:"h-4 w-4","aria-hidden":!0}),n?"Cuenta":"Entrar"]})]}),r.jsx("h1",{className:"mt-10 text-3xl font-semibold tracking-tight text-outer-space font-serif",children:"Aqu no tienes que ser coherente."}),r.jsx("p",{className:"mt-4 text-lg text-outer-space/80 leading-relaxed",children:"Tienes que ser honesta."}),r.jsxs("div",{className:"mt-9",children:[r.jsx(q,{variant:"primary",className:"w-full justify-center py-4 text-base",onClick:()=>e("/descarga"),children:"Escribir sin estructura"}),r.jsx("p",{className:"mt-3 text-xs text-outer-space/60",children:"Aqu no hay respuestas correctas. Solo partes de ti que merecen ser vistas con curiosidad, no con vergenza."})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Otras puertas"}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>e("/repeticion"),className:"rounded-2xl bg-white/65 ring-1 ring-gainsboro/60 px-4 py-4 text-left backdrop-blur-md transition hover:bg-white/75",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:"Algo se repite"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:"Ver evidencia. Entrar a Caja solo si hay permiso."})]}),r.jsxs("button",{type:"button",onClick:()=>e(`/descarga?prompt=${encodeURIComponent("No s qu me pasa. No lo ordenes. Escrbelo como salga.")}`),className:"rounded-2xl bg-white/65 ring-1 ring-gainsboro/60 px-4 py-4 text-left backdrop-blur-md transition hover:bg-white/75",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:"No s qu me pasa"}),r.jsx("div",{className:"mt-1 text-sm text-outer-space/70",children:"Descarga sin juicio. Sin etiquetas."})]})]})]}),r.jsxs("div",{className:"mt-10 flex items-center justify-between",children:[r.jsx(q,{variant:"quiet",onClick:()=>e("/archivo"),children:"Ver archivo"}),r.jsx(q,{variant:"quiet",onClick:()=>e("/boveda"),children:"Ir a Bveda"})]})]})})}const rp=["No quiero hablar con nadie, pero no quiero estar solo. Me enojo por cosas pequeas y luego me da culpa.","Hoy dije que s sin pensarlo. No era lo que quera. Me estoy cansando de m.","Estoy bien pero no estoy bien. Y me da vergenza decirlo as.","Quise poner un lmite y se me cerr el cuerpo. Lo dej pasar. Otra vez."];function IC(e){return{id:Xt("e"),date:e.dateISO,type:"desahogo_libre",context:"yo",boundary:"respeto",reaction:"calle",emotionalWeight:6,text:e.text.trim(),tags:[],silenceMode:!0}}function AC(){const e=J(),[t]=Rn(),{dispatch:n}=gt(),i=p.useMemo(()=>ye(new Date),[]),s=t.get("prompt"),[a,o]=p.useState(""),[l,c]=p.useState(null),[u,d]=p.useState(null),[h,m]=p.useState(null),[v,y]=p.useState(!1),[j,N]=p.useState(!1);p.useEffect(()=>{if(!s)return;const w=(()=>{try{return decodeURIComponent(s)}catch{return s}})();w.trim()&&(a.trim()||o(`${w}

`))},[s,a]),p.useEffect(()=>{if(!l)return;const w=window.setTimeout(()=>c(null),2400);return()=>window.clearTimeout(w)},[l]);function x(){if(j)return;N(!0);const w=rp[Math.floor(Math.random()*rp.length)];window.setTimeout(()=>{o(b=>b.trim()?b:w),N(!1),c("Transcripcin simulada lista.")},650)}function f(){const w=a.trim();if(w.length<3){c("Escribe una lnea real antes de guardar.");return}const b=IC({dateISO:i,text:w});n({type:"add_entry",entry:b}),d(b),m(null),c("Guardado.")}async function g(){if(!(!u||v)){y(!0),c("Generando reflejo");try{const w=await Lv({entry:u,todayISO:i});n({type:"add_reading",reading:w}),m(w),c(null)}finally{y(!1)}}}return r.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-14 pt-10",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>e("/sesion"),className:"inline-flex items-center gap-2 rounded-xl bg-white/55 ring-1 ring-gainsboro/60 px-3 py-2 text-sm text-outer-space/80 backdrop-blur-md transition hover:bg-white/70",children:[r.jsx(zi,{className:"h-4 w-4","aria-hidden":!0}),"Cerrar"]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:At(i)}),r.jsx("div",{className:"mt-1 text-xs text-outer-space/60",children:l??""})]})]}),r.jsxs("div",{className:"mt-10",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Descarga"}),r.jsx("h1",{className:"mt-2 text-2xl font-semibold tracking-tight text-outer-space font-serif",children:"No te corrijas. No te expliques. Escribe."}),r.jsx("p",{className:"mt-3 text-sm text-outer-space/70",children:"La estructura aparece despus, si la quieres. Aqu solo sueltas."})]}),r.jsx("div",{className:"mt-6",children:r.jsx(Yn,{className:"min-h-[320px]",value:a,onChange:w=>o(w.target.value),placeholder:"Qu est pasando dentro de ti. Sin orden. Sin defensa."})}),r.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[r.jsxs(q,{onClick:x,disabled:j,children:[r.jsx(Yi,{className:"h-4 w-4","aria-hidden":!0}),j?"":"Voz"]}),r.jsx(q,{variant:"primary",onClick:f,children:"Guardar"})]}),u?r.jsx("div",{className:"mt-6 rounded-2xl bg-white/65 ring-1 ring-gainsboro/60 px-5 py-5 backdrop-blur-md",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Reflejo breve"}),r.jsx("div",{className:"mt-2 text-sm font-semibold tracking-tight text-outer-space",children:h.content.contencion}),r.jsxs("div",{className:"mt-4 space-y-3 text-sm text-outer-space/80 leading-relaxed",children:[r.jsx("div",{children:h.content.loQueVeo}),r.jsx("div",{children:h.content.loQueEvitas}),r.jsx("div",{className:"text-outer-space",children:h.content.pregunta})]}),r.jsxs("div",{className:"mt-6 flex flex-col gap-2",children:[r.jsx(q,{onClick:()=>e("/sesion"),children:"Cerrar"}),r.jsx(q,{variant:"primary",onClick:()=>e(`/lecturas?readingId=${encodeURIComponent(h.id)}`),children:"Ver en Lecturas"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:"Gracias."}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/75 leading-relaxed",children:"Esto no necesita respuesta todava."}),r.jsxs("div",{className:"mt-5 flex flex-col gap-2",children:[r.jsx(q,{variant:"quiet",onClick:()=>e(`/escribir?silencio=1&prompt=${encodeURIComponent(u.text)}`),disabled:v,children:"Estructurar (opcional)"}),r.jsxs(q,{variant:"primary",onClick:g,disabled:v,children:[r.jsx(ar,{className:"h-4 w-4","aria-hidden":!0}),v?"":"Pedir reflejo breve"]})]})]})}):null]})}function RC(e){return e.replace(/\s+/g," ").trim()}function LC(e){const t=RC(e);return t.length>170?`${t.slice(0,167)}`:t}function DC(e){return e.contexts.length?e.contexts.join(", "):""}function qC(){var l;const e=J(),{state:t}=gt(),n=p.useMemo(()=>[...t.patterns].sort((c,u)=>u.frequency30d-c.frequency30d),[t.patterns]),[i,s]=p.useState(((l=n[0])==null?void 0:l.id)??""),a=n.find(c=>c.id===i)??n[0],o=p.useMemo(()=>a?a.evidenceEntryIds.map(u=>t.entries.find(d=>d.id===u)).filter(Boolean).sort((u,d)=>u.date<d.date?1:-1).slice(0,4):[],[a,t.entries]);return n.length?r.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-14 pt-10",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>e("/sesion"),className:"inline-flex items-center gap-2 rounded-xl bg-white/55 ring-1 ring-gainsboro/60 px-3 py-2 text-sm text-outer-space/80 backdrop-blur-md transition hover:bg-white/70",children:[r.jsx(zi,{className:"h-4 w-4","aria-hidden":!0}),"Cerrar"]}),r.jsx(q,{variant:"quiet",onClick:()=>e("/archivo"),children:"Ver archivo"})]}),r.jsxs("div",{className:"mt-10",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Repeticin"}),r.jsx("h1",{className:"mt-2 text-2xl font-semibold tracking-tight text-outer-space",children:"Algo se repite."}),r.jsx("p",{className:"mt-3 text-sm text-outer-space/70 leading-relaxed",children:"La sombra no es un problema a resolver. Es informacin que no habas querido ver. Aqu solo la iluminamos con evidencia."})]}),r.jsxs(ce,{className:"mt-6 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-semibold tracking-tight",children:"Patrones activos (resumen)"}),r.jsx("p",{className:"mt-1 text-sm text-outer-space/70",children:"Elige uno para ver evidencia."})]}),r.jsx("div",{className:"text-xs text-outer-space/60",children:"mock"})]}),r.jsx("div",{className:"mt-5 space-y-2",children:n.slice(0,3).map(c=>{const u=c.id===i;return r.jsxs("button",{type:"button",onClick:()=>s(c.id),className:u?"w-full rounded-2xl bg-white/70 ring-1 ring-gainsboro/60 px-4 py-4 text-left backdrop-blur-md":"w-full rounded-2xl bg-white/55 ring-1 ring-gainsboro/60 px-4 py-4 text-left backdrop-blur-md transition hover:bg-white/70","aria-pressed":u,children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-outer-space",children:c.name}),r.jsxs("div",{className:"mt-1 text-sm text-outer-space/70",children:["Contextos: ",DC(c)]})]},c.id)})})]}),r.jsxs("div",{className:"mt-6 rounded-2xl bg-white/65 ring-1 ring-gainsboro/60 px-6 py-6 backdrop-blur-md",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:"Evidencia (extracto)"}),r.jsx("div",{className:"mt-2 text-lg font-semibold tracking-tight text-outer-space",children:a==null?void 0:a.name}),r.jsx("div",{className:"mt-4 space-y-3",children:o.length?o.map(c=>r.jsxs("div",{className:"rounded-2xl bg-white/70 ring-1 ring-gainsboro/60 px-4 py-4 backdrop-blur-md",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("div",{className:"text-xs text-morning-blue",children:c.date}),r.jsxs("div",{className:"text-xs text-outer-space/60",children:[c.context,"  ",c.boundary,"  ",c.reaction,"  peso ",c.emotionalWeight]})]}),r.jsx("div",{className:"mt-2 text-sm text-outer-space/80 leading-relaxed",children:LC(c.text)})]},c.id)):r.jsx("div",{className:"text-sm text-outer-space/70",children:"Sin evidencia disponible."})}),r.jsxs("div",{className:"mt-6 flex flex-col gap-2",children:[r.jsx(q,{onClick:()=>e("/descarga"),children:"Escribir primero"}),r.jsx(q,{variant:"primary",onClick:()=>e(`/caja?patternId=${encodeURIComponent((a==null?void 0:a.id)??"")}`),disabled:!a,children:"Entrar a Caja"})]})]})]}):r.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-14 pt-10",children:[r.jsxs("button",{type:"button",onClick:()=>e("/sesion"),className:"inline-flex items-center gap-2 rounded-xl bg-white/55 ring-1 ring-gainsboro/60 px-3 py-2 text-sm text-outer-space/80 backdrop-blur-md transition hover:bg-white/70",children:[r.jsx(zi,{className:"h-4 w-4","aria-hidden":!0}),"Cerrar"]}),r.jsxs("div",{className:"mt-10",children:[r.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-outer-space",children:"Algo se repite"}),r.jsx("p",{className:"mt-3 text-sm text-outer-space/70",children:"An no hay evidencia suficiente para abrir Caja con honestidad."}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx(q,{variant:"primary",onClick:()=>e("/descarga"),children:"Escribir"})})]})]})}function OC(e){return e?"Algo se repite.":"Habla 60s."}function VC(e){return e?`${e}: nombra el hecho sin explicar.`:"Dnde cediste hoy para evitar incomodidad?"}function FC(){const e=J(),{state:t}=gt(),n=p.useMemo(()=>[...t.patterns].sort((s,a)=>a.frequency30d-s.frequency30d)[0],[t.patterns]),i=!!(n&&n.frequency30d>=3);return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14",children:[r.jsxs("div",{className:"text-white",children:[r.jsx("div",{className:"text-[28px] font-semibold tracking-tight",children:"Hola, [Nombre]."}),r.jsx("div",{className:"mt-2 text-sm text-white/65",children:"Hoy: nombra el hecho sin adornarlo."})]}),r.jsxs("div",{className:"mt-7 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"TU PRXIMO PASO"}),r.jsx("div",{className:"mt-3 text-2xl font-semibold tracking-tight text-white",children:OC(n==null?void 0:n.name)}),r.jsx("div",{className:"mt-3 text-sm leading-relaxed text-white/70",children:VC(n==null?void 0:n.name)})]}),r.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1.5 text-xs text-white/80 ring-1 ring-white/10",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-white/60","aria-hidden":!0}),"Local"]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-3",children:[r.jsx("button",{type:"button",onClick:()=>e("/espejo"),className:"w-full rounded-2xl bg-[#7D5C6B] px-5 py-4 text-left text-sm font-semibold tracking-wide text-white ring-1 ring-white/15 shadow-[0_14px_40px_rgba(0,0,0,0.35)] transition hover:bg-[#6f5160] active:scale-[0.99]",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(Yi,{className:"h-4 w-4","aria-hidden":!0}),"HABLAR"]}),r.jsx(sa,{className:"h-4 w-4 text-white/85","aria-hidden":!0})]})}),r.jsx("button",{type:"button",onClick:()=>e("/descarga"),className:"w-full rounded-2xl bg-white/5 px-5 py-4 text-left text-sm font-semibold tracking-wide text-white ring-1 ring-white/10 transition hover:bg-white/8 active:scale-[0.99]",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("span",{children:"ESCRIBIR"}),r.jsx(sa,{className:"h-4 w-4 text-white/70","aria-hidden":!0})]})}),i?r.jsxs("button",{type:"button",onClick:()=>e(`/caja?patternId=${encodeURIComponent((n==null?void 0:n.id)??"")}`),className:"w-full rounded-2xl bg-white/5 px-5 py-4 text-left text-sm font-semibold tracking-wide text-white ring-1 ring-white/10 transition hover:bg-white/8 active:scale-[0.99]",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("span",{children:"ENTRAR A CAJA"}),r.jsx(sa,{className:"h-4 w-4 text-white/70","aria-hidden":!0})]}),r.jsx("div",{className:"mt-2 text-xs text-white/60",children:"Con evidencia. Sin prisa."})]}):null]}),r.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>e("/mapa"),className:"rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 transition hover:bg-white/12",children:"Mapa"}),r.jsx("button",{type:"button",onClick:()=>e("/crisis"),className:"rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 transition hover:bg-white/12",children:"Crisis"}),r.jsx("button",{type:"button",onClick:()=>e("/boveda"),className:"rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 transition hover:bg-white/12",children:"Bveda"}),r.jsx("button",{type:"button",onClick:()=>e("/mas"),className:"rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 transition hover:bg-white/12",children:"Ms"})]})]})]})}const ap=["No quiero hablar con nadie, pero no quiero estar solo. Me enojo por cosas pequeas y luego me da culpa.","Hoy dije que s sin pensarlo. No era lo que quera. Me estoy cansando de m.","Estoy bien pero no estoy bien. Y me da vergenza decirlo as.","Quise poner un lmite y se me cerr el cuerpo. Lo dej pasar. Otra vez."];function zC(e){return{id:Xt("e"),date:e.dateISO,type:"algo_me_incomodo",context:"yo",boundary:"respeto",reaction:"calle",emotionalWeight:6,text:e.text.trim(),tags:[],silenceMode:!1}}function BC(){const e=J(),{dispatch:t}=gt(),n=p.useMemo(()=>ye(new Date),[]),[i,s]=p.useState(""),[a,o]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(null),[h,m]=p.useState(!1),[v,y]=p.useState(!1);p.useEffect(()=>{if(!a)return;const f=window.setTimeout(()=>o(null),2400);return()=>window.clearTimeout(f)},[a]);function j(){if(v)return;y(!0);const f=ap[Math.floor(Math.random()*ap.length)];window.setTimeout(()=>{s(g=>g.trim()?g:f),y(!1),o("Transcripcin simulada lista.")},650)}function N(f){const g=i.trim();if(g.length<3){o("Di una lnea real antes de guardar.");return}const w=zC({dateISO:n,text:g});f!=null&&f.silence&&(w.silenceMode=!0),t({type:"add_entry",entry:w}),c(w),d(null),o("Guardado.")}async function x(){if(!(!l||h)){m(!0),o("Generando espejo");try{const f=await Lv({entry:l,todayISO:n});t({type:"add_reading",reading:f}),d(f),o(null)}finally{m(!1)}}}return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-12",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>e("/sesion"),className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(zi,{className:"h-4 w-4","aria-hidden":!0}),"Cerrar"]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-white/70",children:"Espejo Negro"}),r.jsx("div",{className:"mt-1 text-xs text-white/55",children:a??""})]})]}),r.jsxs("div",{className:"mt-10 text-white",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"PROMPT"}),r.jsx("h1",{className:"mt-3 text-2xl font-semibold tracking-tight",children:"Hblame de la ltima vez que cediste."}),r.jsx("p",{className:"mt-3 text-sm text-white/65",children:"No lo ordenes. No lo expliques. Si no quieres lectura, gurdalo en silencio."})]}),r.jsxs("div",{className:"mt-7 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("button",{type:"button",onClick:j,disabled:v,className:"inline-flex items-center gap-2 rounded-2xl bg-white/10 px-4 py-3 text-sm font-semibold text-white ring-1 ring-white/10 transition hover:bg-white/12 disabled:opacity-60",children:[r.jsx(Yi,{className:"h-4 w-4","aria-hidden":!0}),v?"":"Grabar (mock)"]}),r.jsx("button",{type:"button",onClick:()=>N({silence:!0}),className:"rounded-2xl bg-white/10 px-4 py-3 text-sm font-semibold text-white ring-1 ring-white/10 transition hover:bg-white/12",children:"Guardar en silencio"})]}),r.jsx("div",{className:"mt-4",children:r.jsx(Yn,{className:"min-h-[220px] bg-white/8 text-white placeholder:text-white/40 ring-1 ring-white/10",value:i,onChange:f=>s(f.target.value),placeholder:"Transcripcin (o texto)."})}),r.jsx("div",{className:"mt-4 flex items-center justify-end gap-2",children:r.jsx("button",{type:"button",onClick:()=>N(),className:"rounded-2xl bg-[#7D5C6B] px-5 py-3 text-sm font-semibold tracking-wide text-white ring-1 ring-white/15 shadow-[0_14px_40px_rgba(0,0,0,0.35)] transition hover:bg-[#6f5160] active:scale-[0.99]",children:"Guardar"})}),l?r.jsx("div",{className:"mt-6 rounded-3xl bg-white/6 ring-1 ring-white/10 px-5 py-5",children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"ESPEJO"}),r.jsx("div",{className:"mt-3 text-sm font-semibold tracking-tight text-white",children:u.content.contencion}),r.jsxs("div",{className:"mt-4 space-y-3 text-sm text-white/75 leading-relaxed",children:[r.jsx("div",{children:u.content.loQueVeo}),r.jsx("div",{children:u.content.loQueEvitas}),r.jsx("div",{className:"text-white",children:u.content.pregunta})]}),r.jsxs("div",{className:"mt-6 flex flex-col gap-2",children:[r.jsx("button",{type:"button",onClick:()=>e("/sesion"),className:"rounded-2xl bg-white/10 px-4 py-3 text-sm font-semibold text-white ring-1 ring-white/10 transition hover:bg-white/12",children:"Cerrar"}),r.jsx("button",{type:"button",onClick:()=>e(`/lecturas?readingId=${encodeURIComponent(u.id)}`),className:"rounded-2xl bg-[#7D5C6B] px-4 py-3 text-sm font-semibold text-white ring-1 ring-white/15 transition hover:bg-[#6f5160]",children:"Ver en Lecturas"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-sm font-semibold text-white",children:"Gracias."}),r.jsx("div",{className:"mt-2 text-sm text-white/70",children:"Esto no necesita respuesta todava."}),r.jsxs("div",{className:"mt-5 flex flex-col gap-2",children:[r.jsx("button",{type:"button",onClick:()=>e(`/escribir?silencio=1&prompt=${encodeURIComponent(l.text)}`),className:"rounded-2xl bg-white/10 px-4 py-3 text-sm font-semibold text-white ring-1 ring-white/10 transition hover:bg-white/12",disabled:h,children:"Estructurar (opcional)"}),r.jsxs("button",{type:"button",onClick:x,className:"inline-flex items-center justify-center gap-2 rounded-2xl bg-[#7D5C6B] px-4 py-3 text-sm font-semibold text-white ring-1 ring-white/15 transition hover:bg-[#6f5160] disabled:opacity-60",disabled:h,children:[r.jsx(ar,{className:"h-4 w-4","aria-hidden":!0}),h?"":"Pedir espejo breve"]})]})]})}):null]})]})}function On(e){return r.jsxs("button",{type:"button",onClick:e.onClick,className:"flex w-full items-center justify-between gap-4 rounded-3xl bg-[#0b1220]/72 px-5 py-4 text-left ring-1 ring-white/10 backdrop-blur-xl transition hover:bg-[#0b1220]/78 active:scale-[0.995]",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-9 w-9 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:e.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:e.title}),e.subtitle?r.jsx("div",{className:"mt-1 text-xs text-white/60",children:e.subtitle}):null]})]}),r.jsx(mn,{className:"h-4 w-4 text-white/50","aria-hidden":!0})]})}function $C(){var i;const e=J(),t=en(),n=p.useMemo(()=>{var s;if(t.status==="authenticated"){const a=((s=t.user)==null?void 0:s.email)??"Cuenta";return a.length>22?`${a.slice(0,19)}`:a}return"Modo local"},[t.status,(i=t.user)==null?void 0:i.email]);return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-[26px] font-semibold tracking-tight text-white",children:"Ms"}),r.jsx("div",{className:"mt-2 text-sm text-white/65",children:n})]})}),r.jsxs("div",{className:"mt-7 space-y-3",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"MDULOS"}),r.jsx(On,{title:"Crisis",subtitle:"Sin drama. Con accin.",icon:r.jsx(Qg,{className:"h-4 w-4 text-white/80","aria-hidden":!0}),onClick:()=>e("/crisis")}),r.jsx(On,{title:"Lecturas",subtitle:"Espejo en formato fijo.",icon:r.jsx(ar,{className:"h-4 w-4 text-white/80","aria-hidden":!0}),onClick:()=>e("/lecturas")}),r.jsx(On,{title:"Integracin",subtitle:"Comps de valores  herramientas  ritual.",icon:r.jsx(uc,{className:"h-4 w-4 text-white/80","aria-hidden":!0}),onClick:()=>e("/integracion")}),r.jsx(On,{title:"Arquetipos",subtitle:"Laboratorio  teatro de sombras.",icon:r.jsx(dc,{className:"h-4 w-4 text-white/80","aria-hidden":!0}),onClick:()=>e("/arquetipos")})]}),r.jsxs("div",{className:"mt-8 space-y-3",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"PRIVACIDAD"}),r.jsx(On,{title:"Bveda",subtitle:"Fuera del sistema.",icon:r.jsx(uc,{className:"h-4 w-4 text-white/80","aria-hidden":!0}),onClick:()=>e("/boveda")})]}),r.jsxs("div",{className:"mt-8 space-y-3",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"CUENTA"}),r.jsx(On,{title:"Perfil",subtitle:"Preferencias personales.",icon:r.jsx(dc,{className:"h-4 w-4 text-white/80","aria-hidden":!0}),onClick:()=>e("/perfil")}),r.jsx(On,{title:"Configuracin",subtitle:"Exportar  borrar  seguridad.",icon:r.jsx(lj,{className:"h-4 w-4 text-white/80","aria-hidden":!0}),onClick:()=>e("/configuracion")})]}),r.jsx("div",{className:"mt-8",children:t.status!=="authenticated"?r.jsxs("button",{type:"button",onClick:()=>e("/acceso"),className:"inline-flex w-full items-center justify-center gap-2 rounded-2xl bg-white/10 px-4 py-4 text-sm font-semibold text-white ring-1 ring-white/10 transition hover:bg-white/12",children:[r.jsx(nj,{className:"h-4 w-4","aria-hidden":!0}),"Entrar"]}):r.jsxs("button",{type:"button",onClick:async()=>{await t.signOut(),e("/sesion")},className:"inline-flex w-full items-center justify-center gap-2 rounded-2xl bg-white/10 px-4 py-4 text-sm font-semibold text-white ring-1 ring-white/10 transition hover:bg-white/12",children:[r.jsx(ij,{className:"h-4 w-4","aria-hidden":!0}),"Cerrar sesin"]})})]})}function hl(e){return r.jsxs("button",{type:"button",onClick:e.onClick,className:"flex w-full items-center justify-between gap-4 rounded-3xl bg-[#0b1220]/72 px-5 py-5 text-left ring-1 ring-white/10 backdrop-blur-xl transition hover:bg-[#0b1220]/78 active:scale-[0.995]",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:e.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:e.title}),r.jsx("div",{className:"mt-1 text-xs leading-relaxed text-white/60",children:e.subtitle})]})]}),r.jsx(sa,{className:"h-4 w-4 text-white/50","aria-hidden":!0})]})}function UC(){const e=J();return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[26px] font-semibold tracking-tight text-white",children:"Integracin"}),r.jsx("div",{className:"mt-2 text-sm text-white/65",children:"Convierte insight en conducta. Sin herosmo."})]}),r.jsxs("div",{className:"mt-7 space-y-3",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"CAPAS"}),r.jsx(hl,{title:"Comps de valores",subtitle:"Define un valor gua despus de un avance. salo cuando vuelvas al patrn.",icon:r.jsx(Ug,{className:"h-5 w-5 text-white/80","aria-hidden":!0}),onClick:()=>e("/integracion/compas")}),r.jsx(hl,{title:"Herramientas",subtitle:"Microintervenciones activadas por patrn (lmites, rumiacin, pedir sin disculparte).",icon:r.jsx(Kg,{className:"h-5 w-5 text-white/80","aria-hidden":!0}),onClick:()=>e("/integracion/herramientas")}),r.jsx(hl,{title:"Ritual de liberacin",subtitle:"Cierre simblico: quemar  romper  soltar. Luego eliges qu valor pones en su lugar.",icon:r.jsx(ku,{className:"h-5 w-5 text-white/80","aria-hidden":!0}),onClick:()=>e("/integracion/ritual")})]})]})}function WC(){const e=J();return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-12",children:[r.jsxs("button",{type:"button",onClick:()=>e("/integracion"),className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]}),r.jsxs("div",{className:"mt-10 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(Ug,{className:"h-5 w-5 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:"Comps de valores"}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:"mock (v1)"})]})]}),r.jsx("div",{className:"mt-5 text-sm leading-relaxed text-white/70",children:"Aqu vive tu brjula: valores definidos despus de avances reales. Concia los usa para recordarte una decisin mnima cuando vuelves al patrn."})]})]})}const op=[{id:"no_sin_justificar",title:"Cmo decir no sin justificar",subtitle:"1 frase. 1 lmite. 0 explicacin.",steps:["Respira una vez. No negocies con tu tono.","Di la frase completa y calla.","Si insisten: repite igual. No agregues historia.","Cierre: Entiendo. Aun as, no."]},{id:"pedir_sin_disculparte",title:"Cmo pedir sin disculparte",subtitle:"Pedir = claridad. No vergenza.",steps:["Nombra la necesidad (sin justificar).","Pide algo concreto (una accin, una fecha, un s/no).","Si no pueden: pide alternativa especfica."]},{id:"sostener_90s",title:"Cmo sostener incomodidad 90s",subtitle:"No es aguantar. Es observar sin huir.",steps:["Pon un timer de 90s.","Nombra 3 sensaciones fsicas (sin historia).","No tomes decisiones durante el timer.","Al final: elige 1 accin mnima, no una solucin."]},{id:"cortar_rumiacion",title:"Cmo cortar rumiacin (ritmo + frase)",subtitle:"Cuerpo primero. Luego una lnea.",steps:["Camina 20 pasos (o golpe suave de pies) con ritmo.","Repite una frase corta: Ya vi el bucle. Vuelvo.","Haz 1 tarea de 5 min sin optimizar."]}];function HC(){const e=J(),[t,n]=p.useState(null),i=p.useMemo(()=>op.find(s=>s.id===t)??null,[t]);return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-12",children:[r.jsxs("button",{type:"button",onClick:()=>e("/integracion"),className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]}),r.jsxs("div",{className:"mt-10 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(Kg,{className:"h-5 w-5 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:"Herramientas"}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:"mock (v1)"})]})]}),r.jsx("div",{className:"mt-5 space-y-3",children:op.map(s=>r.jsx("button",{type:"button",onClick:()=>n(s.id),className:"w-full rounded-3xl bg-white/6 px-5 py-4 text-left ring-1 ring-white/10 transition hover:bg-white/8 active:scale-[0.995]",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:s.title}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:s.subtitle})]}),r.jsx(mn,{className:"mt-0.5 h-4 w-4 shrink-0 text-white/50","aria-hidden":!0})]})},s.id))})]}),r.jsx(xe,{open:i!==null,title:(i==null?void 0:i.title)??"Herramienta",description:"mock (v1). En nativo esto se personaliza por patrn.",onClose:()=>n(null),children:i?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"rounded-2xl bg-white/8 ring-1 ring-white/10 px-5 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"IDEA"}),r.jsx("div",{className:"mt-2 text-sm text-white/75",children:i.subtitle})]}),r.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-white/10 px-5 py-5",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"PASOS (RPIDO)"}),r.jsx("div",{className:"mt-3 space-y-2",children:i.steps.map(s=>r.jsxs("div",{className:"text-sm text-white/75 leading-relaxed",children:["- ",s]},s))})]})]}):null})]})}function QC(){const e=J(),[t,n]=p.useState(null),i=p.useMemo(()=>[{id:"quemar",label:"Quemar",hint:"dejar ir",steps:["Escribe 1 lnea: qu sueltas.","Respira. Lee en voz baja.","Cierre simblico: Ya no te debo."]},{id:"romper",label:"Romper",hint:"cortar",steps:["Nombra el contrato invisible.","Rompe una regla vieja en 1 gesto mnimo.","Cierre: Hoy no juego ese juego."]},{id:"soltar",label:"Soltar",hint:"terminar",steps:["Ubica qu ests controlando.","Suelta 1 microaccin (no revisar, no perseguir).","Cierre: Puedo con la incomodidad."]}],[]),s=p.useMemo(()=>i.find(a=>a.id===t)??null,[t,i]);return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-12",children:[r.jsxs("button",{type:"button",onClick:()=>e("/integracion"),className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]}),r.jsxs("div",{className:"mt-10 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(ku,{className:"h-5 w-5 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:"Ritual de liberacin"}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:"mock (v1)"})]})]}),r.jsx("div",{className:"mt-5 text-sm leading-relaxed text-white/70",children:"Este mdulo no cura. Cierra simblicamente. Despus de un avance real, eliges qu valor pones en su lugar."}),r.jsx("div",{className:"mt-6 grid grid-cols-3 gap-2",children:i.map(a=>r.jsxs("button",{type:"button",onClick:()=>n(a.id),className:"rounded-2xl bg-white/10 px-3 py-4 text-center ring-1 ring-white/10 transition hover:bg-white/12",children:[r.jsx("div",{className:"text-xs font-semibold text-white",children:a.label}),r.jsx("div",{className:"mt-1 text-[11px] text-white/60",children:a.hint})]},a.id))})]}),r.jsx(xe,{open:s!==null,title:(s==null?void 0:s.label)??"Ritual",description:"mock (v1). Cierre simblico + valor gua.",onClose:()=>n(null),children:s?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"rounded-2xl bg-white/8 ring-1 ring-white/10 px-5 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"INTENCIN"}),r.jsx("div",{className:"mt-2 text-sm text-white/75",children:s.hint})]}),r.jsxs("div",{className:"rounded-2xl bg-white/5 ring-1 ring-white/10 px-5 py-5",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"PASOS (RPIDO)"}),r.jsx("div",{className:"mt-3 space-y-2",children:s.steps.map(a=>r.jsxs("div",{className:"text-sm text-white/75 leading-relaxed",children:["- ",a]},a))})]})]}):null})]})}const KC=[{id:"critico",name:"El Crtico",hint:"Perfeccionismo como proteccin."},{id:"complaciente",name:"El Complaciente",hint:"Ceder para no perder."},{id:"impostor",name:"El Impostor",hint:"Miedo a ser visto de verdad."}];function GC(){const e=J();return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-[26px] font-semibold tracking-tight text-white",children:"Arquetipos"}),r.jsx("div",{className:"mt-2 text-sm text-white/65",children:"Confrontacin dirigida, no conversacin infinita."})]})}),r.jsxs("div",{className:"mt-7 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"LABORATORIO"}),r.jsx("div",{className:"mt-3 text-sm text-white/70",children:"Aqu aparecen personas de tu sombra. No te consuelan. Te explican su lgica."}),r.jsx("div",{className:"mt-5 space-y-3",children:KC.map(t=>r.jsxs("button",{type:"button",onClick:()=>e(`/arquetipos/${encodeURIComponent(t.id)}`),className:"flex w-full items-center justify-between gap-4 rounded-3xl bg-white/6 px-5 py-4 text-left ring-1 ring-white/10 transition hover:bg-white/8 active:scale-[0.995]",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(Hg,{className:"h-5 w-5 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:t.name}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:t.hint})]})]}),r.jsx(rj,{className:"h-4 w-4 text-white/50","aria-hidden":!0})]},t.id))}),r.jsxs("div",{className:"mt-6 border-t border-white/10 pt-5",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"TEATRO DE SOMBRAS"}),r.jsx("div",{className:"mt-3 text-sm text-white/70",children:"No hablas con tu sombra: actas como ella. Luego Concia te devuelve lo que qued al descubierto."}),r.jsxs("button",{type:"button",onClick:()=>e("/teatro"),className:"mt-4 inline-flex w-full items-center justify-center gap-2 rounded-2xl bg-white/10 px-4 py-4 text-sm font-semibold text-white ring-1 ring-white/10 transition hover:bg-white/12",children:[r.jsx(Wg,{className:"h-4 w-4","aria-hidden":!0}),"Abrir Teatro (mock)"]})]})]})]})}function YC(e){return e==="critico"?"El Crtico":e==="complaciente"?"El Complaciente":e==="impostor"?"El Impostor":"Arquetipo"}function XC(){const e=J(),n=Z1().id??"arquetipo",i=p.useMemo(()=>YC(n),[n]),[s,a]=p.useState(""),[o,l]=p.useState(()=>[{role:"archetype",text:"No te voy a consolar. Dime qu ests intentando evitar con tu explicacin."}]);function c(){const u=s.trim();u&&(l(d=>[...d,{role:"user",text:u},{role:"archetype",text:"Mock: te escuch. Ahora s especfico."}]),a(""))}return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-12",children:[r.jsxs("button",{type:"button",onClick:()=>e("/arquetipos"),className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]}),r.jsxs("div",{className:"mt-6 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(Hg,{className:"h-5 w-5 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:i}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:"chat mock (sin IA real)"})]})]}),r.jsx("div",{className:"mt-5 space-y-3",children:o.map((u,d)=>r.jsx("div",{className:u.role==="user"?"ml-10 rounded-3xl bg-[#7D5C6B]/70 px-4 py-3 text-sm text-white ring-1 ring-white/10":"mr-10 rounded-3xl bg-white/6 px-4 py-3 text-sm text-white/75 ring-1 ring-white/10",children:u.text},d))}),r.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[r.jsx("input",{value:s,onChange:u=>a(u.target.value),className:"flex-1 rounded-2xl bg-white/10 px-4 py-3 text-sm text-white placeholder:text-white/45 ring-1 ring-white/10 outline-none",placeholder:"Escribe una lnea."}),r.jsx("button",{type:"button",onClick:c,className:"rounded-2xl bg-white/10 px-4 py-3 text-sm font-semibold text-white ring-1 ring-white/10 transition hover:bg-white/12",children:"Enviar"})]})]})]})}const Ur=[{id:"cumplido",title:"Recibes un cumplido",prompt:"Acta como El Impostor. Responde en voz alta cmo lo desviaras."},{id:"limite",title:"Te piden de ms",prompt:"Acta como El Complaciente. Responde en voz alta cmo cederas."}];function JC(){const e=J(),[t,n]=p.useState(Ur[0].id),i=p.useMemo(()=>Ur.find(l=>l.id===t)??Ur[0],[t]),[s,a]=p.useState(null);function o(){a("Grabacin simulada lista. (mock)"),window.setTimeout(()=>a(null),2200)}return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-12",children:[r.jsxs("button",{type:"button",onClick:()=>e("/arquetipos"),className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]}),r.jsxs("div",{className:"mt-6 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(Wg,{className:"h-5 w-5 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:"Teatro de sombras"}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:s??"mock (v1)"})]})]}),r.jsxs("div",{className:"mt-5",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"ESCENA"}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Ur.map(l=>{const c=l.id===t;return r.jsx("button",{type:"button",onClick:()=>n(l.id),className:c?"rounded-full bg-[#7D5C6B]/70 px-3 py-2 text-xs font-semibold text-white ring-1 ring-white/10":"rounded-full bg-white/10 px-3 py-2 text-xs font-semibold text-white/85 ring-1 ring-white/10 transition hover:bg-white/12",children:l.title},l.id)})})]}),r.jsxs("div",{className:"mt-6 rounded-3xl bg-white/6 px-5 py-4 ring-1 ring-white/10",children:[r.jsx("div",{className:"text-sm font-semibold text-white",children:i.title}),r.jsx("div",{className:"mt-2 text-sm leading-relaxed text-white/70",children:i.prompt})]}),r.jsxs("button",{type:"button",onClick:o,className:"mt-5 inline-flex w-full items-center justify-center gap-2 rounded-2xl bg-[#7D5C6B] px-4 py-4 text-sm font-semibold text-white ring-1 ring-white/15 transition hover:bg-[#6f5160]",children:[r.jsx(Yi,{className:"h-4 w-4","aria-hidden":!0}),"Grabar (mock)"]})]})]})}const lp=[{id:"respira",title:"Respira 60s",subtitle:"Solo ritmo. Sin historia.",icon:r.jsx(Qg,{className:"h-5 w-5 text-white/80","aria-hidden":!0})},{id:"cinco_lineas",title:"5 lneas sin filtro",subtitle:"Escribe sin justificar.",icon:r.jsx(aj,{className:"h-5 w-5 text-white/80","aria-hidden":!0})},{id:"lectura",title:"Lectura inmediata",subtitle:"Contencin sobria.",icon:r.jsx(ar,{className:"h-5 w-5 text-white/80","aria-hidden":!0})},{id:"contacto",title:"Contactar a alguien",subtitle:"Tu lista personal (mock).",icon:r.jsx(oj,{className:"h-5 w-5 text-white/80","aria-hidden":!0})}];function ZC(){const e=J(),[t,n]=p.useState(null),i=p.useMemo(()=>lp.find(s=>s.id===t)??null,[t]);return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-12",children:[r.jsxs("button",{type:"button",onClick:()=>e("/sesion"),className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]}),r.jsxs("div",{className:"mt-6 rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"CRISIS"}),r.jsx("div",{className:"mt-3 text-2xl font-semibold tracking-tight text-white",children:"Sin drama. Con accin."}),r.jsx("div",{className:"mt-3 text-sm leading-relaxed text-white/70",children:"Concia no promete salvar. Contiene. Te regresa al cuerpo. Y luego a una lnea de verdad."}),r.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:lp.map(s=>r.jsx("button",{type:"button",onClick:()=>n(s.id),className:s.id===t?"flex items-center justify-between gap-4 rounded-3xl bg-white/10 px-5 py-4 text-left ring-1 ring-white/15 transition":"flex items-center justify-between gap-4 rounded-3xl bg-white/6 px-5 py-4 text-left ring-1 ring-white/10 transition hover:bg-white/8",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:s.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:s.title}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:s.subtitle})]})]})},s.id))}),i?r.jsxs("div",{className:"mt-6 rounded-3xl bg-white/6 px-5 py-4 ring-1 ring-white/10",children:[r.jsx("div",{className:"text-sm font-semibold text-white",children:i.title}),r.jsx("div",{className:"mt-2 text-sm text-white/70",children:"mock (v1). En nativo esto dispara el flujo real."})]}):null]})]})}const e_="concia_v1_onboarding_done",t_="concia_v1_plan_intent",n_="concia_v1_access_done";function cp(e){try{return localStorage.getItem(e)==="1"}catch{return!1}}function i_(){try{return localStorage.getItem(t_)}catch{return null}}function up(){const e=en(),t=xt(),n=cp(e_),i=i_(),s=cp(n_);if(!n)return r.jsx(ct,{to:"/onboarding",replace:!0});if(!(!!i||t.derived.hasSystem))return r.jsx(ct,{to:"/planes/elige",replace:!0});const o=!!(i&&i.startsWith("paid")),l=i==="trial_7d",c=o&&!t.derived.hasSystem;if(l&&!t.derived.trialActive&&t.state.selectedPlan==="none")return r.jsx(ct,{to:"/planes/elige",replace:!0});if(e.status!=="authenticated"){if(!s){const d=c?"/checkout":"/inicio";return r.jsx(ct,{to:`/acceso?next=${encodeURIComponent(d)}`,replace:!0})}return c?r.jsx(ct,{to:"/checkout",replace:!0}):r.jsx(ct,{to:"/sesion",replace:!0})}return c?r.jsx(ct,{to:"/checkout",replace:!0}):r.jsx(ct,{to:"/sesion",replace:!0})}const s_="concia_v1_onboarding_done",Wr=[{id:"umbral",kind:"umbral",title:"CONCIA",body:["Desahogo y reencuentro."],footnote:`Un espacio ntimo para decir lo que cargas
y volver a ti sin mscaras.`},{id:"desahogo",kind:"card",title:`Aqu no vienes
a verte bien.`,body:[`Concia no te pide respuestas correctas.
Te invita a decir lo que normalmente callas.
Sin orden. Sin filtro. Sin juicio.`],footnote:"Hablar tambin es soltar."},{id:"incomodo",kind:"card",title:`Lo que evitas
tambin habla.`,body:[`A veces lo que ms pesa
no es lo que pas,
sino lo que nunca dijiste.`],footnote:"Aqu puedes mirarlo sin huir."},{id:"reencuentro",kind:"card",title:`Despus del desahogo,
viene el regreso.`,body:[`No para ser otra persona.
Sino para volver a ti
con menos carga y ms claridad.`],footnote:"Lo que sueltas, no te pierde."},{id:"decision",kind:"final",title:`Concia es
un proceso personal.`,body:[`Nadie te observa.
Nadie te corrige.
Solo t, con lo que aparece.`],footnote:"Puedes salir cuando quieras."}];function r_(e){return["w-full max-w-[340px] rounded-[36px] px-8 py-8 text-center","backdrop-blur-xl ring-1 ring-white/14 shadow-[0_20px_80px_rgba(0,0,0,0.45)]",e==="solid"?"bg-[rgba(234,230,223,0.12)]":"bg-[rgba(234,230,223,0.08)]"].join(" ")}function dp(e){return["inline-flex items-center justify-center select-none",e==="cta"?"w-full rounded-2xl px-6 py-4 text-sm font-semibold tracking-wide":"rounded-full px-6 py-3 text-xs font-semibold tracking-wide","bg-white/10 text-[#EAE6DF] ring-1 ring-white/16 backdrop-blur-md","shadow-[0_14px_40px_rgba(0,0,0,0.35)] transition hover:bg-white/12 active:scale-[0.99]"].join(" ")}function a_(e,t){return r.jsx("div",{className:"flex items-center justify-center gap-2","aria-label":"Progreso",children:Array.from({length:e},(n,i)=>r.jsx("span",{className:["h-1.5 w-1.5 rounded-full transition",i===t?"bg-[#EAE6DF]/85":"bg-[#EAE6DF]/30"].join(" "),"aria-hidden":!0},i))})}function o_(){const e=J(),[t,n]=p.useState(0),i=Wr[t],s=t===Wr.length-1,a=p.useMemo(()=>i.id==="incomodo"?.72:i.id==="reencuentro"?.56:.65,[i.id]);function o(){try{localStorage.setItem(s_,"1")}catch{}}function l(){if(s){o(),e("/planes/elige",{replace:!0});return}n(u=>Math.min(Wr.length-1,u+1))}function c(u){const d=u.target;d&&(d.closest("button,a,input,textarea,select,label")||l())}return r.jsxs("div",{className:"relative min-h-[100svh] text-[#EAE6DF]",onClick:c,children:[r.jsx(Se.div,{className:"absolute inset-0",animate:{scale:[1,1.03]},transition:{duration:38,ease:"linear",repeat:1/0,repeatType:"mirror"},children:r.jsx("img",{src:"./brand/concia-onboarding-bg.png",alt:"","aria-hidden":!0,className:"h-full w-full object-cover",draggable:!1})}),r.jsx("div",{className:"absolute inset-0",style:{backgroundColor:`rgba(30,42,56,${a})`}}),r.jsxs("div",{className:"relative z-10 min-h-[100svh] px-8 pb-10 pt-14 flex flex-col",children:[r.jsx("div",{className:"mt-2",children:a_(Wr.length,t)}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx(or,{mode:"wait",children:r.jsx(Se.div,{initial:{opacity:0,y:10,filter:"blur(2px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-10,filter:"blur(2px)"},transition:{duration:.34,ease:"easeOut"},className:"w-full flex items-center justify-center",children:i.kind==="umbral"?r.jsxs("div",{className:"w-full max-w-[340px] text-center",children:[r.jsx("img",{src:"./brand/concia-favicon.png",alt:"Concia",className:"mx-auto h-16 w-16 object-contain",loading:"eager",draggable:!1}),r.jsx("div",{className:"font-serif text-[44px] tracking-[0.18em]",children:i.title}),r.jsx("div",{className:"mt-6 text-base text-[#EAE6DF]/85",children:i.body[0]})]}):r.jsxs("div",{className:r_(i.kind==="final"?"solid":"soft"),children:[i.eyebrow?r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-[#EAE6DF]/55",children:i.eyebrow}):null,r.jsx("div",{className:"font-serif text-[28px] leading-[1.18]",children:i.title}),r.jsx("div",{className:"mt-6 space-y-4 text-[15px] leading-relaxed text-[#EAE6DF]/80 whitespace-pre-line",children:i.body.map(u=>r.jsx("div",{children:u},u))}),i.footnote&&i.kind!=="final"?r.jsx("div",{className:"mt-7 font-serif italic text-sm text-[#EAE6DF]/65",children:i.footnote}):null]})},i.id)})}),r.jsxs("div",{className:"mt-auto flex flex-col items-center",children:[i.kind==="umbral"&&i.footnote?r.jsx("div",{className:"max-w-[320px] text-center text-sm leading-relaxed text-[#EAE6DF]/80 whitespace-pre-line",children:i.footnote}):null,r.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),l()},className:i.kind==="final"?dp("cta"):dp("small"),children:i.kind==="final"?"Entrar a Concia":"Continuar"}),i.kind==="final"&&i.footnote?r.jsx("div",{className:"mt-4 text-xs text-[#EAE6DF]/60 italic",children:i.footnote}):null]})]})]})}const l_="concia_v1_plan_intent",Dv="concia_v1_pending_subscription",qv="concia_v1_checkout_plan",c_="concia_v1_access_done";function hp(){return["w-full rounded-[34px] px-7 py-6 text-left","bg-[rgba(234,230,223,0.08)] ring-1 ring-white/14 backdrop-blur-xl","shadow-[0_20px_80px_rgba(0,0,0,0.45)] transition hover:bg-[rgba(234,230,223,0.10)] active:scale-[0.995]"].join(" ")}function u_(){return"inline-flex items-center rounded-full bg-white/10 px-3 py-1.5 text-[11px] tracking-[0.18em] text-[#EAE6DF]/75 ring-1 ring-white/14 backdrop-blur-md"}function mp(e){try{localStorage.setItem(l_,e)}catch{}}function pp(){try{localStorage.removeItem(c_)}catch{}}function d_(e){try{localStorage.setItem(qv,e)}catch{}}function h_(){try{localStorage.removeItem(qv)}catch{}}function m_(e){try{localStorage.setItem(Dv,JSON.stringify(e))}catch{}}function p_(){try{localStorage.removeItem(Dv)}catch{}}function f_(){const e=J(),t=xt(),[n,i]=p.useState(!1),s=p.useMemo(()=>new Date().toISOString(),[]);function a(){if(n)return;i(!0),pp();const l=s;t.dispatch({type:"select_plan",plan:"none"}),t.dispatch({type:"start_trial",startedAt:l}),mp("trial_7d"),m_({selectedPlan:"none",trialStartedAt:l}),h_(),e(`/acceso?next=${encodeURIComponent("/inicio")}`,{replace:!0})}function o(){n||(i(!0),pp(),t.dispatch({type:"select_plan",plan:"none"}),t.dispatch({type:"end_trial"}),mp("paid_xmi_total"),d_("xmi_total"),p_(),e(`/acceso?next=${encodeURIComponent("/checkout")}`,{replace:!0}))}return r.jsxs("div",{className:"relative min-h-[100svh] text-[#EAE6DF]",children:[r.jsx(Se.div,{className:"absolute inset-0",animate:{scale:[1,1.03]},transition:{duration:38,ease:"linear",repeat:1/0,repeatType:"mirror"},children:r.jsx("img",{src:"./brand/concia-onboarding-bg.png",alt:"","aria-hidden":!0,className:"h-full w-full object-cover",draggable:!1})}),r.jsx("div",{className:"absolute inset-0 bg-[#1E2A38]/65"}),r.jsxs("div",{className:"relative z-10 min-h-[100svh] px-8 pb-10 pt-14 flex flex-col",children:[r.jsxs("button",{type:"button",onClick:()=>e("/onboarding"),className:"inline-flex items-center gap-2 self-start rounded-full bg-white/10 px-3 py-2 text-xs text-[#EAE6DF]/85 ring-1 ring-white/14 backdrop-blur-md transition hover:bg-white/12",children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]}),r.jsxs("div",{className:"mt-10",children:[r.jsx("div",{className:u_(),children:"SELECCIN"}),r.jsx("div",{className:"mt-4 font-serif text-[28px] leading-[1.12]",children:"Elige cmo entrar"}),r.jsx("div",{className:"mt-3 text-sm text-[#EAE6DF]/70 leading-relaxed",children:"Sin urgencia. Sin truco. Solo decisin clara."})]}),r.jsxs("div",{className:"mt-8 space-y-4",children:[r.jsxs("button",{type:"button",onClick:a,className:hp(),disabled:n,children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-serif text-[22px] leading-[1.15]",children:"Trial 7 das"}),r.jsx("div",{className:"mt-2 text-sm text-[#EAE6DF]/72 leading-relaxed",children:"Acceso completo a Concia Sistema por 7 das. Luego eliges si continas."})]}),r.jsx("div",{className:"shrink-0 text-sm text-[#EAE6DF]/70",children:"Gratis"})]}),r.jsx("div",{className:"mt-5 inline-flex items-center rounded-full bg-white/10 px-4 py-2 text-xs font-semibold tracking-wide text-[#EAE6DF] ring-1 ring-white/14 backdrop-blur-md",children:"Elegir trial"})]}),r.jsxs("button",{type:"button",onClick:o,className:hp(),disabled:n,children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-serif text-[22px] leading-[1.15]",children:"Concia Sistema"}),r.jsx("div",{className:"mt-2 text-sm text-[#EAE6DF]/72 leading-relaxed",children:"Pago directo con Mercado Pago. Cancelas cuando quieras."})]}),r.jsx("div",{className:"shrink-0 text-sm text-[#EAE6DF]/70",children:"$99/mes"})]}),r.jsx("div",{className:"mt-5 inline-flex items-center rounded-full bg-white/10 px-4 py-2 text-xs font-semibold tracking-wide text-[#EAE6DF] ring-1 ring-white/14 backdrop-blur-md",children:"Pagar con Mercado Pago"})]})]}),r.jsx(or,{children:n?r.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"mt-auto pt-10 text-center text-xs text-[#EAE6DF]/65",children:"Preparando"}):r.jsx("div",{className:"mt-auto pt-10 text-center text-xs text-[#EAE6DF]/55",children:"Vas a poder cambiar esto despus."})})]})]})}const Ov="concia_v1_checkout_plan";function g_(){return"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-2 text-xs text-white/85 ring-1 ring-white/10 transition hover:bg-white/12"}function x_(){return"rounded-[34px] bg-[#0b1220]/72 ring-1 ring-white/10 backdrop-blur-xl px-6 pb-6 pt-5 shadow-[0_18px_60px_rgba(0,0,0,0.45)]"}function v_(){return"w-full rounded-2xl bg-[#7D5C6B] px-5 py-4 text-center text-sm font-semibold tracking-wide text-white ring-1 ring-white/15 shadow-[0_14px_40px_rgba(0,0,0,0.35)] transition hover:bg-[#6f5160] active:scale-[0.99] disabled:opacity-60 disabled:pointer-events-none"}function y_(){return"w-full rounded-2xl bg-white/10 px-5 py-4 text-center text-sm font-semibold tracking-wide text-white ring-1 ring-white/12 transition hover:bg-white/12 active:scale-[0.99] disabled:opacity-60 disabled:pointer-events-none"}function w_(){try{const e=localStorage.getItem(Ov)??"";if(e==="xmi_total"||e==="xmi_asistencia")return e}catch{}return"xmi_total"}function j_(){try{localStorage.removeItem(Ov)}catch{}}function b_(e){return e==="xmi_asistencia"?{title:"Concia + Asistencia",price:"$129/mes",subtitle:"Sistema + orientacin humana (terceros)."}:{title:"Concia Sistema",price:"$99/mes",subtitle:"Sistema cognitivo personal. Privado. Sin humanos."}}function N_(){const e=J(),t=xt(),[n,i]=p.useState(!1),[s,a]=p.useState(null),o=p.useMemo(()=>w_(),[]),l=p.useMemo(()=>b_(o),[o]),c=!1;async function u(){if(!n){if(!c){a("Mercado Pago an no est configurado en este entorno.");return}i(!0);try{a("Abriendo Mercado Pago"),a("Pasarela pendiente: necesito tus llaves para conectar el checkout real.")}finally{i(!1)}}}function d(){t.dispatch({type:"select_plan",plan:o}),t.dispatch({type:"end_trial"}),j_(),e("/inicio",{replace:!0})}return r.jsxs("div",{className:"min-h-[100svh] px-6 pb-10 pt-14",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 text-white",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[26px] font-semibold tracking-tight",children:"Pago"}),r.jsx("div",{className:"mt-2 text-sm text-white/65",children:"Checkout con Mercado Pago"})]}),r.jsxs("button",{type:"button",onClick:()=>e("/planes/elige"),className:g_(),children:[r.jsx(qt,{className:"h-4 w-4","aria-hidden":!0}),"Volver"]})]}),r.jsxs("div",{className:"mt-7 space-y-4",children:[r.jsxs("div",{className:x_(),children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 grid h-10 w-10 place-items-center rounded-2xl bg-white/10 ring-1 ring-white/10",children:r.jsx(cj,{className:"h-5 w-5 text-white/80","aria-hidden":!0})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold tracking-tight text-white",children:l.title}),r.jsx("div",{className:"mt-1 text-xs text-white/60",children:l.subtitle})]})]}),r.jsxs("div",{className:"mt-5 rounded-2xl bg-white/6 ring-1 ring-white/10 px-5 py-4",children:[r.jsx("div",{className:"text-[11px] tracking-[0.18em] text-white/55",children:"TOTAL"}),r.jsx("div",{className:"mt-2 text-2xl font-semibold tracking-tight text-white",children:l.price}),r.jsx("div",{className:"mt-2 text-sm text-white/70 leading-relaxed",children:"Pago directo. Cancelas cuando quieras. Sin letras pequeas en el visor."})]}),s?r.jsx("div",{className:"mt-4 text-sm text-white/75",children:s}):null,r.jsxs("div",{className:"mt-5 space-y-2",children:[r.jsx("button",{type:"button",onClick:u,className:v_(),disabled:n,children:"Pagar con Mercado Pago"}),c?null:r.jsx("button",{type:"button",onClick:d,className:y_(),disabled:n,children:"Activar plan (demo)"})]})]}),r.jsx("div",{className:"rounded-3xl bg-[#0b1220]/55 ring-1 ring-white/10 backdrop-blur-md px-5 py-4 text-sm text-white/70 leading-relaxed",children:"Nota: en cuanto me pases las llaves (public key + access token), conecto el checkout real y el retorno de pago."})]})]})}function S_(){return r.jsx(XS,{children:r.jsx(k_,{})})}function k_(){const e=en(),t=e.actorId==="local"?"concia_v1_state":`concia_v1_state_${e.actorId}`;return e.status==="loading"?r.jsx("div",{className:"min-h-screen grid place-items-center bg-alabaster text-outer-space",children:r.jsx("div",{className:"text-sm text-outer-space/70",children:"Cargando"})}):r.jsx(Hw,{storageKey:t,children:r.jsx(mk,{actorId:e.actorId,children:r.jsxs(pw,{children:[r.jsx(H,{path:"/auth/callback",element:r.jsx(EC,{})}),r.jsxs(H,{path:"/",element:r.jsx(mj,{}),children:[r.jsx(H,{index:!0,element:r.jsx(up,{})}),r.jsx(H,{path:"inicio",element:r.jsx(up,{})}),r.jsx(H,{path:"onboarding",element:r.jsx(o_,{})}),r.jsx(H,{path:"planes/elige",element:r.jsx(f_,{})}),r.jsx(H,{path:"checkout",element:r.jsx(N_,{})}),r.jsx(H,{path:"acceso",element:r.jsx(_C,{})}),r.jsx(H,{path:"sesion",element:r.jsx(FC,{})}),r.jsx(H,{path:"mapa",element:r.jsx(_k,{})}),r.jsx(H,{path:"espejo",element:r.jsx(BC,{})}),r.jsx(H,{path:"mas",element:r.jsx($C,{})}),r.jsx(H,{path:"integracion",element:r.jsx(UC,{})}),r.jsx(H,{path:"integracion/compas",element:r.jsx(WC,{})}),r.jsx(H,{path:"integracion/herramientas",element:r.jsx(HC,{})}),r.jsx(H,{path:"integracion/ritual",element:r.jsx(QC,{})}),r.jsx(H,{path:"arquetipos",element:r.jsx(GC,{})}),r.jsx(H,{path:"arquetipos/:id",element:r.jsx(XC,{})}),r.jsx(H,{path:"teatro",element:r.jsx(JC,{})}),r.jsx(H,{path:"crisis",element:r.jsx(ZC,{})}),r.jsx(H,{path:"entrada",element:r.jsx(MC,{})}),r.jsx(H,{path:"descarga",element:r.jsx(AC,{})}),r.jsx(H,{path:"repeticion",element:r.jsx(qC,{})}),r.jsx(H,{path:"hoy",element:r.jsx(ct,{to:"/sesion",replace:!0})}),r.jsx(H,{path:"archivo",element:r.jsx(ct,{to:"/mapa",replace:!0})}),r.jsx(H,{path:"escribir",element:r.jsx(cC,{})}),r.jsx(H,{path:"lecturas",element:r.jsx(pC,{})}),r.jsx(H,{path:"patrones",element:r.jsx(ct,{to:"/mapa",replace:!0})}),r.jsx(H,{path:"patrones/archivo",element:r.jsx(vC,{})}),r.jsx(H,{path:"boveda",element:r.jsx(JS,{})}),r.jsx(H,{path:"caja",element:r.jsx(Zk,{})}),r.jsx(H,{path:"tests",element:r.jsx(NC,{})}),r.jsx(H,{path:"perfil",element:r.jsx(yC,{})}),r.jsx(H,{path:"planes",element:r.jsx(TC,{})}),r.jsx(H,{path:"configuracion",element:r.jsx(iC,{})}),r.jsx(H,{path:"*",element:r.jsx(ct,{to:"/",replace:!0})})]})]})},e.actorId)},t)}function C_({children:e}){return typeof window<"u"&&(window.location.protocol==="file:"||window.location.host==="appassets.androidplatform.net")?r.jsx(Sw,{children:e}):r.jsx(Nw,{children:e})}ml.createRoot(document.getElementById("root")).render(r.jsx(kp.StrictMode,{children:r.jsx(C_,{children:r.jsx(S_,{})})}));
